{"version":3,"file":"index.js","sources":["../../../../packages/js/useTheme/index.ts"],"sourcesContent":["import { useLocalStorageState } from \"ahooks\";\nimport { useEffect } from \"react\";\nimport { ITheme } from \"./type\";\n\nconst useTheme = (props?: ITheme) => {\n\tconst {\n\t\tkey = \"ioca-react-theme\",\n\t\tdefaultValue,\n\t\tlistenStorageChange,\n\t} = props ?? {};\n\tconst [theme, setTheme] = useLocalStorageState<string>(key, {\n\t\tdefaultValue: defaultValue ?? \"\",\n\t\tlistenStorageChange,\n\t});\n\n\tuseEffect(() => {\n\t\tconst cls = document.documentElement.classList;\n\t\tconst cns = Array.from(cls);\n\t\tconst pre = cns.find((n) => n.startsWith(\"theme-\")) ?? \"\";\n\n\t\tif (pre) {\n\t\t\tcls.replace(pre, theme || \"theme-auto\");\n\t\t\treturn;\n\t\t}\n\n\t\ttheme && cls.add(theme);\n\t}, [theme]);\n\n\treturn {\n\t\ttheme,\n\t\tsetTheme,\n\t};\n};\n\nexport default useTheme;\n"],"names":["useLocalStorageState","useEffect"],"mappings":";;;;;;;AAIA,MAAM,QAAQ,GAAG,CAAC,KAAc,KAAI;AACnC,IAAA,MAAM,EACL,GAAG,GAAG,kBAAkB,EACxB,YAAY,EACZ,mBAAmB,GACnB,GAAG,KAAK,IAAI,EAAE;IACf,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAGA,2BAAoB,CAAS,GAAG,EAAE;QAC3D,YAAY,EAAE,YAAY,IAAI,EAAE;QAChC,mBAAmB;AACnB,KAAA,CAAC;IAEFC,eAAS,CAAC,MAAK;AACd,QAAA,MAAM,GAAG,GAAG,QAAQ,CAAC,eAAe,CAAC,SAAS;QAC9C,MAAM,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC;QAC3B,MAAM,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE;QAEzD,IAAI,GAAG,EAAE;YACR,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,IAAI,YAAY,CAAC;YACvC;;AAGD,QAAA,KAAK,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC;AACxB,KAAC,EAAE,CAAC,KAAK,CAAC,CAAC;IAEX,OAAO;QACN,KAAK;QACL,QAAQ;KACR;AACF;;;;"}