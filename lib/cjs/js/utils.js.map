{"version":3,"file":"utils.js","sources":["../../../packages/js/utils.ts"],"sourcesContent":["import type { MouseEvent } from \"react\";\r\nimport { ReactNode, useEffect, useRef, useState } from \"react\";\r\nimport { Root, createRoot } from \"react-dom/client\";\r\nimport type { TOption, TOptions, TRelativeOptions } from \"../type\";\r\n\r\ntype TComputePosition = {\r\n\tcontainerSize: number;\r\n\ttargetSize: number;\r\n\ttargetOffset: number;\r\n\tcontentSize: number;\r\n\tgap: number;\r\n\talign?: \"start\" | \"center\" | \"end\";\r\n};\r\n\r\nexport function getPosition(\r\n\t$source?: HTMLElement | null,\r\n\t$popup?: HTMLElement | null,\r\n\toptions: TRelativeOptions = {}\r\n): [\r\n\tx: number,\r\n\ty: number,\r\n\tz: {\r\n\t\tarrowX: number;\r\n\t\tarrowY: number;\r\n\t\tarrowPos: string;\r\n\t}\r\n] {\r\n\tconst { refWindow, gap = 0, offset = 0, position = \"top\", align } = options;\r\n\r\n\tif (!$source || !$popup)\r\n\t\treturn [\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\t{\r\n\t\t\t\tarrowX: 0,\r\n\t\t\t\tarrowY: 0,\r\n\t\t\t\tarrowPos: \"bottom\",\r\n\t\t\t},\r\n\t\t];\r\n\r\n\tconst rectT = $source.getBoundingClientRect();\r\n\tconst rectC = $popup.getBoundingClientRect();\r\n\r\n\tlet w = window.innerWidth;\r\n\tlet h = window.innerHeight;\r\n\tlet {\r\n\t\tleft: tl,\r\n\t\ttop: tt,\r\n\t\tright: tr,\r\n\t\tbottom: tb,\r\n\t\twidth: tw,\r\n\t\theight: th,\r\n\t} = rectT;\r\n\tconst { height: ch, width: cw } = rectC;\r\n\r\n\tif (!refWindow) {\r\n\t\tconst rectPa = $source.offsetParent?.getBoundingClientRect();\r\n\r\n\t\tw = rectPa?.width || w;\r\n\t\th = rectPa?.height || h;\r\n\t\ttl = $source.offsetLeft;\r\n\t\ttt = $source.offsetTop;\r\n\t\ttr = tl + rectT.width;\r\n\t\ttb = tt + rectT.height;\r\n\t}\r\n\r\n\tlet y = 0;\r\n\tlet x = 0;\r\n\tlet arrowX = 0;\r\n\tlet arrowY = 0;\r\n\tlet arrowPos = \"bottom\";\r\n\r\n\tswitch (position) {\r\n\t\tcase \"left\":\r\n\t\tcase \"right\":\r\n\t\t\ty =\r\n\t\t\t\tth !== ch\r\n\t\t\t\t\t? computePosition({\r\n\t\t\t\t\t\t\tcontainerSize: h,\r\n\t\t\t\t\t\t\ttargetSize: th,\r\n\t\t\t\t\t\t\ttargetOffset: tt,\r\n\t\t\t\t\t\t\tcontentSize: ch,\r\n\t\t\t\t\t\t\tgap,\r\n\t\t\t\t\t\t\talign,\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t: tt;\r\n\t\t\tarrowY = y < tt ? tt - y + th / 2 : th / 2;\r\n\r\n\t\t\tconst xl = tl - offset - cw;\r\n\t\t\tconst xr = tr + offset + cw;\r\n\r\n\t\t\tif (position === \"left\") {\r\n\t\t\t\tconst R = xl < 0 && xr <= w;\r\n\t\t\t\tx = R ? tr + offset : xl;\r\n\t\t\t\tarrowX = R ? 0 : cw;\r\n\t\t\t\tarrowPos = R ? \"left\" : \"right\";\r\n\t\t\t} else {\r\n\t\t\t\tconst R = w > xr || xl < 0;\r\n\t\t\t\tx = R ? tr + offset : xl;\r\n\t\t\t\tarrowX = R ? 0 : cw;\r\n\t\t\t\tarrowPos = R ? \"left\" : \"right\";\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\t\tcase \"top\":\r\n\t\tcase \"bottom\":\r\n\t\t\tx =\r\n\t\t\t\ttw !== cw\r\n\t\t\t\t\t? computePosition({\r\n\t\t\t\t\t\t\tcontainerSize: w,\r\n\t\t\t\t\t\t\ttargetOffset: tl,\r\n\t\t\t\t\t\t\ttargetSize: tw,\r\n\t\t\t\t\t\t\tcontentSize: cw,\r\n\t\t\t\t\t\t\tgap,\r\n\t\t\t\t\t\t\talign,\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t: tl;\r\n\t\t\tarrowX = x > tl ? cw / 2 : tl - x + tw / 2;\r\n\r\n\t\t\tconst yt = tt - offset - ch;\r\n\t\t\tconst yb = tb + offset + ch;\r\n\t\t\tif (position === \"top\") {\r\n\t\t\t\tconst T = yt < 0 && yb <= h;\r\n\t\t\t\ty = T ? tb + offset : yt;\r\n\t\t\t\tarrowY = T ? 0 : ch;\r\n\t\t\t\tarrowPos = T ? \"top\" : \"bottom\";\r\n\t\t\t} else {\r\n\t\t\t\tconst B = h > yb || yt < 0;\r\n\t\t\t\ty = B ? tb + offset : yt;\r\n\t\t\t\tarrowY = B ? 0 : ch;\r\n\t\t\t\tarrowPos = B ? \"top\" : \"bottom\";\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\treturn [\r\n\t\tx,\r\n\t\ty,\r\n\t\t{\r\n\t\t\tarrowX,\r\n\t\t\tarrowY,\r\n\t\t\tarrowPos,\r\n\t\t},\r\n\t];\r\n}\r\n\r\nexport function getPointPosition(e: MouseEvent, content: HTMLElement) {\r\n\tconst { width: w, height: h } = content.getBoundingClientRect();\r\n\tconst parent = content.offsetParent;\r\n\tlet pw,\r\n\t\tph,\r\n\t\tpl = 0,\r\n\t\tpt = 0;\r\n\r\n\tif (parent) {\r\n\t\tconst {\r\n\t\t\twidth: ow,\r\n\t\t\theight: oh,\r\n\t\t\tleft: ol,\r\n\t\t\ttop: ot,\r\n\t\t} = parent.getBoundingClientRect();\r\n\t\tconst st = parent.scrollTop ?? 0;\r\n\r\n\t\tpw = ow;\r\n\t\tph = oh;\r\n\t\tpt = ot - st;\r\n\t\tpl = ol;\r\n\t} else {\r\n\t\tpw = window.innerWidth;\r\n\t\tph = window.innerHeight;\r\n\t}\r\n\tconst x = e.pageX - pl;\r\n\tconst y = e.pageY - pt;\r\n\r\n\tconst left = x + w >= pw ? (x - w > 0 ? x - w : x) : x;\r\n\tconst top = y + h >= ph ? (y - h > 0 ? y - h : y) : y;\r\n\r\n\treturn [left, top];\r\n}\r\n\r\nfunction computePosition({\r\n\tcontainerSize,\r\n\ttargetSize,\r\n\ttargetOffset,\r\n\tcontentSize,\r\n\tgap,\r\n\talign = \"center\",\r\n}: TComputePosition) {\r\n\tconst centerPoint = targetOffset + targetSize / 2;\r\n\r\n\tswitch (align) {\r\n\t\tcase \"start\":\r\n\t\t\treturn targetOffset + contentSize > containerSize\r\n\t\t\t\t? containerSize - contentSize - gap\r\n\t\t\t\t: targetOffset;\r\n\t\tcase \"center\":\r\n\t\t\tif (targetSize >= contentSize) {\r\n\t\t\t\treturn centerPoint - contentSize / 2;\r\n\t\t\t}\r\n\r\n\t\t\tif (centerPoint + contentSize / 2 + gap > containerSize) {\r\n\t\t\t\treturn targetOffset + targetSize - contentSize;\r\n\t\t\t}\r\n\r\n\t\t\tif (centerPoint - contentSize / 2 - gap < 0) {\r\n\t\t\t\treturn gap;\r\n\t\t\t}\r\n\r\n\t\t\treturn centerPoint - contentSize / 2;\r\n\t\tcase \"end\":\r\n\t\t\tconst result = targetOffset + targetSize - contentSize;\r\n\t\t\treturn result > 0 ? result : gap;\r\n\t\tdefault:\r\n\t\t\treturn centerPoint - contentSize / 2;\r\n\t}\r\n}\r\n\r\nexport function formatOption(options: TOptions): TOption[] {\r\n\treturn options.map((option) =>\r\n\t\t[\"string\", \"number\"].includes(typeof option)\r\n\t\t\t? { label: option, value: option }\r\n\t\t\t: option\r\n\t) as TOption[];\r\n}\r\n\r\nexport function animate(\r\n\tfrom: number,\r\n\tto: number,\r\n\tduration: number = 1000,\r\n\tcallback?: (v: number) => void,\r\n\teasing: (t: number) => number = (t) => 1 - Math.pow(1 - t, 4)\r\n) {\r\n\tconst start = performance.now();\r\n\tconst diff = to - from;\r\n\tlet raf = requestAnimationFrame(loop);\r\n\r\n\tfunction loop() {\r\n\t\traf = requestAnimationFrame(loop);\r\n\r\n\t\tconst past = performance.now() - start;\r\n\t\tlet percent = past / duration;\r\n\r\n\t\tif (percent >= 1) {\r\n\t\t\tpercent = 1;\r\n\t\t\tcancelAnimationFrame(raf);\r\n\t\t}\r\n\r\n\t\tconst pass = diff * easing(percent);\r\n\t\tcallback?.(pass);\r\n\t}\r\n}\r\n\r\nexport function formatNumber(\r\n\tvalue: number,\r\n\toptions: {\r\n\t\tprecision?: number;\r\n\t\tthousand?: string;\r\n\t} = {}\r\n) {\r\n\tconst { precision, thousand } = options;\r\n\r\n\tconst result = value.toFixed(precision);\r\n\r\n\tif (!thousand) return result;\r\n\r\n\tconst points = result.split(\".\");\r\n\tconst integer = points[0].replace(\r\n\t\t/\\d{1,3}(?=(\\d{3})+(\\.\\d*)?$)/g,\r\n\t\t`$&${thousand}`\r\n\t);\r\n\r\n\tif (points.length === 1) return integer;\r\n\r\n\treturn `${integer}.${points[1]}`;\r\n}\r\n\r\nexport function renderNode(node: ReactNode, container = document.body) {\r\n\tconst div: HTMLDivElement | null = document.createElement(\"div\");\r\n\tcontainer.append(div);\r\n\r\n\tconst root: Root | null = createRoot(div);\r\n\tconst sto = setTimeout(() => {\r\n\t\troot?.render(node);\r\n\t}, 0);\r\n\r\n\treturn () => {\r\n\t\tdiv?.remove();\r\n\t\troot?.unmount();\r\n\t\tsto && clearTimeout(sto);\r\n\t};\r\n}\r\n\r\nexport function getSuffixByUrl(url: string) {\r\n\treturn url.match(/\\.([^\\./\\?]+)($|\\?)/)?.[1];\r\n}\r\n\r\nexport function getFileType(suffix: string, type?: string) {\r\n\tswitch (true) {\r\n\t\tcase [\r\n\t\t\t\"jpg\",\r\n\t\t\t\"jpeg\",\r\n\t\t\t\"png\",\r\n\t\t\t\"webp\",\r\n\t\t\t\"svg\",\r\n\t\t\t\"avif\",\r\n\t\t\t\"heif\",\r\n\t\t\t\"heic\",\r\n\t\t\t\"apng\",\r\n\t\t\t\"bmp\",\r\n\t\t\t\"ico\",\r\n\t\t].includes(suffix) || type?.startsWith(\"image/\"):\r\n\t\t\treturn \"IMAGE\";\r\n\t\tcase [\r\n\t\t\t\"mp4\",\r\n\t\t\t\"avi\",\r\n\t\t\t\"webm\",\r\n\t\t\t\"ogv\",\r\n\t\t\t\"mov\",\r\n\t\t\t\"mkv\",\r\n\t\t\t\"mpd\",\r\n\t\t\t\"m3u8\",\r\n\t\t].includes(suffix) || type?.startsWith(\"video/\"):\r\n\t\t\treturn \"VIDEO\";\r\n\t\tdefault:\r\n\t\t\treturn \"UNKNOWN\";\r\n\t}\r\n}\r\n\r\nexport function fullScreen(el: HTMLElement) {\r\n\tel.requestFullscreen?.();\r\n}\r\n\r\nexport function exitFullScreen() {\r\n\tdocument.exitFullscreen?.();\r\n}\r\n\r\nexport function formatTime(\r\n\ttime: number,\r\n\toptions?: {\r\n\t\tzero?: boolean;\r\n\t\tunits?: string[];\r\n\t}\r\n) {\r\n\tconst result: string[] = [];\r\n\tconst { zero = true, units = [\"\", \":\", \":\"] } = options || {};\r\n\r\n\tconst l = units.length;\r\n\tlet i = 0;\r\n\r\n\twhile (i < l) {\r\n\t\tif (time <= 0 && i > 1) break;\r\n\r\n\t\tconst n = Math.round(time % 60);\r\n\r\n\t\ttime = Math.floor(time / 60);\r\n\r\n\t\tresult.unshift((zero && n < 10 ? `0${n}` : n) + units[i++]);\r\n\t}\r\n\r\n\treturn result.join(\"\");\r\n}\r\n\r\nexport function getNextSorter(\r\n\tprevSortBy: string,\r\n\tprevSortType: string,\r\n\tsortBy: string\r\n): [sortBy: string, sortType: string] {\r\n\tconst types = [\"desc\", \"asc\"];\r\n\r\n\tif (prevSortBy === sortBy) {\r\n\t\tconst i = types.findIndex((t) => t === prevSortType) + 1;\r\n\t\tconst type = types[i] || \"\";\r\n\t\tconst by = type === \"\" ? \"\" : sortBy;\r\n\r\n\t\treturn [by, type];\r\n\t}\r\n\r\n\treturn [sortBy, \"desc\"];\r\n}\r\n\r\nexport function formatBytes(bytes: number, decimals = 2) {\r\n\tif (!+bytes) return \"0 Bytes\";\r\n\r\n\tconst k = 1024;\r\n\tconst dm = decimals < 0 ? 0 : decimals;\r\n\tconst sizes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\r\n\r\n\tconst i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n\treturn `${parseFloat((bytes / Math.pow(k, i)).toFixed(dm))} ${sizes[i]}`;\r\n}\r\n\r\nexport function clamp(value: number, min: number, max: number) {\r\n\treturn value < min ? min : value > max ? max : value;\r\n}\r\n\r\nexport const arrayMove = (array, fromIndex: number, toIndex: number) => {\r\n\tif (toIndex >= array.length) {\r\n\t\tlet k = toIndex - array.length + 1;\r\n\t\twhile (k--) {\r\n\t\t\tarray.push(undefined);\r\n\t\t}\r\n\t}\r\n\tarray.splice(toIndex, 0, array.splice(fromIndex, 1)[0]);\r\n\treturn array;\r\n};\r\n\r\ntype ReactiveObject<T> = T & { __isReactive?: boolean };\r\n\r\nexport function useReactive<T extends object>(\r\n\tinitialState: T\r\n): ReactiveObject<T> {\r\n\tconst [, setState] = useState<number>(0);\r\n\tconst reactiveState = useRef<ReactiveObject<T>>(initialState);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!reactiveState.current.__isReactive) {\r\n\t\t\treactiveState.current = createReactiveObject(\r\n\t\t\t\treactiveState.current,\r\n\t\t\t\tsetState\r\n\t\t\t);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn reactiveState.current;\r\n}\r\n\r\nfunction createReactiveObject<T extends object>(\r\n\ttarget: T,\r\n\tsetState: React.Dispatch<React.SetStateAction<number>>\r\n): ReactiveObject<T> {\r\n\treturn new Proxy(target, {\r\n\t\tget(obj, prop) {\r\n\t\t\tif (prop === \"__isReactive\") return true;\r\n\t\t\treturn Reflect.get(obj, prop);\r\n\t\t},\r\n\t\tset(obj, prop, value) {\r\n\t\t\tconst result = Reflect.set(obj, prop, value);\r\n\t\t\tsetState((prev) => prev + 1); // Trigger re-render\r\n\t\t\treturn result;\r\n\t\t},\r\n\t}) as ReactiveObject<T>;\r\n}\r\n\r\nexport default useReactive;\r\n"],"names":["createRoot"],"mappings":"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"}