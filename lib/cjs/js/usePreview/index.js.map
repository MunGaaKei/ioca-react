{"version":3,"file":"index.js","sources":["../../../../packages/js/usePreview/index.tsx"],"sourcesContent":["import { useRef } from \"react\";\r\nimport HookModal from \"../../components/modal/hookModal\";\r\nimport type { RefHookModal } from \"../../components/modal/type\";\r\nimport { renderNode } from \"../utils\";\r\nimport Content from \"./content\";\r\nimport \"./index.css\";\r\nimport type { IPreview } from \"./type\";\r\n\r\nexport default function usePreview() {\r\n\tconst ref = useRef<RefHookModal>(null);\r\n\r\n\tconst preview = (config: IPreview) => {\r\n\t\tconst { items, modalProps, onClose, ...restProps } = config;\r\n\r\n\t\tconst handleClose = () => {\r\n\t\t\tonClose?.();\r\n\t\t\tunMount?.();\r\n\t\t};\r\n\r\n\t\tconst unMount = renderNode(\r\n\t\t\t<HookModal\r\n\t\t\t\tref={ref}\r\n\t\t\t\tvisible\r\n\t\t\t\tclassName='i-preview'\r\n\t\t\t\tcustomized\r\n\t\t\t\thideShadow\r\n\t\t\t\t{...modalProps}\r\n\t\t\t\tchildren={\r\n\t\t\t\t\t<Content\r\n\t\t\t\t\t\t{...restProps}\r\n\t\t\t\t\t\titems={items}\r\n\t\t\t\t\t\tonClose={() => {\r\n\t\t\t\t\t\t\tref.current?.update({ visible: false });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t\tfixed\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t/>\r\n\t\t);\r\n\t};\r\n\r\n\treturn preview;\r\n}\r\n"],"names":["useRef","renderNode","_jsx","HookModal","Content"],"mappings":";;;;;;;;;;AAQc,SAAU,UAAU,GAAA;AACjC,IAAA,MAAM,GAAG,GAAGA,YAAM,CAAe,IAAI,CAAC;AAEtC,IAAA,MAAM,OAAO,GAAG,CAAC,MAAgB,KAAI;AACpC,QAAA,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE,GAAG,SAAS,EAAE,GAAG,MAAM;QAE3D,MAAM,WAAW,GAAG,MAAK;YACxB,OAAO,IAAI;YACX,OAAO,IAAI;AACZ,SAAC;AAED,QAAA,MAAM,OAAO,GAAGC,gBAAU,CACzBC,cAAA,CAACC,iBAAS,EACT,EAAA,GAAG,EAAE,GAAG,EACR,OAAO,EAAA,IAAA,EACP,SAAS,EAAC,WAAW,EACrB,UAAU,EACV,IAAA,EAAA,UAAU,WACN,UAAU,EACd,QAAQ,EACPD,eAACE,eAAO,EAAA,EAAA,GACH,SAAS,EACb,KAAK,EAAE,KAAK,EACZ,OAAO,EAAE,MAAK;oBACb,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;iBACvC,EAAA,CACA,EAEH,KAAK,EAAA,IAAA,EACL,OAAO,EAAE,WAAW,EACnB,CAAA,CACF;AACF,KAAC;AAED,IAAA,OAAO,OAAO;AACf;;;;"}