{"version":3,"file":"checkbox.js","sources":["../../../../packages/components/checkbox/checkbox.tsx"],"sourcesContent":["import { useReactive } from \"ahooks\";\r\nimport classNames from \"classnames\";\r\nimport { useEffect, useMemo } from \"react\";\r\nimport \"../../css/input.css\";\r\nimport { formatOption } from \"../../js/utils\";\r\nimport \"./index.css\";\r\nimport CheckboxItem from \"./item\";\r\nimport type { ICheckbox } from \"./type\";\r\n\r\nfunction Checkbox(props: ICheckbox) {\r\n\tconst {\r\n\t\tlabel,\r\n\t\tname,\r\n\t\toptions = [],\r\n\t\tvalue = \"\",\r\n\t\ttype = \"default\",\r\n\t\toptionInline = true,\r\n\t\tlabelInline,\r\n\t\tdisabled,\r\n\t\tstatus = \"normal\",\r\n\t\tmessage,\r\n\t\trequired,\r\n\t\tclassName,\r\n\t\trenderItem,\r\n\t\tonChange,\r\n\t\t...restProps\r\n\t} = props;\r\n\r\n\tconst state = useReactive<{\r\n\t\tvalue: any;\r\n\t}>({\r\n\t\tvalue,\r\n\t});\r\n\r\n\tconst formattedOptions = useMemo(() => formatOption(options), [options]);\r\n\r\n\tconst handleChange = (checked, opt, e) => {\r\n\t\tconst group = [...state.value];\r\n\t\tconst i = group.findIndex((item) => item === opt.value);\r\n\r\n\t\tif (checked && i < 0) {\r\n\t\t\tgroup.push(opt.value);\r\n\t\t} else if (!checked && i > -1) {\r\n\t\t\tgroup.splice(i, 1);\r\n\t\t}\r\n\r\n\t\tstate.value = group;\r\n\t\tonChange?.(group, opt, e);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tstate.value = value;\r\n\t}, [value]);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={classNames(\r\n\t\t\t\t\"i-checkbox i-input-label\",\r\n\t\t\t\t{\r\n\t\t\t\t\t[`i-checkbox-${status}`]: status !== \"normal\",\r\n\t\t\t\t\t\"i-input-inline\": labelInline,\r\n\t\t\t\t},\r\n\r\n\t\t\t\tclassName\r\n\t\t\t)}\r\n\t\t\t{...restProps}\r\n\t\t>\r\n\t\t\t{label && (\r\n\t\t\t\t<span className='i-input-label-text'>\r\n\t\t\t\t\t{required && <span className='error'>*</span>}\r\n\t\t\t\t\t{label}\r\n\r\n\t\t\t\t\t{message && <p className='i-checkbox-message'>{message}</p>}\r\n\t\t\t\t</span>\r\n\t\t\t)}\r\n\r\n\t\t\t<div\r\n\t\t\t\tclassName={classNames(\"i-checkbox-options\", {\r\n\t\t\t\t\t\"i-options-block\": !optionInline,\r\n\t\t\t\t\t\"i-checkbox-options-button\": type === \"button\",\r\n\t\t\t\t})}\r\n\t\t\t>\r\n\t\t\t\t{formattedOptions.map((option) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<CheckboxItem\r\n\t\t\t\t\t\t\tkey={option.value as string}\r\n\t\t\t\t\t\t\tname={name}\r\n\t\t\t\t\t\t\tvalue={state.value.includes(option.value)}\r\n\t\t\t\t\t\t\toptionValue={option.value}\r\n\t\t\t\t\t\t\ttype={type}\r\n\t\t\t\t\t\t\tdisabled={disabled || option.disabled}\r\n\t\t\t\t\t\t\tonChange={(checked, e) =>\r\n\t\t\t\t\t\t\t\thandleChange(checked, option, e)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{renderItem ?? option.label}\r\n\t\t\t\t\t\t</CheckboxItem>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nCheckbox.Item = CheckboxItem;\r\n\r\nexport default Checkbox;\r\n"],"names":["useReactive","useMemo","formatOption","useEffect","_jsxs","classNames","_jsx","CheckboxItem"],"mappings":"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"}