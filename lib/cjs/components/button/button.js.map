{"version":3,"file":"button.js","sources":["../../../../packages/components/button/button.tsx"],"sourcesContent":["import classnames from \"classnames\";\r\nimport { MouseEvent, createElement, useEffect } from \"react\";\r\nimport useRipple from \"../../js/useRipple\";\r\nimport Loading from \"../loading\";\r\nimport Confirm from \"./confirm\";\r\nimport Group from \"./group\";\r\nimport \"./index.css\";\r\nimport Toggle from \"./toggle\";\r\nimport { CompositionButton, IButton } from \"./type\";\r\n\r\nconst formatClass = ({\r\n\toutline,\r\n\tflat,\r\n\tloading,\r\n\tdisabled,\r\n\tsize = \"normal\",\r\n\tblock,\r\n\tround,\r\n\tsquare,\r\n\tsecondary,\r\n\tclassName,\r\n}: IButton) =>\r\n\tclassnames(\"i-btn\", className, {\r\n\t\t\"i-btn-outline\": outline,\r\n\t\t\"i-btn-flat\": flat,\r\n\t\t\"i-btn-block\": block,\r\n\t\t\"i-btn-loading\": loading,\r\n\t\t\"i-btn-square\": square,\r\n\t\t\"i-btn-secondary\": secondary,\r\n\t\t[`i-btn-${size}`]: size !== \"normal\",\r\n\t\tround,\r\n\t\tdisabled,\r\n\t});\r\n\r\nconst Button = (props: IButton) => {\r\n\tconst {\r\n\t\tas: As = \"a\",\r\n\t\tref,\r\n\t\tchildren,\r\n\t\tclassName,\r\n\t\tloading,\r\n\t\tflat,\r\n\t\toutline,\r\n\t\tsquare,\r\n\t\tsecondary,\r\n\t\tsize,\r\n\t\tround,\r\n\t\thref,\r\n\t\tripple = true,\r\n\t\tonClick,\r\n\t\t...restProps\r\n\t} = props;\r\n\r\n\tconst handleClick = (e: MouseEvent<HTMLElement>) => {\r\n\t\tif (loading || restProps.disabled) {\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonClick?.(e);\r\n\t};\r\n\r\n\tif (!children) return <></>;\r\n\r\n\tconst childNodes = [\r\n\t\tloading && <Loading key='loading' />,\r\n\t\tcreateElement(\r\n\t\t\t\"span\",\r\n\t\t\t{ key: \"content\", className: \"i-btn-content\" },\r\n\t\t\tchildren\r\n\t\t),\r\n\t];\r\n\r\n\tconst attrs = {\r\n\t\tclassName: formatClass(props),\r\n\t\t[\"data-ripple\"]:\r\n\t\t\tripple && !loading && !restProps.disabled ? \"\" : undefined,\r\n\t\tonClick: handleClick,\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tripple && useRipple();\r\n\t}, [ripple]);\r\n\r\n\tif (typeof As === \"string\") {\r\n\t\treturn createElement(\r\n\t\t\tAs,\r\n\t\t\t{\r\n\t\t\t\tref,\r\n\t\t\t\thref,\r\n\t\t\t\t...attrs,\r\n\t\t\t\t...restProps,\r\n\t\t\t},\r\n\t\t\tchildNodes\r\n\t\t);\r\n\t}\r\n\r\n\treturn createElement(\r\n\t\tAs,\r\n\t\t{\r\n\t\t\tto: href || \"\",\r\n\t\t\t...attrs,\r\n\t\t\t...restProps,\r\n\t\t},\r\n\t\tchildNodes\r\n\t);\r\n};\r\n\r\nButton.Toggle = Toggle;\r\nButton.Confirm = Confirm;\r\nButton.Group = Group;\r\n\r\nexport default Button as CompositionButton;\r\n"],"names":["classnames","loading","_jsx","Loading","createElement","useEffect","useRipple","Toggle","Confirm","Group"],"mappings":";;;;;;;;;;;;;;;;;AAUA,MAAM,WAAW,GAAG,CAAC,EACpB,OAAO,EACP,IAAI,EACJ,OAAO,EACP,QAAQ,EACR,IAAI,GAAG,QAAQ,EACf,KAAK,EACL,KAAK,EACL,MAAM,EACN,SAAS,EACT,SAAS,GACA,KACTA,mBAAU,CAAC,OAAO,EAAE,SAAS,EAAE;AAC9B,IAAA,eAAe,EAAE,OAAO;AACxB,IAAA,YAAY,EAAE,IAAI;AAClB,IAAA,aAAa,EAAE,KAAK;AACpB,IAAA,eAAe,EAAE,OAAO;AACxB,IAAA,cAAc,EAAE,MAAM;AACtB,IAAA,iBAAiB,EAAE,SAAS;AAC5B,IAAA,CAAC,SAAS,IAAI,CAAA,CAAE,GAAG,IAAI,KAAK,QAAQ;IACpC,KAAK;IACL,QAAQ;AACR,CAAA,CAAC;AAEH,MAAM,MAAM,GAAG,CAAC,KAAc,KAAI;AACjC,IAAA,MAAM,EACL,EAAE,EAAE,EAAE,GAAG,GAAG,EACZ,GAAG,EACH,QAAQ,EACR,SAAS,WACTC,SAAO,EACP,IAAI,EACJ,OAAO,EACP,MAAM,EACN,SAAS,EACT,IAAI,EACJ,KAAK,EACL,IAAI,EACJ,MAAM,GAAG,IAAI,EACb,OAAO,EACP,GAAG,SAAS,EACZ,GAAG,KAAK;AAET,IAAA,MAAM,WAAW,GAAG,CAAC,CAA0B,KAAI;AAClD,QAAA,IAAIA,SAAO,IAAI,SAAS,CAAC,QAAQ,EAAE;YAClC,CAAC,CAAC,eAAe,EAAE;YACnB,CAAC,CAAC,cAAc,EAAE;YAClB;;AAGD,QAAA,OAAO,GAAG,CAAC,CAAC;AACb,KAAC;AAED,IAAA,IAAI,CAAC,QAAQ;AAAE,QAAA,OAAOC,uCAAK;AAE3B,IAAA,MAAM,UAAU,GAAG;AAClB,QAAAD,SAAO,IAAIC,cAAA,CAACC,eAAO,EAAA,EAAA,EAAK,SAAS,CAAG;AACpC,QAAAC,mBAAa,CACZ,MAAM,EACN,EAAE,GAAG,EAAE,SAAS,EAAE,SAAS,EAAE,eAAe,EAAE,EAC9C,QAAQ,CACR;KACD;AAED,IAAA,MAAM,KAAK,GAAG;AACb,QAAA,SAAS,EAAE,WAAW,CAAC,KAAK,CAAC;AAC7B,QAAA,CAAC,aAAa,GACb,MAAM,IAAI,CAACH,SAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,EAAE,GAAG,SAAS;AAC3D,QAAA,OAAO,EAAE,WAAW;KACpB;IAEDI,eAAS,CAAC,MAAK;QACd,MAAM,IAAIC,aAAS,EAAE;AACtB,KAAC,EAAE,CAAC,MAAM,CAAC,CAAC;AAEZ,IAAA,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;QAC3B,OAAOF,mBAAa,CACnB,EAAE,EACF;YACC,GAAG;YACH,IAAI;AACJ,YAAA,GAAG,KAAK;AACR,YAAA,GAAG,SAAS;SACZ,EACD,UAAU,CACV;;IAGF,OAAOA,mBAAa,CACnB,EAAE,EACF;QACC,EAAE,EAAE,IAAI,IAAI,EAAE;AACd,QAAA,GAAG,KAAK;AACR,QAAA,GAAG,SAAS;KACZ,EACD,UAAU,CACV;AACF;AAEA,MAAM,CAAC,MAAM,GAAGG,cAAM;AACtB,MAAM,CAAC,OAAO,GAAGC,eAAO;AACxB,MAAM,CAAC,KAAK,GAAGC,aAAK;;;;"}