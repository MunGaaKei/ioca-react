{"version":3,"file":"highlight.js","sources":["../../../../packages/components/text/highlight.tsx"],"sourcesContent":["import { findAll } from \"highlight-words-core\";\r\nimport { Fragment, useMemo } from \"react\";\r\nimport Text from \"./text\";\r\nimport { ITextHighLight } from \"./type\";\r\n\r\nexport default function HighLight(props: ITextHighLight) {\r\n\tconst {\r\n\t\tkeyword,\r\n\t\ttext,\r\n\t\tescape,\r\n\t\tcaseSensitive,\r\n\t\trenderWord = (word) => <mark>{word}</mark>,\r\n\t\t...restProps\r\n\t} = props;\r\n\r\n\tconst content = useMemo(() => {\r\n\t\tconst source = text;\r\n\t\tconst searchWords = typeof keyword === \"string\" ? [keyword] : keyword;\r\n\r\n\t\tconst chunks = findAll({\r\n\t\t\tsearchWords,\r\n\t\t\ttextToHighlight: text,\r\n\t\t\tcaseSensitive,\r\n\t\t\tautoEscape: escape,\r\n\t\t});\r\n\r\n\t\tconst result = chunks.map((chunk, i) => {\r\n\t\t\tconst { end, highlight, start } = chunk;\r\n\t\t\tconst word = source.slice(start, end);\r\n\r\n\t\t\treturn highlight ? (\r\n\t\t\t\t<Fragment key={i}>{renderWord(word)}</Fragment>\r\n\t\t\t) : (\r\n\t\t\t\tword\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn result;\r\n\t}, [keyword, text, escape, caseSensitive]);\r\n\r\n\treturn <Text {...restProps}>{content}</Text>;\r\n}\r\n"],"names":["text","_jsx","useMemo","findAll","Fragment","Text"],"mappings":";;;;;;;;;AAKwB,SAAA,SAAS,CAAC,KAAqB,EAAA;IACtD,MAAM,EACL,OAAO,QACPA,MAAI,EACJ,MAAM,EACN,aAAa,EACb,UAAU,GAAG,CAAC,IAAI,KAAKC,cAAA,CAAA,MAAA,EAAA,EAAA,QAAA,EAAO,IAAI,EAAA,CAAQ,EAC1C,GAAG,SAAS,EACZ,GAAG,KAAK;AAET,IAAA,MAAM,OAAO,GAAGC,aAAO,CAAC,MAAK;QAC5B,MAAM,MAAM,GAAGF,MAAI;AACnB,QAAA,MAAM,WAAW,GAAG,OAAO,OAAO,KAAK,QAAQ,GAAG,CAAC,OAAO,CAAC,GAAG,OAAO;QAErE,MAAM,MAAM,GAAGG,0BAAO,CAAC;YACtB,WAAW;AACX,YAAA,eAAe,EAAEH,MAAI;YACrB,aAAa;AACb,YAAA,UAAU,EAAE,MAAM;AAClB,SAAA,CAAC;QAEF,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC,KAAI;YACtC,MAAM,EAAE,GAAG,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,KAAK;YACvC,MAAM,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC;YAErC,OAAO,SAAS,IACfC,cAAC,CAAAG,cAAQ,EAAU,EAAA,QAAA,EAAA,UAAU,CAAC,IAAI,CAAC,EAApB,EAAA,CAAC,CAA+B,KAE/C,IAAI,CACJ;AACF,SAAC,CAAC;AAEF,QAAA,OAAO,MAAM;KACb,EAAE,CAAC,OAAO,EAAEJ,MAAI,EAAE,MAAM,EAAE,aAAa,CAAC,CAAC;AAE1C,IAAA,OAAOC,eAACI,YAAI,EAAA,EAAA,GAAK,SAAS,EAAG,QAAA,EAAA,OAAO,GAAQ;AAC7C;;;;"}