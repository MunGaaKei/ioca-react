{"version":3,"file":"number.js","sources":["../../../../packages/components/text/number.tsx"],"sourcesContent":["import { useEffect, useMemo, useState } from \"react\";\r\nimport { animate, formatNumber } from \"../../js/utils\";\r\nimport Text from \"./text\";\r\nimport { ITextNumber } from \"./type\";\r\n\r\nexport default function Number(props: ITextNumber) {\r\n\tconst {\r\n\t\tcount,\r\n\t\tto,\r\n\t\tdecimal,\r\n\t\tthousand = \",\",\r\n\t\tduration = 2400,\r\n\t\teasing,\r\n\t\t...restProps\r\n\t} = props;\r\n\tconst [n, setN] = useState(count);\r\n\r\n\tconst number = useMemo(() => {\r\n\t\tif (n === undefined) return;\r\n\r\n\t\tconst z = n.toFixed(decimal);\r\n\r\n\t\tif (!thousand) return z;\r\n\r\n\t\treturn formatNumber(n, { precision: decimal, thousand });\r\n\t}, [n, thousand]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (count === undefined || to === undefined) return;\r\n\r\n\t\tanimate(count, to, duration, (v) => setN(count + v), easing);\r\n\t}, [to]);\r\n\r\n\tuseEffect(() => setN(count), [count]);\r\n\r\n\treturn <Text {...restProps}>{number}</Text>;\r\n}\r\n"],"names":["useState","useMemo","formatNumber","useEffect","animate","_jsx","Text"],"mappings":";;;;;;;;;AAKwB,SAAA,MAAM,CAAC,KAAkB,EAAA;IAChD,MAAM,EACL,KAAK,EACL,EAAE,EACF,OAAO,EACP,QAAQ,GAAG,GAAG,EACd,QAAQ,GAAG,IAAI,EACf,MAAM,EACN,GAAG,SAAS,EACZ,GAAG,KAAK;IACT,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,GAAGA,cAAQ,CAAC,KAAK,CAAC;AAEjC,IAAA,MAAM,MAAM,GAAGC,aAAO,CAAC,MAAK;QAC3B,IAAI,CAAC,KAAK,SAAS;YAAE;QAErB,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC;AAE5B,QAAA,IAAI,CAAC,QAAQ;AAAE,YAAA,OAAO,CAAC;AAEvB,QAAA,OAAOC,kBAAY,CAAC,CAAC,EAAE,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC;AACzD,KAAC,EAAE,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;IAEjBC,eAAS,CAAC,MAAK;AACd,QAAA,IAAI,KAAK,KAAK,SAAS,IAAI,EAAE,KAAK,SAAS;YAAE;QAE7CC,aAAO,CAAC,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC;AAC7D,KAAC,EAAE,CAAC,EAAE,CAAC,CAAC;AAER,IAAAD,eAAS,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;AAErC,IAAA,OAAOE,eAACC,YAAI,EAAA,EAAA,GAAK,SAAS,EAAG,QAAA,EAAA,MAAM,GAAQ;AAC5C;;;;"}