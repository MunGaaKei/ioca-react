import{jsx as o}from"react/jsx-runtime";import t from"classnames";import{debounce as r}from"radash";import{useState as e,useMemo as s,Children as i,cloneElement as n,useEffect as l}from"react";import c from"./totop.js";const m=m=>{const{position:p="fixed",left:a,top:f,right:d,bottom:h,offset:u,style:y,className:v,children:x,getContainer:b=()=>document.body}=m,[k,T]=e(!1),g=s((()=>i.map(x,(o=>{if(o.type===c){const{onClick:t}=o.props;return n(o,{key:o.key,...o.props,onClick:o=>{const r=b();t?.(o),r?.scrollTo({top:0,left:0,behavior:"smooth"})}})}return o}))),[x,b]);return l((()=>{const o=b();if(!u||!o)return;const t=r({delay:160},(()=>{const t=o.scrollTop;T(t<u)}));return t(),o.addEventListener("scroll",t),()=>{o.removeEventListener("scroll",t)}}),[u,b]),o("div",{className:t("i-affix",v,{"i-affix-hidden":k}),style:{...y,position:p,left:a,top:f,right:d,bottom:h},children:g})};m.ToTop=c;export{m as default};
//# sourceMappingURL=affix.js.map
