import{jsx as e,jsxs as i}from"react/jsx-runtime";import{VisibilityRound as a,VisibilityOffRound as t}from"@ricons/material";import{useReactive as r}from"ahooks";import s from"classnames";import{useMemo as n,useEffect as l}from"react";import o from"../utils/helpericon/helpericon.js";import p from"./container.js";const m=m=>{const{ref:u,type:c="text",label:d,name:v,value:b=m.initValue??"",initValue:f="",prepend:h,append:y,labelInline:N,className:g,status:w="normal",message:j,tip:x,clear:C,hideVisible:V,border:k,required:q,onChange:E,onEnter:I,style:$,...D}=m,K=r({value:b,type:c,visible:!1}),O=n((()=>{if("password"===c)return K.visible?e(a,{}):e(t,{})}),[K.visible]);l((()=>{K.value=b}),[b]);const z={ref:u,type:K.type,name:v,value:K.value,className:s("i-input",`i-input-${c}`),onChange:e=>{const i=e.target.value;K.value=i,E?.(i,e)},onKeyDown:e=>{"Enter"===e.code&&I?.(e)},...D},A=C&&K.value,B="password"===c&&!!K.value;return e(p,{label:d,labelInline:N,className:g,style:$,tip:j??x,status:w,required:q,children:i("div",{className:s("i-input-item",{[`i-input-${w}`]:"normal"!==w,"i-input-borderless":!k}),children:[h&&e("div",{className:"i-input-prepend",children:h}),e("input",{...z}),e(o,{active:!!A||B,icon:O,onClick:()=>{if("password"===c&&!V)return void Object.assign(K,{visible:!K.visible,type:K.visible?"password":"text"});E?.("")}}),y&&e("div",{className:"i-input-append",children:y})]})})};export{m as default};
//# sourceMappingURL=input.js.map
