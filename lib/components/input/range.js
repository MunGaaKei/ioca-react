import{jsx as e,jsxs as a}from"react/jsx-runtime";import{MinusRound as i,PlusRound as l,SyncAltRound as n}from"@ricons/material";import{useReactive as t}from"ahooks";import r from"classnames";import{useEffect as o}from"react";import{formatNumber as s,clamp as p}from"../../js/utils.js";import c from"../utils/helpericon/helpericon.js";import u from"./container.js";const m=m=>{const{label:v,name:d,value:h=m.initValue??"",initValue:f,labelInline:g,min:y=-1/0,max:C=1/0,type:b,className:k,status:N="normal",message:j,tip:A,append:x,prepend:D,step:I=1,thousand:P,precision:V,hideControl:B,placeholder:$,border:q,onChange:w,onBlur:z,style:E,...F}=m,G=t({value:h}),H=e=>e?"number"!=typeof e&&P?e.replaceAll(P,""):e:"",J=(e,a)=>{const{value:i}=e.target,l=H(i.replace(/[^\d\.-]/g,"")),n=Array.isArray(G.value)?G.value:[];n[a]=+l,G.value=n,w?.(n,e)},K=(e,a,i)=>{e.preventDefault(),e.stopPropagation();const l=Array.isArray(G.value)?G.value:[],n=H(l[i])??0,t=p(+n+a,y,C);l[i]=(e=>s(e,{precision:V,thousand:P}))(t),G.value=l,w?.(l,e)};o((()=>{G.value=h}),[h]);const L={name:d,className:"i-input i-input-number",...F};return e(u,{label:v,labelInline:g,className:k,style:E,tip:j??A,status:N,children:a("div",{className:r("i-input-item",{[`i-input-${N}`]:"normal"!==N,"i-input-borderless":!q}),children:[D&&e("div",{className:"i-input-prepend",children:D}),!B&&e(c,{active:!0,icon:e(i,{}),onClick:e=>K(e,-I,0)}),e("input",{value:G.value?.[0]||"",placeholder:$?.[0],...L,onChange:e=>J(e,0)}),!B&&e(c,{active:!0,icon:e(l,{}),onClick:e=>K(e,I,0)}),e(c,{active:!0,icon:e(n,{}),style:{margin:0},onClick:e=>{e.preventDefault(),e.stopPropagation();const a=G.value?G.value:[],i=a[0];a[0]=a[1],a[1]=i,G.value=a,w?.(a)}}),!B&&e(c,{active:!0,icon:e(i,{}),onClick:e=>K(e,-I,1)}),e("input",{value:G.value?.[1]||"",placeholder:$?.[1],...L,onChange:e=>J(e,1)}),!B&&e(c,{active:!0,icon:e(l,{}),onClick:e=>K(e,I,1)}),x&&e("div",{className:"i-input-append",children:x})]})})};export{m as default};
//# sourceMappingURL=range.js.map
