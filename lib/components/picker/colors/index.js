import{jsx as e,jsxs as o,Fragment as l}from"react/jsx-runtime";import a from"@rc-component/color-picker";import{useReactive as n}from"ahooks";import{useEffect as i}from"react";import r from"../../popup/popup.js";import t,{ColorMethods as p}from"./footer.js";import s from"./handle.js";function c(c){const{value:u,type:h="HEX",disabledAlpha:m,children:v,usePanel:d,handle:b="both",placeholder:y="Colors",popupProps:f,onChange:g}=c,C=n({type:h,value:u,syncValue:u,visible:f?.visible}),V=e=>{const o=p[e];C.type=e,C.value=C.syncValue[o]?.()},j=e=>{C.value=e,C.syncValue=e},k=()=>{g?.(C.value),C.visible=!1};return i((()=>{C.syncValue=u,C.value=u}),[u]),d?e(a,{...c}):e(r,{trigger:"click",touchable:!0,position:"bottom",...f,visible:C.visible,content:e(a,{value:C.syncValue,disabledAlpha:m,panelRender:a=>o(l,{children:[a,e(t,{value:C.value,type:C.type,onTypeChange:V,onChange:j,onOk:k})]}),onChange:e=>{C.syncValue=e},onChangeComplete:e=>{const o=p[C.type];1!==e.a&&(e.a=parseFloat(e.a.toFixed(3))),C.value=e[o]?.()}}),onVisibleChange:e=>{C.visible=e,f?.onVisibleChange?.(e)},children:v??e(s,{color:u,handle:b,placeholder:y})})}export{c as default};
//# sourceMappingURL=index.js.map
