import{jsx as e}from"react/jsx-runtime";import{CalendarMonthTwotone as r}from"@ricons/material";import{useReactive as o}from"ahooks";import a from"dayjs";import t from"dayjs/plugin/customParseFormat.js";import{useState as n,useMemo as i,useEffect as l}from"react";import s from"../../icon/icon.js";import"../../input/index.js";import m from"../../popup/popup.js";import p from"./panel.js";import u from"../../input/input.js";a.extend(t);const c=["YYYY-MM-DD","YYYY-M-D","YYYY/MM/DD","YYYY/M/D"],d="YYYY-MM-DD",Y=t=>{const{name:Y,value:f,weeks:D,format:v=d,placeholder:h=t.format??d,renderDate:M,renderMonth:j,renderYear:g,popupProps:k,disabledDate:b,onDateClick:C,onChange:w,onBlur:x,...V}=t,y=o({value:f}),[z,B]=n(!1),P=i((()=>{if(!y.value)return null;const e=a(y.value,v,!0);return e.isValid()?e:null}),[y.value]),E=e=>{y.value=e,w?.(e)},F=()=>{if(!y.value)return;const e=a(y.value,c,!0);e.isValid()?E(e.format(v)):E("")};return l((()=>{y.value=f}),[f]),e(m,{visible:z,trigger:"click",position:"bottom",arrow:!1,align:"start",onVisibleChange:e=>{k?.onVisibleChange?.(e),B(e)},watchResize:!0,content:e(p,{value:P,weeks:D,renderDate:M,renderMonth:j,renderYear:g,disabledDate:b,onDateClick:e=>{E(e.format(v))}}),...k,children:e(u,{value:y.value,append:e(s,{icon:e(r,{}),className:"i-datepicker-icon",size:"1em"}),placeholder:h,onChange:E,onBlur:e=>{x?.(e),F()},onEnter:F,...V})})};export{Y as default};
//# sourceMappingURL=index.js.map
