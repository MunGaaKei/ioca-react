import{jsx as e,jsxs as r}from"react/jsx-runtime";import{useReactive as o}from"ahooks";import i from"classnames";import{useRef as t,useEffect as a}from"react";import{createPortal as c}from"react-dom";import{useKeydown as s}from"../../js/hooks.js";import n from"../utils/helpericon/helpericon.js";function d(d){const{visible:l,position:m="left",header:h,footer:p,backdropClosable:u=!0,hideCloseButton:f,keepDOM:v,className:w,disabledEsc:b,children:k,onVisibleChange:C,onClose:N,...j}=d,g=t(!0),x=o({show:l,active:l,init:!1});a((()=>{l?E():T()}),[l]);const E=()=>{g.current&&(x.show=!0,C?.(!0),g.current=!1,setTimeout((()=>{x.active=!0,g.current=!0,x.init=!0}),24))},T=()=>{g.current&&(g.current=!1,x.active=!1,setTimeout((()=>{v||(x.show=!1),C?.(!1),g.current=!0,N?.()}),240))};return s((e=>{"Escape"===e.code&&l&&T()}),{disabled:b}),c(x.show&&e("div",{className:i("i-backdrop-drawer",w,{"i-active":x.active}),onClick:function(){u&&T()},...j,children:r("div",{className:i("i-drawer",`i-drawer-${m}`),onClick:e=>e.stopPropagation(),children:[r("header",{className:"i-drawer-header",children:[h,e(n,{active:!f,className:"i-drawer-close",onClick:T})]}),e("div",{className:"i-drawer-content",children:k}),e("div",{className:"i-drawer-footer",children:p})]})}),document.body)}export{d as default};
//# sourceMappingURL=drawer.js.map
