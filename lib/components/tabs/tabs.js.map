{"version":3,"file":"tabs.js","sources":["../../../packages/components/tabs/tabs.tsx"],"sourcesContent":["import { useIntersectionObserver } from \"@p/js/hooks\";\nimport { MoreHorizRound } from \"@ricons/material\";\nimport { useReactive, useSize } from \"ahooks\";\nimport classNames from \"classnames\";\nimport { pick } from \"radash\";\nimport {\n\tCSSProperties,\n\tChildren,\n\tuseEffect,\n\tuseImperativeHandle,\n\tuseRef,\n} from \"react\";\nimport Button from \"../button\";\nimport Icon from \"../icon\";\nimport Popup from \"../popup\";\nimport Helpericon from \"../utils/helpericon\";\nimport \"./index.css\";\nimport TabItem from \"./item\";\nimport { CompositionTabs, ITabItem, ITabs, TTabKey } from \"./type\";\n\ntype TState = {\n\tactive?: TTabKey;\n\tprevActive?: TTabKey;\n\tbarStyle: CSSProperties;\n\tcachedTabs: TTabKey[];\n\toverflow: boolean;\n\tmore: ITabItem[];\n\ttabs: ITabItem[];\n};\n\nconst Tabs = ((props: ITabs) => {\n\tconst {\n\t\tref,\n\t\tactive,\n\t\ttabs: items,\n\t\ttype = \"default\",\n\t\tprepend,\n\t\tappend,\n\t\tchildren,\n\t\tclassName,\n\t\tvertical,\n\t\ttoggable,\n\t\tnavsJustify = \"start\",\n\t\tbar = true,\n\t\thideMore,\n\t\tbarClass,\n\t\trenderMore = () => (\n\t\t\t<Button flat square size='small'>\n\t\t\t\t<Icon icon={<MoreHorizRound />} />\n\t\t\t</Button>\n\t\t),\n\t\tonTabChange,\n\t\t...rest\n\t} = props;\n\n\tconst navRefs = useRef<HTMLElement[]>([]);\n\tconst barRef = useRef<HTMLSpanElement>(null);\n\tconst navsRef = useRef<HTMLDivElement>(null);\n\tconst state = useReactive<TState>({\n\t\tactive,\n\t\tprevActive: undefined,\n\t\tbarStyle: {},\n\t\tcachedTabs: [],\n\t\toverflow: false,\n\t\tmore: [],\n\t\ttabs: [],\n\t});\n\tconst { observe, unobserve } = useIntersectionObserver();\n\tconst size = useSize(navsRef);\n\n\tuseEffect(() => {\n\t\tif (!items) {\n\t\t\tif (!children) {\n\t\t\t\tstate.tabs = [];\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstate.tabs = Children.map(children, (node, i) => {\n\t\t\t\tconst { key, props: nodeProps } = node as {\n\t\t\t\t\tkey?: TTabKey;\n\t\t\t\t\tprops?: any;\n\t\t\t\t};\n\t\t\t\tconst { title, children, content, keepDOM } = nodeProps;\n\n\t\t\t\tconst cloned = children\n\t\t\t\t\t? typeof children === \"string\"\n\t\t\t\t\t\t? children\n\t\t\t\t\t\t: pick(children, [\"props\", \"type\", \"$$typeof\", \"ref\"])\n\t\t\t\t\t: content;\n\n\t\t\t\treturn {\n\t\t\t\t\tkey: key || String(i),\n\t\t\t\t\ttitle,\n\t\t\t\t\tcontent: cloned,\n\t\t\t\t\tkeepDOM,\n\t\t\t\t};\n\t\t\t}) as ITabItem[];\n\n\t\t\treturn;\n\t\t}\n\n\t\tstate.tabs = items.map((item, i) => {\n\t\t\tif ([\"string\", \"number\"].includes(typeof item)) {\n\t\t\t\treturn { key: item, title: item };\n\t\t\t}\n\t\t\tif (item.key === undefined) {\n\t\t\t\titem.key = i;\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t}, [children, items]);\n\n\tconst add = (tab: ITabItem) => {\n\t\tconst { key } = tab;\n\t\tconst i = state.tabs.findIndex((t) => t.key === key);\n\n\t\tif (i > -1) {\n\t\t\topen(state.tabs[i].key ?? i);\n\t\t\treturn;\n\t\t}\n\n\t\tconst l = state.tabs.length;\n\t\tconst tkey = tab.key ?? l;\n\t\tstate.tabs.push({ ...tab, key: tkey });\n\t\topen(tkey);\n\t};\n\n\tconst close = (key: TTabKey) => {\n\t\tconst i = state.tabs.findIndex((t) => t.key === key);\n\n\t\tif (i < 0) return;\n\n\t\tstate.tabs.splice(i, 1);\n\n\t\tif (state.active !== key) return;\n\n\t\tconst next = state.tabs[i] || state.tabs[i - 1];\n\t\topen(state.prevActive ?? next?.key ?? \"\");\n\t};\n\n\tconst open = (key: TTabKey) => {\n\t\tif (key === state.active) {\n\t\t\tif (!toggable) return;\n\n\t\t\tonTabChange?.(undefined, key);\n\t\t\tstate.active = undefined;\n\n\t\t\tstate.barStyle = {\n\t\t\t\theight: 0,\n\t\t\t\twidth: 0,\n\t\t\t};\n\t\t\treturn;\n\t\t}\n\n\t\tstate.prevActive = state.active;\n\t\tonTabChange?.(key, state.active);\n\t\tstate.active = key;\n\t};\n\n\tuseEffect(() => {\n\t\tif (!size || hideMore) return;\n\t\tconst { scrollHeight, scrollWidth } = navsRef.current as HTMLElement;\n\t\tconst { width, height } = size;\n\n\t\tstate.overflow = scrollHeight > height || scrollWidth > width;\n\n\t\tif (!state.overflow) return;\n\n\t\tnavRefs.current.map((nav, i) => {\n\t\t\tif (!nav) return;\n\t\t\tobserve(nav, (tar: HTMLElement, visible: boolean) => {\n\t\t\t\tif (!state.tabs[i]) return;\n\t\t\t\tstate.tabs[i].intersecting = visible;\n\t\t\t\tstate.more = state.tabs.filter((tab) => !tab.intersecting);\n\t\t\t});\n\t\t});\n\t}, [size, hideMore, state.tabs.length]);\n\n\tuseEffect(() => {\n\t\tif (!bar || type === \"pane\" || state.active === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst index = state.tabs.findIndex((tab) => tab.key === state.active);\n\n\t\tsetTimeout(() => {\n\t\t\tconst nav = navRefs.current[index];\n\n\t\t\tif (!nav) return;\n\n\t\t\tif (state.tabs[index].keepDOM && state.active) {\n\t\t\t\tconst i = state.cachedTabs.findIndex((k) => k === state.active);\n\t\t\t\ti < 0 && state.cachedTabs.unshift(state.active);\n\t\t\t}\n\n\t\t\tconst { offsetHeight, offsetLeft, offsetTop, offsetWidth } = nav;\n\t\t\tconst isLine = type === \"line\";\n\n\t\t\tstate.barStyle = {\n\t\t\t\theight: !vertical && isLine ? \".25em\" : offsetHeight,\n\t\t\t\twidth: vertical && isLine ? \".25em\" : offsetWidth,\n\t\t\t\ttransform: `translate(${offsetLeft}px, ${offsetTop}px)`,\n\t\t\t};\n\t\t}, 16);\n\t}, [state.active, bar, size]);\n\n\tuseEffect(() => {\n\t\tif (active === undefined || state.active === active) return;\n\n\t\topen(active);\n\t}, [active]);\n\n\tuseEffect(() => {\n\t\tif (hideMore) return;\n\t\treturn () => {\n\t\t\tnavRefs.current?.map(unobserve);\n\t\t};\n\t}, [state.tabs.length]);\n\n\tuseEffect(() => {\n\t\tif (!navsRef.current || vertical) return;\n\n\t\tconst handleMouseWheel = (e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\n\t\t\tif (vertical) return;\n\n\t\t\tnavsRef.current?.scrollBy({\n\t\t\t\tleft: e.deltaY + e.deltaX,\n\t\t\t});\n\t\t};\n\n\t\tnavsRef.current.addEventListener(\"wheel\", handleMouseWheel, {\n\t\t\tpassive: false,\n\t\t});\n\n\t\treturn () => {\n\t\t\tif (!navsRef.current) return;\n\t\t\tnavsRef.current.removeEventListener(\"wheel\", handleMouseWheel);\n\t\t};\n\t}, [navsRef.current]);\n\n\tuseImperativeHandle(ref, () => ({\n\t\topen,\n\t\tclose,\n\t\tadd,\n\t\tnavs: navsRef,\n\t}));\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\n\t\t\t\t\"i-tabs\",\n\t\t\t\t{ flex: vertical, [`i-tabs-${type}`]: type !== \"default\" },\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...rest}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={classNames(\"i-tab-navs-container\", {\n\t\t\t\t\t\"i-tab-navs-vertical\": vertical,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t{prepend}\n\n\t\t\t\t<div\n\t\t\t\t\tref={navsRef}\n\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\"i-tab-navs\",\n\t\t\t\t\t\t`justify-${navsJustify}`\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{state.tabs.map((tab, i) => {\n\t\t\t\t\t\tconst { title, key = i, closable } = tab;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\tref={(ref) => (navRefs.current[i] = ref as any)}\n\t\t\t\t\t\t\t\tclassName={classNames(\"i-tab-nav\", {\n\t\t\t\t\t\t\t\t\t\"i-tab-active\": state.active === key,\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tonClick={() => open(key)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{title}\n\n\t\t\t\t\t\t\t\t{closable && (\n\t\t\t\t\t\t\t\t\t<Helpericon\n\t\t\t\t\t\t\t\t\t\tas='i'\n\t\t\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\t\tclassName='i-tab-nav-close'\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\tclose(key);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\n\t\t\t\t\t{bar && (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tref={barRef}\n\t\t\t\t\t\t\tclassName={classNames(\"i-tab-navs-bar\", barClass)}\n\t\t\t\t\t\t\tstyle={state.barStyle}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{!hideMore && state.overflow && state.more.length > 0 && (\n\t\t\t\t\t<Popup\n\t\t\t\t\t\tarrow={false}\n\t\t\t\t\t\tposition={vertical ? \"right\" : \"bottom\"}\n\t\t\t\t\t\talign='end'\n\t\t\t\t\t\ttouchable\n\t\t\t\t\t\thideDelay={500}\n\t\t\t\t\t\tcontent={\n\t\t\t\t\t\t\t<div className='i-tabs-morelist pd-4'>\n\t\t\t\t\t\t\t\t{state.more.map((tab, i) => {\n\t\t\t\t\t\t\t\t\tconst { key = i, title } = tab;\n\t\t\t\t\t\t\t\t\tconst isActive = state.active === key;\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classNames(\"i-tab-nav\", {\n\t\t\t\t\t\t\t\t\t\t\t\t\"i-tab-active\": isActive,\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => open(key)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{renderMore(state.more)}\n\t\t\t\t\t</Popup>\n\t\t\t\t)}\n\n\t\t\t\t{append}\n\t\t\t</div>\n\n\t\t\t<div className='i-tab-contents'>\n\t\t\t\t{state.tabs.map((tab, i) => {\n\t\t\t\t\tconst { key = i, content } = tab;\n\t\t\t\t\tconst isActive = state.active === key;\n\t\t\t\t\tconst show =\n\t\t\t\t\t\tisActive ||\n\t\t\t\t\t\t(key !== undefined && state.cachedTabs.includes(key));\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\tshow && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\tclassName={classNames(\"i-tab-content\", {\n\t\t\t\t\t\t\t\t\t\"i-tab-active\": isActive,\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{content}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t);\n}) as CompositionTabs;\n\nTabs.Item = TabItem;\n\nexport default Tabs;\n"],"names":["Tabs","props","ref","active","tabs","items","type","prepend","append","children","className","vertical","toggable","navsJustify","bar","hideMore","barClass","renderMore","_jsx","Button","flat","square","size","Icon","icon","MoreHorizRound","onTabChange","rest","navRefs","useRef","barRef","navsRef","state","useReactive","prevActive","undefined","barStyle","cachedTabs","overflow","more","observe","unobserve","useIntersectionObserver","useSize","useEffect","Children","map","node","i","key","nodeProps","title","content","keepDOM","cloned","pick","String","item","includes","add","tab","findIndex","t","open","l","length","tkey","push","close","splice","next","height","width","scrollHeight","scrollWidth","current","nav","tar","visible","intersecting","filter","index","setTimeout","k","unshift","offsetHeight","offsetLeft","offsetTop","offsetWidth","isLine","transform","handleMouseWheel","e","stopPropagation","preventDefault","scrollBy","left","deltaY","deltaX","addEventListener","passive","removeEventListener","useImperativeHandle","navs","_jsxs","classNames","flex","closable","onClick","Helpericon","as","style","Popup","arrow","position","align","touchable","hideDelay","isActive","Item","TabItem"],"mappings":"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"}