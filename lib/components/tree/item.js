import{jsx as e,Fragment as t,jsxs as r}from"react/jsx-runtime";import{KeyboardArrowDownRound as i}from"@ricons/material";import n from"classnames";import{useState as c}from"react";import o from"../checkbox/checkbox.js";import a from"../icon/icon.js";function s(r){const{data:i=[],depth:c=0,round:o,style:a,className:s,parent:l,nodeProps:m,...p}=r,h=i.map(((t,r)=>{const{type:i}=t,n=t[m.title],o=t[m.key]||(void 0!==l?.key?`${l.key}-${r}`:`${r}`);return t.key=o,t.parent=l,"title"===i?e("div",{className:"i-tree-group-title",children:n},r):i&&"item"!==i?e("div",{className:`i-tree-type-${i}`,children:n},r):e(d,{index:r,item:t,depth:c,nodeProps:m,...p},o)}));return c>0?e(t,{children:h}):e("div",{className:n("i-tree",s,{"i-tree-round":o}),style:a,children:h})}const l=t=>{const{as:r="a",href:i,selected:c,children:o,...a}=t,s=n("i-tree-item-header",{"i-tree-item-selected":c});return e(r,"string"==typeof r?{href:i,className:s,...a,children:o}:{to:i||"",className:s,...a,children:o})},d=t=>{const{item:d,depth:m=0,index:p,selected:h,checked:f=[],partofs:k={},checkable:u,nodeProps:N,renderExtra:g,onItemClick:x,onItemSelect:y,onItemCheck:v,...C}=t,{as:I,key:P="",href:b,icon:$,title:j,expanded:D,disabled:E}=d,S=d[N.children],[L,q]=c(D),w=(e,t)=>{t&&(e.preventDefault(),e.stopPropagation()),!E&&S?.length&&q((e=>!e))},z=f.includes(P);return r("div",{className:n("i-tree-item",{"i-tree-expand":L}),children:[r(l,{as:I,href:b,style:{paddingLeft:1.5*m+.5+"em"},selected:h===P,onClick:e=>{if(E)return e.preventDefault(),void e.stopPropagation();w(e),x?.(d,e),y?.(P,d)},children:[u&&e(o.Item,{value:z,partof:!z&&k[P],className:"i-tree-checkbox",onChange:e=>v?.(d,e,[]),onClick:e=>e.stopPropagation()}),$&&e("span",{className:"i-tree-item-icon",children:$}),e("span",{className:"i-tree-item-title",children:j}),g?.(d),S&&e(a,{icon:e(i,{}),className:"i-tree-toggle",onClick:e=>w(e,!0)})]}),S?.length&&e("div",{className:"i-tree-item-content",children:e(s,{data:S,depth:m+1,selected:h,checkable:u,parent:d,partofs:k,checked:f,nodeProps:N,renderExtra:g,onItemClick:x,onItemSelect:y,onItemCheck:v,...C})})]})};export{d as TreeItem,s as TreeList};
//# sourceMappingURL=item.js.map
