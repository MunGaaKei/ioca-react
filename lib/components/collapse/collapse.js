import{jsx as e,jsxs as i}from"react/jsx-runtime";import{MinusRound as t,PlusRound as a}from"@ricons/material";import{useReactive as c}from"ahooks";import l from"classnames";import{useMemo as o,Children as r}from"react";import s from"../utils/helpericon/helpericon.js";import n from"./item.js";const d=n=>{const{active:d,items:m,multiple:p,border:v,headerClickable:h,className:f,children:u,renderToggle:b=i=>e(i?t:a,{}),onCollapse:k,...N}=n,y=c({active:d}),g=o((()=>m||(u&&r.map(u,((e,i)=>{const{key:t,props:a}=e,{title:c,children:l,content:o,disabled:r,...s}=a;return{...s,key:t||i,title:c,content:l||o,disabled:r}}))||[])),[u]),C=(e,i)=>{const{key:t,disabled:a}=e;if(i?.stopPropagation(),a)return;if(!p)return y.active=y.active===t?void 0:t,void k?.(t,void 0!==y.active);Array.isArray(y.active)||(y.active=[]);const c=y.active.findIndex((e=>e===t));c>-1?y.active.splice(c,1):void 0!==t&&y.active.push(t),k?.(t,c<0)};return e("div",{className:l("i-collapse",{"i-collapse-bordered":v},f),...N,children:g.map((t=>{const{key:a,title:c,content:o,disabled:r,className:n,...d}=t,m=p?(y.active||[]).includes(a):y.active===a;return i("div",{className:l("i-collapse-item",n,{"i-collapse-active":m,"i-collapse-disabled":r}),...d,children:[i("div",{className:"i-collapse-header",onClick:()=>(e=>{h&&C(e)})(t),children:[c,e(s,{active:!0,className:"i-collapse-toggle",icon:b(m),onClick:e=>C(t,e)})]}),e("div",{className:"i-collapse-content",children:o})]},a)}))})};d.Item=n;export{d as default};
//# sourceMappingURL=collapse.js.map
