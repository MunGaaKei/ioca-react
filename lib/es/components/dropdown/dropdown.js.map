{"version":3,"file":"dropdown.js","sources":["../../../../packages/components/dropdown/dropdown.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport List from \"../list\";\r\nimport Popup from \"../popup\";\r\nimport \"./index.css\";\r\nimport Item from \"./item\";\r\nimport { IDropdown } from \"./type\";\r\n\r\nconst Dropdown = (props: IDropdown) => {\r\n\tconst { visible, width, content, children, ...restProps } = props;\r\n\tconst [active, setActive] = useState(visible);\r\n\r\n\tif (!content) {\r\n\t\treturn children;\r\n\t}\r\n\r\n\tconst handleVisibleChange = (v: boolean) => {\r\n\t\tsetActive(v);\r\n\t\tif (props.onVisibleChange) {\r\n\t\t\tprops.onVisibleChange(v);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetActive(visible);\r\n\t}, [visible]);\r\n\r\n\treturn (\r\n\t\t<Popup\r\n\t\t\ttrigger='click'\r\n\t\t\tposition='bottom'\r\n\t\t\tcontent={\r\n\t\t\t\t<List\r\n\t\t\t\t\tclassName='i-dropdown-content'\r\n\t\t\t\t\tstyle={{ minWidth: width }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{typeof content === \"function\"\r\n\t\t\t\t\t\t? content(() => setActive(false))\r\n\t\t\t\t\t\t: content}\r\n\t\t\t\t</List>\r\n\t\t\t}\r\n\t\t\t{...restProps}\r\n\t\t\ttouchable\r\n\t\t\tvisible={active}\r\n\t\t\tonVisibleChange={handleVisibleChange}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Popup>\r\n\t);\r\n};\r\n\r\nDropdown.Item = Item;\r\n\r\nexport default Dropdown;\r\n"],"names":["_jsx"],"mappings":";;;;;;AAOA,MAAM,QAAQ,GAAG,CAAC,KAAgB,KAAI;AACrC,IAAA,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,SAAS,EAAE,GAAG,KAAK;IACjE,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC;IAE7C,IAAI,CAAC,OAAO,EAAE;AACb,QAAA,OAAO,QAAQ;;AAGhB,IAAA,MAAM,mBAAmB,GAAG,CAAC,CAAU,KAAI;QAC1C,SAAS,CAAC,CAAC,CAAC;AACZ,QAAA,IAAI,KAAK,CAAC,eAAe,EAAE;AAC1B,YAAA,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC;;AAE1B,KAAC;IAED,SAAS,CAAC,MAAK;QACd,SAAS,CAAC,OAAO,CAAC;AACnB,KAAC,EAAE,CAAC,OAAO,CAAC,CAAC;AAEb,IAAA,QACCA,GAAA,CAAC,KAAK,EAAA,EACL,OAAO,EAAC,OAAO,EACf,QAAQ,EAAC,QAAQ,EACjB,OAAO,EACNA,GAAC,CAAA,IAAI,EACJ,EAAA,SAAS,EAAC,oBAAoB,EAC9B,KAAK,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAA,QAAA,EAEzB,OAAO,OAAO,KAAK;kBACjB,OAAO,CAAC,MAAM,SAAS,CAAC,KAAK,CAAC;AAChC,kBAAE,OAAO,EAAA,CACJ,KAEJ,SAAS,EACb,SAAS,EACT,IAAA,EAAA,OAAO,EAAE,MAAM,EACf,eAAe,EAAE,mBAAmB,YAEnC,QAAQ,EAAA,CACF;AAEV;AAEA,QAAQ,CAAC,IAAI,GAAG,IAAI;;;;"}