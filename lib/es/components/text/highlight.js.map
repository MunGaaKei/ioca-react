{"version":3,"file":"highlight.js","sources":["../../../../packages/components/text/highlight.tsx"],"sourcesContent":["import { findAll } from \"highlight-words-core\";\nimport { Fragment, useMemo } from \"react\";\nimport Text from \"./text\";\nimport { ITextHighLight } from \"./type\";\n\nexport default function HighLight(props: ITextHighLight) {\n\tconst {\n\t\tkeyword,\n\t\ttext,\n\t\tescape,\n\t\tcaseSensitive,\n\t\trenderWord = (word) => <mark>{word}</mark>,\n\t\t...restProps\n\t} = props;\n\n\tconst content = useMemo(() => {\n\t\tconst source = text;\n\t\tconst searchWords = typeof keyword === \"string\" ? [keyword] : keyword;\n\n\t\tconst chunks = findAll({\n\t\t\tsearchWords,\n\t\t\ttextToHighlight: text,\n\t\t\tcaseSensitive,\n\t\t\tautoEscape: escape,\n\t\t});\n\n\t\tconst result = chunks.map((chunk, i) => {\n\t\t\tconst { end, highlight, start } = chunk;\n\t\t\tconst word = source.slice(start, end);\n\n\t\t\treturn highlight ? (\n\t\t\t\t<Fragment key={i}>{renderWord(word)}</Fragment>\n\t\t\t) : (\n\t\t\t\tword\n\t\t\t);\n\t\t});\n\n\t\treturn result;\n\t}, [keyword, text, escape, caseSensitive]);\n\n\treturn <Text {...restProps}>{content}</Text>;\n}\n"],"names":["_jsx"],"mappings":";;;;;AAKwB,SAAA,SAAS,CAAC,KAAqB,EAAA;IACtD,MAAM,EACL,OAAO,EACP,IAAI,EACJ,MAAM,EACN,aAAa,EACb,UAAU,GAAG,CAAC,IAAI,KAAKA,GAAA,CAAA,MAAA,EAAA,EAAA,QAAA,EAAO,IAAI,EAAA,CAAQ,EAC1C,GAAG,SAAS,EACZ,GAAG,KAAK;AAET,IAAA,MAAM,OAAO,GAAG,OAAO,CAAC,MAAK;QAC5B,MAAM,MAAM,GAAG,IAAI;AACnB,QAAA,MAAM,WAAW,GAAG,OAAO,OAAO,KAAK,QAAQ,GAAG,CAAC,OAAO,CAAC,GAAG,OAAO;QAErE,MAAM,MAAM,GAAG,OAAO,CAAC;YACtB,WAAW;AACX,YAAA,eAAe,EAAE,IAAI;YACrB,aAAa;AACb,YAAA,UAAU,EAAE,MAAM;AAClB,SAAA,CAAC;QAEF,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC,KAAI;YACtC,MAAM,EAAE,GAAG,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,KAAK;YACvC,MAAM,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC;YAErC,OAAO,SAAS,IACfA,GAAC,CAAA,QAAQ,EAAU,EAAA,QAAA,EAAA,UAAU,CAAC,IAAI,CAAC,EAApB,EAAA,CAAC,CAA+B,KAE/C,IAAI,CACJ;AACF,SAAC,CAAC;AAEF,QAAA,OAAO,MAAM;KACb,EAAE,CAAC,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,aAAa,CAAC,CAAC;AAE1C,IAAA,OAAOA,IAAC,IAAI,EAAA,EAAA,GAAK,SAAS,EAAG,QAAA,EAAA,OAAO,GAAQ;AAC7C;;;;"}