{"version":3,"file":"button.js","sources":["../../../../packages/components/button/button.tsx"],"sourcesContent":["import classnames from \"classnames\";\nimport { MouseEvent, createElement, useEffect } from \"react\";\nimport useRipple from \"../../js/useRipple\";\nimport Loading from \"../loading\";\nimport Group from \"./group\";\nimport \"./index.css\";\nimport Toggle from \"./toggle\";\nimport { CompositionButton, IButton } from \"./type\";\n\nconst formatClass = ({\n\toutline,\n\tflat,\n\tloading,\n\tdisabled,\n\tsize = \"normal\",\n\tblock,\n\tround,\n\tsquare,\n\tsecondary,\n\tclassName,\n}: IButton) =>\n\tclassnames(\"i-btn\", className, {\n\t\t\"i-btn-outline\": outline,\n\t\t\"i-btn-flat\": flat,\n\t\t\"i-btn-block\": block,\n\t\t\"i-btn-loading\": loading,\n\t\t\"i-btn-square\": square,\n\t\t\"i-btn-secondary\": secondary,\n\t\t[`i-btn-${size}`]: size !== \"normal\",\n\t\tround,\n\t\tdisabled,\n\t});\n\nconst Button = (props: IButton) => {\n\tconst {\n\t\tas: As = \"a\",\n\t\tref,\n\t\tchildren,\n\t\tclassName,\n\t\tloading,\n\t\tflat,\n\t\toutline,\n\t\tsquare,\n\t\tsecondary,\n\t\tsize,\n\t\tround,\n\t\thref,\n\t\tripple = true,\n\t\tonClick,\n\t\t...restProps\n\t} = props;\n\n\tconst handleClick = (e: MouseEvent<HTMLElement>) => {\n\t\tif (loading || restProps.disabled) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tonClick?.(e);\n\t};\n\n\tif (!children) return <></>;\n\n\tconst childNodes = [\n\t\tloading && <Loading key='loading' />,\n\t\tcreateElement(\n\t\t\t\"span\",\n\t\t\t{ key: \"content\", className: \"i-btn-content\" },\n\t\t\tchildren\n\t\t),\n\t];\n\n\tconst attrs = {\n\t\tclassName: formatClass(props),\n\t\t[\"data-ripple\"]:\n\t\t\tripple && !loading && !restProps.disabled ? \"\" : undefined,\n\t\tonClick: handleClick,\n\t};\n\n\tuseEffect(() => {\n\t\tripple && useRipple();\n\t}, [ripple]);\n\n\tif (typeof As === \"string\") {\n\t\treturn createElement(\n\t\t\tAs,\n\t\t\t{\n\t\t\t\tref,\n\t\t\t\thref,\n\t\t\t\t...attrs,\n\t\t\t\t...restProps,\n\t\t\t},\n\t\t\tchildNodes\n\t\t);\n\t}\n\n\treturn createElement(\n\t\tAs,\n\t\t{\n\t\t\tto: href || \"\",\n\t\t\t...attrs,\n\t\t\t...restProps,\n\t\t},\n\t\tchildNodes\n\t);\n};\n\nButton.Toggle = Toggle;\nButton.Group = Group;\n\nexport default Button as CompositionButton;\n"],"names":["classnames","_jsx"],"mappings":";;;;;;;;AASA,MAAM,WAAW,GAAG,CAAC,EACpB,OAAO,EACP,IAAI,EACJ,OAAO,EACP,QAAQ,EACR,IAAI,GAAG,QAAQ,EACf,KAAK,EACL,KAAK,EACL,MAAM,EACN,SAAS,EACT,SAAS,GACA,KACTA,UAAU,CAAC,OAAO,EAAE,SAAS,EAAE;AAC9B,IAAA,eAAe,EAAE,OAAO;AACxB,IAAA,YAAY,EAAE,IAAI;AAClB,IAAA,aAAa,EAAE,KAAK;AACpB,IAAA,eAAe,EAAE,OAAO;AACxB,IAAA,cAAc,EAAE,MAAM;AACtB,IAAA,iBAAiB,EAAE,SAAS;AAC5B,IAAA,CAAC,SAAS,IAAI,CAAA,CAAE,GAAG,IAAI,KAAK,QAAQ;IACpC,KAAK;IACL,QAAQ;AACR,CAAA,CAAC;AAEH,MAAM,MAAM,GAAG,CAAC,KAAc,KAAI;AACjC,IAAA,MAAM,EACL,EAAE,EAAE,EAAE,GAAG,GAAG,EACZ,GAAG,EACH,QAAQ,EACR,SAAS,EACT,OAAO,EACP,IAAI,EACJ,OAAO,EACP,MAAM,EACN,SAAS,EACT,IAAI,EACJ,KAAK,EACL,IAAI,EACJ,MAAM,GAAG,IAAI,EACb,OAAO,EACP,GAAG,SAAS,EACZ,GAAG,KAAK;AAET,IAAA,MAAM,WAAW,GAAG,CAAC,CAA0B,KAAI;AAClD,QAAA,IAAI,OAAO,IAAI,SAAS,CAAC,QAAQ,EAAE;YAClC,CAAC,CAAC,eAAe,EAAE;YACnB,CAAC,CAAC,cAAc,EAAE;YAClB;;AAGD,QAAA,OAAO,GAAG,CAAC,CAAC;AACb,KAAC;AAED,IAAA,IAAI,CAAC,QAAQ;AAAE,QAAA,OAAOC,iBAAK;AAE3B,IAAA,MAAM,UAAU,GAAG;AAClB,QAAA,OAAO,IAAIA,GAAA,CAAC,OAAO,EAAA,EAAA,EAAK,SAAS,CAAG;AACpC,QAAA,aAAa,CACZ,MAAM,EACN,EAAE,GAAG,EAAE,SAAS,EAAE,SAAS,EAAE,eAAe,EAAE,EAC9C,QAAQ,CACR;KACD;AAED,IAAA,MAAM,KAAK,GAAG;AACb,QAAA,SAAS,EAAE,WAAW,CAAC,KAAK,CAAC;AAC7B,QAAA,CAAC,aAAa,GACb,MAAM,IAAI,CAAC,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,EAAE,GAAG,SAAS;AAC3D,QAAA,OAAO,EAAE,WAAW;KACpB;IAED,SAAS,CAAC,MAAK;QACd,MAAM,IAAI,SAAS,EAAE;AACtB,KAAC,EAAE,CAAC,MAAM,CAAC,CAAC;AAEZ,IAAA,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;QAC3B,OAAO,aAAa,CACnB,EAAE,EACF;YACC,GAAG;YACH,IAAI;AACJ,YAAA,GAAG,KAAK;AACR,YAAA,GAAG,SAAS;SACZ,EACD,UAAU,CACV;;IAGF,OAAO,aAAa,CACnB,EAAE,EACF;QACC,EAAE,EAAE,IAAI,IAAI,EAAE;AACd,QAAA,GAAG,KAAK;AACR,QAAA,GAAG,SAAS;KACZ,EACD,UAAU,CACV;AACF;AAEA,MAAM,CAAC,MAAM,GAAG,MAAM;AACtB,MAAM,CAAC,KAAK,GAAG,KAAK;;;;"}