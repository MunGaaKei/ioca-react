{"version":3,"file":"index.js","sources":["../../../packages/js/usePreview/index.tsx"],"sourcesContent":["import { useRef } from \"react\";\nimport HookModal from \"../../components/modal/hookModal\";\nimport type { RefHookModal } from \"../../components/modal/type\";\nimport { renderNode } from \"../utils\";\nimport Content from \"./content\";\nimport \"./index.css\";\nimport type { IPreview } from \"./type\";\n\nexport default function usePreview() {\n\tconst ref = useRef<RefHookModal>(null);\n\n\tconst preview = (config: IPreview) => {\n\t\tconst { items, modalProps, onClose, ...restProps } = config;\n\n\t\tconst handleClose = () => {\n\t\t\tonClose?.();\n\t\t\tunMount?.();\n\t\t};\n\n\t\tconst unMount = renderNode(\n\t\t\t<HookModal\n\t\t\t\tref={ref}\n\t\t\t\tvisible\n\t\t\t\tclassName='i-preview'\n\t\t\t\tcustomized\n\t\t\t\thideShadow\n\t\t\t\t{...modalProps}\n\t\t\t\tchildren={\n\t\t\t\t\t<Content\n\t\t\t\t\t\t{...restProps}\n\t\t\t\t\t\titems={items}\n\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\tref.current?.update({ visible: false });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\tfixed\n\t\t\t\tonClose={handleClose}\n\t\t\t/>\n\t\t);\n\t};\n\n\treturn preview;\n}\n"],"names":["usePreview","ref","useRef","config","items","modalProps","onClose","restProps","unMount","renderNode","_jsx","HookModal","visible","className","customized","hideShadow","children","Content","current","update","fixed"],"mappings":"+LAQc,SAAUA,IACvB,MAAMC,EAAMC,EAAqB,MAiCjC,OA/BiBC,IAChB,MAAMC,MAAEA,EAAKC,WAAEA,EAAUC,QAAEA,KAAYC,GAAcJ,EAO/CK,EAAUC,EACfC,EAACC,EACA,CAAAV,IAAKA,EACLW,SAAO,EACPC,UAAU,YACVC,YACA,EAAAC,iBACIV,EACJW,SACCN,EAACO,EAAO,IACHV,EACJH,MAAOA,EACPE,QAAS,KACRL,EAAIiB,SAASC,OAAO,CAAEP,SAAS,GAAQ,IAI1CQ,OAAK,EACLd,QAvBkB,KACnBA,MACAE,KAAW,IAuBX,CAIH"}