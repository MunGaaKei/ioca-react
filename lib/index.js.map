{"version":3,"file":"index.js","sources":["../packages/js/useRipple/index.ts","../packages/components/loading/loading.tsx","../packages/components/button/button.tsx","../packages/components/button/index.tsx","../packages/components/button/toggle.tsx","../packages/components/button/group.tsx","../packages/components/icon/icon.tsx","../packages/components/affix/totop.tsx","../packages/components/affix/affix.tsx","../packages/components/badge/badge.tsx","../packages/components/card/area.tsx","../packages/components/card/card.tsx","../packages/js/usePreview/type.ts","../packages/js/utils.ts","../packages/components/checkbox/item.tsx","../packages/components/checkbox/checkbox.tsx","../packages/components/utils/helpericon/helpericon.tsx","../packages/components/collapse/collapse.tsx","../packages/components/utils/empty/index.tsx","../packages/components/datagrid/cell.tsx","../packages/components/collapse/item.tsx","../packages/js/hooks.ts","../packages/components/datagrid/resize.tsx","../packages/components/datagrid/sorter.tsx","../packages/components/datagrid/row.tsx","../packages/components/datagrid/datagrid.tsx","../packages/components/input/container.tsx","../packages/components/input/input.tsx","../packages/components/input/number.tsx","../packages/components/input/textarea.tsx","../packages/components/input/index.tsx","../packages/components/input/range.tsx","../packages/components/popup/content.tsx","../packages/components/popup/popup.tsx","../packages/components/datepicker/dates.tsx","../packages/components/datepicker/panel.tsx","../packages/components/datepicker/datepicker.tsx","../packages/components/description/description.tsx","../packages/components/drawer/drawer.tsx","../packages/components/list/item.tsx","../packages/components/list/list.tsx","../packages/components/list/virtual.tsx","../packages/components/dropdown/item.tsx","../packages/components/dropdown/dropdown.tsx","../packages/components/flex/flex.tsx","../packages/components/form/context.tsx","../packages/components/form/useForm.ts","../packages/components/form/form.tsx","../packages/components/modal/modal.tsx","../packages/components/form/field.tsx","../packages/components/modal/hookModal.tsx","../packages/components/text/text.tsx","../packages/components/progress/circle.tsx","../packages/components/text/index.tsx","../packages/components/text/number.tsx","../packages/components/text/time.tsx","../packages/components/progress/line.tsx","../packages/components/progress/progress.tsx","../packages/components/video/video.tsx","../packages/js/usePreview/renderFile.tsx","../packages/js/usePreview/content.tsx","../packages/js/usePreview/index.tsx","../packages/components/image/image.tsx","../packages/components/image/index.tsx","../packages/components/image/list.tsx","../packages/components/message/message.tsx","../packages/components/modal/index.tsx","../packages/components/modal/useModal.tsx","../packages/components/pagination/page.tsx","../packages/components/pagination/pagination.tsx","../packages/components/popconfirm/popconfirm.tsx","../packages/components/radio/item.tsx","../packages/components/radio/radio.tsx","../packages/components/tag/tag.tsx","../packages/components/select/options.tsx","../packages/components/select/select.tsx","../packages/components/step/divider.tsx","../packages/components/step/item.tsx","../packages/components/step/step.tsx","../packages/components/swiper/item.tsx","../packages/components/swiper/swiper.tsx","../packages/components/tabs/item.tsx","../packages/components/tabs/tabs.tsx","../packages/components/tree/item.tsx","../packages/components/tree/tree.tsx","../packages/components/upload/renderFile.tsx","../packages/components/upload/upload.tsx"],"sourcesContent":["import \"./ripple.css\";\n\nconst TIMEOUT = 500;\n\nconst useRipple = () => {\n\tif (document.documentElement.dataset[\"useripple\"]) return;\n\tdocument.documentElement.dataset[\"useripple\"] = \"enable\";\n\n\tdocument.addEventListener(\"mousedown\", listener);\n};\n\nfunction listener(e: MouseEvent) {\n\tconst target = e.target as HTMLElement;\n\tconst parent = target.closest(\"[data-ripple]\") as HTMLElement;\n\n\tif (!target || !parent) return;\n\n\ttriggerRipple(parent, e);\n}\n\nfunction triggerRipple(target: HTMLElement, e: MouseEvent) {\n\tconst [$box, $ripple] = createRipple();\n\tconst rect = target.getBoundingClientRect();\n\tconst size = Math.max(rect.width, rect.height) * 2;\n\n\t$ripple.style.cssText = `\n        left: ${e.pageX - rect.left}px;\n        top: ${e.pageY - rect.top}px;\n        width: ${size}px;\n        height: ${size}px;\n        transition: all ${TIMEOUT / 1000}s;\n    `;\n\ttarget.insertAdjacentElement(\"afterbegin\", $box);\n\ttarget.offsetHeight;\n\t$ripple.classList.add(\"i-ripple-active\");\n\n\tsetTimeout(() => {\n\t\t$box.remove();\n\t}, TIMEOUT);\n}\n\nfunction createRipple() {\n\tconst $box = document.createElement(\"SPAN\");\n\tconst $ripple = document.createElement(\"SPAN\");\n\n\t$box.className = \"i-ripple-container\";\n\t$ripple.className = \"i-ripple\";\n\n\t$box.append($ripple);\n\n\treturn [$box, $ripple];\n}\n\nexport default useRipple;\n","import classNames from \"classnames\";\nimport \"./index.css\";\nimport { ILoading } from \"./type\";\n\nconst Loading = (props: ILoading): JSX.Element => {\n\tconst { icon, text, size, style, className, ...restProps } = props;\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\"i-loading-container\", className)}\n\t\t\tstyle={{ fontSize: size, ...style }}\n\t\t\t{...restProps}\n\t\t>\n\t\t\t{icon ?? (\n\t\t\t\t<svg\n\t\t\t\t\twidth='24'\n\t\t\t\t\theight='24'\n\t\t\t\t\tstroke='#000'\n\t\t\t\t\tviewBox='0 0 24 24'\n\t\t\t\t\txmlns='http://www.w3.org/2000/svg'\n\t\t\t\t\tclassName='i-loading-icon'\n\t\t\t\t>\n\t\t\t\t\t<circle\n\t\t\t\t\t\tcx='12'\n\t\t\t\t\t\tcy='12'\n\t\t\t\t\t\tr='9.5'\n\t\t\t\t\t\tfill='none'\n\t\t\t\t\t\tstrokeWidth='3'\n\t\t\t\t\t\tstrokeLinecap='round'\n\t\t\t\t\t\tstrokeDasharray={40}\n\t\t\t\t\t\tstrokeDashoffset={0}\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t)}\n\n\t\t\t{text}\n\t\t</div>\n\t);\n};\n\nexport default Loading;\n","import useRipple from \"@p/js/useRipple\";\nimport classnames from \"classnames\";\nimport { MouseEvent, createElement, forwardRef, useEffect } from \"react\";\nimport Loading from \"../loading\";\nimport \"./index.css\";\nimport { CompositionButton, IButton } from \"./type\";\n\nconst formatClass = ({\n\toutline,\n\tflat,\n\tloading,\n\tdisabled,\n\tsize = \"normal\",\n\tblock,\n\tround,\n\tsquare,\n\tsecondary,\n\tclassName,\n}: IButton) =>\n\tclassnames(\"i-btn\", className, {\n\t\t\"i-btn-outline\": outline,\n\t\t\"i-btn-flat\": flat,\n\t\t\"i-btn-block\": block,\n\t\t\"i-btn-loading\": loading,\n\t\t\"i-btn-square\": square,\n\t\t\"i-btn-secondary\": secondary,\n\t\t[`i-btn-${size}`]: size !== \"normal\",\n\t\tround,\n\t\tdisabled,\n\t});\n\nconst Button = forwardRef<HTMLElement, IButton>((props, ref) => {\n\tconst {\n\t\tas: As = \"a\",\n\t\tchildren,\n\t\tclassName,\n\t\tloading,\n\t\tflat,\n\t\toutline,\n\t\tsquare,\n\t\tsecondary,\n\t\tsize,\n\t\tround,\n\t\thref,\n\t\tripple = true,\n\t\tonClick,\n\t\t...restProps\n\t} = props;\n\n\tconst handleClick = (e: MouseEvent<HTMLElement>) => {\n\t\tif (loading || restProps.disabled) {\n\t\t\te.stopPropagation();\n\t\t\treturn;\n\t\t}\n\n\t\tonClick?.(e);\n\t};\n\n\tif (!children) return <></>;\n\n\tconst childNodes = [\n\t\tloading && <Loading key='loading' />,\n\t\tcreateElement(\n\t\t\t\"span\",\n\t\t\t{ key: \"content\", className: \"i-btn-content\" },\n\t\t\tchildren\n\t\t),\n\t];\n\n\tconst attrs = {\n\t\tclassName: formatClass(props),\n\t\t[\"data-ripple\"]: ripple,\n\t\tonClick: handleClick,\n\t};\n\n\tuseEffect(() => {\n\t\tripple && useRipple();\n\t}, [ripple]);\n\n\tif (typeof As === \"string\") {\n\t\treturn createElement(\n\t\t\tAs,\n\t\t\t{\n\t\t\t\tref,\n\t\t\t\thref,\n\t\t\t\t...attrs,\n\t\t\t\t...restProps,\n\t\t\t},\n\t\t\tchildNodes\n\t\t);\n\t}\n\n\treturn createElement(\n\t\tAs,\n\t\t{\n\t\t\tto: href || \"\",\n\t\t\t...attrs,\n\t\t\t...restProps,\n\t\t},\n\t\tchildNodes\n\t);\n}) as CompositionButton;\n\nexport default Button;\n","import Button from \"./button\";\nimport Group from \"./group\";\nimport Toggle from \"./toggle\";\n\nButton.Toggle = Toggle;\nButton.Group = Group;\n\nexport default Button;\n","import { useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport { MouseEvent, useCallback, useEffect } from \"react\";\nimport Button from \"./button\";\nimport { IButtonToggle } from \"./type\";\n\nexport default function Toggle(props: IButtonToggle) {\n\tconst {\n\t\tactive,\n\t\tactiveClass,\n\t\tafter,\n\t\tdisabled,\n\t\tchildren,\n\t\tclassName,\n\t\tonClick,\n\t\tonToggle,\n\t\t...restProps\n\t} = props;\n\n\tconst state = useReactive({\n\t\tactive,\n\t\tdone: true,\n\t});\n\n\tconst toggle = useCallback(() => {\n\t\tconst hasAfter = after !== undefined;\n\t\tconst nextActive = !state.active;\n\n\t\tObject.assign(state, {\n\t\t\tactive: nextActive,\n\t\t\tdone: !hasAfter,\n\t\t});\n\t\tonToggle?.(nextActive);\n\n\t\thasAfter &&\n\t\t\tsetTimeout(() => {\n\t\t\t\tstate.done = true;\n\t\t\t}, 16);\n\t}, [after]);\n\n\tconst handleClick = (e: MouseEvent<HTMLElement>) => {\n\t\tonClick?.(e);\n\n\t\t!disabled && toggle();\n\t};\n\n\tuseEffect(() => {\n\t\tstate.active !== active && toggle();\n\t}, [active]);\n\n\treturn (\n\t\t<Button\n\t\t\tclassName={classNames(\n\t\t\t\tclassName,\n\t\t\t\t{ [activeClass || \"\"]: state.active },\n\t\t\t\t\"i-btn-toggle\"\n\t\t\t)}\n\t\t\t{...restProps}\n\t\t\tonClick={handleClick}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={classNames(\"i-btn-toggle-content\", {\n\t\t\t\t\t\"i-btn-toggle-active\": state.done,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t{state.active ? after ?? children : children}\n\t\t\t</div>\n\t\t</Button>\n\t);\n}\n","import classNames from \"classnames\";\nimport { IButtonGroup } from \"./type\";\n\nexport default function Group(props: IButtonGroup) {\n\tconst { children, vertical, className, style } = props;\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\n\t\t\t\tclassName,\n\t\t\t\tvertical ? \"i-btn-group-vertical\" : \"i-btn-group-horizonal\"\n\t\t\t)}\n\t\t\tstyle={style}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n","import classNames from \"classnames\";\nimport { cloneElement, forwardRef, isValidElement } from \"react\";\nimport \"./index.css\";\nimport { IIcon } from \"./type\";\n\nconst Icon = forwardRef<HTMLElement, IIcon>((props, ref) => {\n\tconst {\n\t\ticon,\n\t\tsize = \"1.425em\",\n\t\trotate,\n\t\tstyle,\n\t\tclassName,\n\t\t...restProps\n\t} = props;\n\n\tif (!isValidElement(icon)) return icon;\n\n\tconst elProps = {\n\t\tref,\n\t\tstyle: {\n\t\t\ttransform: rotate ? `rotate(${rotate}deg)` : undefined,\n\t\t\t...style,\n\t\t\twidth: size,\n\t\t\theight: size,\n\t\t},\n\t\tclassName: classNames(\"i-icon\", className),\n\t\t...restProps,\n\t};\n\n\treturn cloneElement(icon, elProps);\n});\n\nexport default Icon;\n","import { SkipPreviousRound } from \"@ricons/material\";\nimport classNames from \"classnames\";\nimport Button from \"../button\";\nimport Icon from \"../icon\";\nimport { IAffix } from \"./type\";\n\nfunction ToTop(props: IAffix) {\n\tconst { style, className, onClick } = props;\n\n\treturn (\n\t\t<Button\n\t\t\tsquare\n\t\t\tclassName={classNames(\"i-affix-totop\", className)}\n\t\t\tstyle={{ ...style }}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t<Icon icon={<SkipPreviousRound />} rotate={90} />\n\t\t</Button>\n\t);\n}\n\nexport default ToTop;\n","import classNames from \"classnames\";\nimport { debounce } from \"radash\";\nimport {\n\tChildren,\n\tMouseEvent,\n\tcloneElement,\n\tuseEffect,\n\tuseMemo,\n\tuseState,\n} from \"react\";\nimport \"./index.css\";\nimport ToTop from \"./totop\";\nimport { IAffix } from \"./type\";\n\nconst Affix = (props: IAffix): JSX.Element => {\n\tconst {\n\t\tposition = \"fixed\",\n\t\tleft,\n\t\ttop,\n\t\tright,\n\t\tbottom,\n\t\toffset,\n\t\tstyle,\n\t\tclassName,\n\t\tchildren,\n\t\tgetContainer = () => document.body,\n\t} = props;\n\n\tconst [hidden, setHidden] = useState<boolean>(false);\n\n\tconst hijackChildren = useMemo(\n\t\t() =>\n\t\t\tChildren.map(children, (node: any) => {\n\t\t\t\tif (node.type === ToTop) {\n\t\t\t\t\tconst { onClick } = node.props;\n\n\t\t\t\t\treturn cloneElement(node, {\n\t\t\t\t\t\tkey: node.key,\n\t\t\t\t\t\t...node.props,\n\t\t\t\t\t\tonClick: (e: MouseEvent) => {\n\t\t\t\t\t\t\tconst container = getContainer();\n\n\t\t\t\t\t\t\tonClick?.(e);\n\t\t\t\t\t\t\tcontainer?.scrollTo({\n\t\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t\tbehavior: \"smooth\",\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn node;\n\t\t\t}),\n\t\t[children, getContainer]\n\t);\n\n\tuseEffect(() => {\n\t\tconst container = getContainer();\n\t\tif (!offset || !container) return;\n\n\t\tconst listener = debounce({ delay: 160 }, () => {\n\t\t\tconst top = container.scrollTop;\n\n\t\t\tsetHidden(top < offset);\n\t\t});\n\n\t\tcontainer.addEventListener(\"scroll\", listener);\n\n\t\treturn () => {\n\t\t\tcontainer.removeEventListener(\"scroll\", listener);\n\t\t};\n\t}, [offset, getContainer]);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\"i-affix\", className, {\n\t\t\t\t\"i-affix-hidden\": hidden,\n\t\t\t})}\n\t\t\tstyle={{\n\t\t\t\t...style,\n\t\t\t\tposition,\n\t\t\t\tleft,\n\t\t\t\ttop,\n\t\t\t\tright,\n\t\t\t\tbottom,\n\t\t\t}}\n\t\t>\n\t\t\t{hijackChildren}\n\t\t</div>\n\t);\n};\n\nAffix.ToTop = ToTop;\n\nexport default Affix;\n","import classNames from \"classnames\";\nimport \"./index.css\";\nimport type { IBadge } from \"./type\";\n\nconst Badge = (props: IBadge): JSX.Element => {\n\tconst {\n\t\tcontent,\n\t\tcontentClass,\n\t\tdot,\n\t\tdotSize,\n\t\tround,\n\t\tdisabled,\n\t\tstyle,\n\t\tclassName,\n\t\tchildren,\n\t} = props;\n\n\treturn (\n\t\t<div\n\t\t\tstyle={style}\n\t\t\tclassName={classNames(\"i-badge\", { rounded: round }, className)}\n\t\t>\n\t\t\t{children}\n\n\t\t\t<div\n\t\t\t\tclassName={classNames(\"i-badge-content\", contentClass, {\n\t\t\t\t\t\"i-badge-dot\": dot,\n\t\t\t\t\t\"i-badge-hidden\": disabled,\n\t\t\t\t})}\n\t\t\t\tstyle={{ fontSize: dotSize }}\n\t\t\t>\n\t\t\t\t{content}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Badge;\n","import classNames from \"classnames\";\n\nconst Area = (name: string) => (props) =>\n\t(\n\t\t<div\n\t\t\tstyle={props.style}\n\t\t\tclassName={classNames(\"i-card-\" + name, props.className)}\n\t\t>\n\t\t\t{props.children}\n\t\t</div>\n\t);\n\nconst Header = Area(\"header\") as any;\nconst Footer = Area(\"footer\") as any;\nconst Banner = Area(\"banner\") as any;\nconst Tailer = Area(\"tail\") as any;\n\nexport { Banner, Footer, Header, Tailer };\n","import classNames from \"classnames\";\nimport { Children, useMemo } from \"react\";\nimport { Banner, Footer, Header, Tailer } from \"./area\";\nimport \"./index.css\";\nimport { ICard } from \"./type\";\n\nconst Card = (props: ICard): JSX.Element => {\n\tconst { shadow = true, border, style, className, children } = props;\n\n\tconst slots: any = useMemo(() => {\n\t\tconst nodes = {};\n\n\t\tChildren.map(children, (child: any) => {\n\t\t\tconst type = child.type;\n\n\t\t\tswitch (type) {\n\t\t\t\tcase Header:\n\t\t\t\t\tnodes[\"header\"] = child;\n\t\t\t\t\tbreak;\n\t\t\t\tcase Footer:\n\t\t\t\t\tnodes[\"footer\"] = child;\n\t\t\t\t\tbreak;\n\t\t\t\tcase Banner:\n\t\t\t\t\tnodes[\"banner\"] = child;\n\t\t\t\t\tbreak;\n\t\t\t\tcase Tailer:\n\t\t\t\t\tnodes[\"tailer\"] = child;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tnodes[\"content\"] = [...(nodes[\"content\"] || []), child];\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\treturn nodes;\n\t}, [children]);\n\n\tconst { header, banner, content, footer, tailer } = slots;\n\n\treturn (\n\t\t<div\n\t\t\tstyle={style}\n\t\t\tclassName={classNames(\"i-card\", className, {\n\t\t\t\tshadow,\n\t\t\t\t\"i-card-bordered\": border,\n\t\t\t})}\n\t\t>\n\t\t\t{banner}\n\n\t\t\t{header}\n\n\t\t\t{content && <div className='i-card-content'>{content}</div>}\n\n\t\t\t{footer}\n\n\t\t\t{tailer}\n\t\t</div>\n\t);\n};\n\nCard.Header = Header;\nCard.Footer = Footer;\nCard.Banner = Banner;\nCard.Tailer = Tailer;\n\nexport default Card;\n","import { CSSProperties, ReactNode } from \"react\";\nimport { IModal } from \"../../components/modal/type\";\n\nexport type TPreviewItem = {\n\tsrc: string;\n\tname?: ReactNode;\n\tthumb?: string;\n\trotate?: number;\n\tzoom?: number;\n\tstyle?: CSSProperties;\n\ttype?: TFileType;\n\tsuffix?: string;\n};\n\nexport enum TFileType {\n\tIMAGE = \"IMAGE\",\n\tVIDEO = \"VIDEO\",\n\tAUDIO = \"AUDIO\",\n\tPDF = \"PDF\",\n\tEXCEL = \"EXCEL\",\n\tTXT = \"TXT\",\n\tUNKNOWN = \"UNKNOWN\",\n}\n\nexport interface IPreview {\n\titems: (TPreviewItem | string)[];\n\tinitial?: number;\n\tcontrols?: boolean;\n\tloop?: boolean;\n\tclassName?: string;\n\tstyle?: CSSProperties;\n\tmodalProps?: IModal;\n\trenderImage?: (file: TPreviewItem) => ReactNode;\n\trenderFile?: (file: TPreviewItem) => ReactNode;\n\tonClose?: () => void;\n\tonChange?: (after: number, before?: number) => void;\n\tonZoom?: (scale: number) => void;\n\tonRotate?: (deg: number) => void;\n}\n","import { MouseEvent, ReactNode } from \"react\";\nimport { Root, createRoot } from \"react-dom/client\";\nimport { TFileType } from \"../js/usePreview/type\";\nimport { TOption, TOptions, TRelativeOptions } from \"../type\";\n\ntype TComputePosition = {\n\tcontainerSize: number;\n\ttargetSize: number;\n\ttargetOffset: number;\n\tcontentSize: number;\n\tgap: number;\n\talign?: \"start\" | \"center\" | \"end\";\n};\n\nexport function getPosition(\n\t$source?: HTMLElement | null,\n\t$popup?: HTMLElement | null,\n\toptions: TRelativeOptions = {}\n): [\n\tx: number,\n\ty: number,\n\tz: {\n\t\tarrowX: number;\n\t\tarrowY: number;\n\t\tarrowPos: string;\n\t}\n] {\n\tconst { refWindow, gap = 0, offset = 0, position = \"top\", align } = options;\n\n\tif (!$source || !$popup)\n\t\treturn [\n\t\t\t0,\n\t\t\t0,\n\t\t\t{\n\t\t\t\tarrowX: 0,\n\t\t\t\tarrowY: 0,\n\t\t\t\tarrowPos: \"bottom\",\n\t\t\t},\n\t\t];\n\n\tconst rectT = $source.getBoundingClientRect();\n\tconst rectC = $popup.getBoundingClientRect();\n\n\tlet w = window.innerWidth;\n\tlet h = window.innerHeight;\n\tlet {\n\t\tleft: tl,\n\t\ttop: tt,\n\t\tright: tr,\n\t\tbottom: tb,\n\t\twidth: tw,\n\t\theight: th,\n\t} = rectT;\n\tconst { height: ch, width: cw } = rectC;\n\n\tif (!refWindow) {\n\t\tconst rectPa = $source.offsetParent?.getBoundingClientRect();\n\n\t\tw = rectPa?.width || w;\n\t\th = rectPa?.height || h;\n\t\ttl = $source.offsetLeft;\n\t\ttt = $source.offsetTop;\n\t\ttr = tl + rectT.width;\n\t\ttb = tt + rectT.height;\n\t}\n\n\tlet y = 0;\n\tlet x = 0;\n\tlet arrowX = 0;\n\tlet arrowY = 0;\n\tlet arrowPos = \"bottom\";\n\n\tswitch (position) {\n\t\tcase \"left\":\n\t\tcase \"right\":\n\t\t\ty =\n\t\t\t\tth !== ch\n\t\t\t\t\t? computePosition({\n\t\t\t\t\t\t\tcontainerSize: h,\n\t\t\t\t\t\t\ttargetSize: th,\n\t\t\t\t\t\t\ttargetOffset: tt,\n\t\t\t\t\t\t\tcontentSize: ch,\n\t\t\t\t\t\t\tgap,\n\t\t\t\t\t\t\talign,\n\t\t\t\t\t  })\n\t\t\t\t\t: tt;\n\t\t\tarrowY = y < tt ? tt - y + th / 2 : th / 2;\n\n\t\t\tconst xl = tl - offset - cw;\n\t\t\tconst xr = tr + offset + cw;\n\t\t\tif (position === \"left\") {\n\t\t\t\tx = xl < 0 ? tr + offset : xl;\n\t\t\t\tarrowX = xl < 0 ? 0 : cw;\n\t\t\t\tarrowPos = xl < 0 ? \"left\" : \"right\";\n\t\t\t} else {\n\t\t\t\tx = w > xr ? tr + offset : xl;\n\t\t\t\tarrowX = w > xr ? 0 : cw;\n\t\t\t\tarrowPos = w > xr ? \"left\" : \"right\";\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase \"top\":\n\t\tcase \"bottom\":\n\t\t\tx =\n\t\t\t\ttw !== cw\n\t\t\t\t\t? computePosition({\n\t\t\t\t\t\t\tcontainerSize: w,\n\t\t\t\t\t\t\ttargetOffset: tl,\n\t\t\t\t\t\t\ttargetSize: tw,\n\t\t\t\t\t\t\tcontentSize: cw,\n\t\t\t\t\t\t\tgap,\n\t\t\t\t\t\t\talign,\n\t\t\t\t\t  })\n\t\t\t\t\t: tl;\n\t\t\tarrowX = x > tl ? cw / 2 : tl - x + tw / 2;\n\n\t\t\tconst yt = tt - offset - ch;\n\t\t\tconst yb = tb + offset + ch;\n\t\t\tif (position === \"top\") {\n\t\t\t\ty = yt < 0 ? tb + offset : yt;\n\t\t\t\tarrowY = yt < 0 ? 0 : ch;\n\t\t\t\tarrowPos = yt < 0 ? \"top\" : \"bottom\";\n\t\t\t} else {\n\t\t\t\ty = h > yb ? tb + offset : yt;\n\t\t\t\tarrowY = h > yb ? 0 : ch;\n\t\t\t\tarrowPos = h > yb ? \"top\" : \"bottom\";\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\treturn [\n\t\tx,\n\t\ty,\n\t\t{\n\t\t\tarrowX,\n\t\t\tarrowY,\n\t\t\tarrowPos,\n\t\t},\n\t];\n}\n\nexport function getPointPosition(e: MouseEvent, content: HTMLElement) {\n\tconst { pageX: x, pageY: y } = e;\n\tconst { width: w, height: h } = content.getBoundingClientRect();\n\tconst { innerHeight: wh, innerWidth: ww } = window;\n\n\tconst left = x + w >= ww ? (x - w > 0 ? x - w : x) : x;\n\tconst top = y + h >= wh ? (y - h > 0 ? y - h : y) : y;\n\n\treturn [left, top];\n}\n\nfunction computePosition({\n\tcontainerSize,\n\ttargetSize,\n\ttargetOffset,\n\tcontentSize,\n\tgap,\n\talign = \"center\",\n}: TComputePosition) {\n\tconst centerPoint = targetOffset + targetSize / 2;\n\n\tswitch (align) {\n\t\tcase \"start\":\n\t\t\treturn targetOffset + contentSize > containerSize\n\t\t\t\t? targetOffset + targetSize\n\t\t\t\t: targetOffset;\n\t\tcase \"center\":\n\t\t\tif (targetSize >= contentSize) {\n\t\t\t\treturn centerPoint - contentSize / 2;\n\t\t\t}\n\n\t\t\tif (centerPoint + contentSize / 2 + gap > containerSize) {\n\t\t\t\treturn targetOffset + targetSize - contentSize;\n\t\t\t}\n\n\t\t\tif (centerPoint - contentSize / 2 - gap < 0) {\n\t\t\t\treturn gap;\n\t\t\t}\n\n\t\t\treturn centerPoint - contentSize / 2;\n\t\tcase \"end\":\n\t\t\tconst result = targetOffset + targetSize - contentSize;\n\t\t\treturn result > 0 ? result : gap;\n\t\tdefault:\n\t\t\treturn centerPoint - contentSize / 2;\n\t}\n}\n\nexport function formatOption(options: TOptions): TOption[] {\n\treturn options.map((option) =>\n\t\t[\"string\", \"number\"].includes(typeof option)\n\t\t\t? { label: option, value: option }\n\t\t\t: option\n\t) as TOption[];\n}\n\nexport function animate(\n\tfrom: number,\n\tto: number,\n\tduration: number = 1000,\n\tcallback?: (v: number) => void,\n\teasing: (t: number) => number = (t) => 1 - Math.pow(1 - t, 4)\n) {\n\tconst start = performance.now();\n\tconst diff = to - from;\n\tlet raf = requestAnimationFrame(loop);\n\n\tfunction loop() {\n\t\traf = requestAnimationFrame(loop);\n\n\t\tconst past = performance.now() - start;\n\t\tlet percent = past / duration;\n\n\t\tif (percent >= 1) {\n\t\t\tpercent = 1;\n\t\t\tcancelAnimationFrame(raf);\n\t\t}\n\n\t\tconst pass = diff * easing(percent);\n\t\tcallback?.(pass);\n\t}\n}\n\nexport function formatNumber(\n\tvalue: number,\n\toptions: {\n\t\tprecision?: number;\n\t\tthousand?: string;\n\t} = {}\n) {\n\tconst { precision, thousand } = options;\n\n\tconst result = value.toFixed(precision);\n\n\tif (!thousand) return result;\n\n\tconst points = result.split(\".\");\n\tconst integer = points[0].replace(\n\t\t/\\d{1,3}(?=(\\d{3})+(\\.\\d*)?$)/g,\n\t\t`$&${thousand}`\n\t);\n\n\tif (points.length === 1) return integer;\n\n\treturn `${integer}.${points[1]}`;\n}\n\nexport function renderNode(node: ReactNode, container = document.body) {\n\tconst div: HTMLDivElement | null = document.createElement(\"div\");\n\tcontainer.append(div);\n\n\tconst root: Root | null = createRoot(div);\n\tconst sto = setTimeout(() => {\n\t\troot?.render(node);\n\t}, 0);\n\n\treturn () => {\n\t\tdiv?.remove();\n\t\troot?.unmount();\n\t\tsto && clearTimeout(sto);\n\t};\n}\n\nexport function getSuffixByUrl(url: string) {\n\treturn url.match(/\\.([^\\./\\?]+)($|\\?)/)?.[1];\n}\n\nexport function getFileType(suffix: string, type?: string): TFileType {\n\tswitch (true) {\n\t\tcase [\"jpg\", \"jpeg\", \"png\", \"webp\", \"svg\"].includes(suffix) ||\n\t\t\ttype?.startsWith(\"image/\"):\n\t\t\treturn TFileType[\"IMAGE\"];\n\t\tcase [\"mp4\", \"avi\"].includes(suffix) || type?.startsWith(\"video/\"):\n\t\t\treturn TFileType[\"VIDEO\"];\n\t\tdefault:\n\t\t\treturn TFileType[\"UNKNOWN\"];\n\t}\n}\n\nexport function fullScreen(el: HTMLElement) {\n\tel.requestFullscreen?.();\n}\n\nexport function exitFullScreen() {\n\tdocument.exitFullscreen?.();\n}\n\nexport function formatTime(\n\ttime: number,\n\toptions?: {\n\t\tzero?: boolean;\n\t\tunits?: string[];\n\t}\n) {\n\tconst result: string[] = [];\n\tconst { zero = true, units = [\"\", \":\", \":\"] } = options || {};\n\n\tconst l = units.length;\n\tlet i = 0;\n\n\twhile (i < l) {\n\t\tif (time <= 0 && i > 1) break;\n\n\t\tconst n = Math.round(time % 60);\n\n\t\ttime = Math.floor(time / 60);\n\n\t\tresult.unshift((zero && n < 10 ? `0${n}` : n) + units[i++]);\n\t}\n\n\treturn result.join(\"\");\n}\n\nexport function getNextSorter(\n\tprevSortBy: string,\n\tprevSortType: string,\n\tsortBy: string\n): [sortBy: string, sortType: string] {\n\tconst types = [\"desc\", \"asc\"];\n\n\tif (prevSortBy === sortBy) {\n\t\tconst i = types.findIndex((t) => t === prevSortType) + 1;\n\t\tconst type = types[i] || \"\";\n\t\tconst by = type === \"\" ? \"\" : sortBy;\n\n\t\treturn [by, type];\n\t}\n\n\treturn [sortBy, \"desc\"];\n}\n\nexport function formatBytes(bytes: number, decimals = 2) {\n\tif (!+bytes) return \"0 Bytes\";\n\n\tconst k = 1024;\n\tconst dm = decimals < 0 ? 0 : decimals;\n\tconst sizes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n\n\tconst i = Math.floor(Math.log(bytes) / Math.log(k));\n\n\treturn `${parseFloat((bytes / Math.pow(k, i)).toFixed(dm))} ${sizes[i]}`;\n}\n\nexport function clamp(value: number, min: number, max: number) {\n\treturn value < min ? min : value > max ? max : value;\n}\n","import { useMemoizedFn, useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport { ChangeEvent, useEffect } from \"react\";\nimport { ICheckboxItem } from \"./type\";\n\nexport default function CheckboxItem(props: ICheckboxItem) {\n\tconst {\n\t\ttype = \"default\",\n\t\tlabel,\n\t\tname,\n\t\tvalue = false,\n\t\tclassName,\n\t\tstatus = \"normal\",\n\t\tmessage,\n\t\tdisabled,\n\t\tpartof,\n\t\tchildren,\n\t\tonChange,\n\t\t...restProps\n\t} = props;\n\n\tconst state = useReactive({\n\t\tvalue,\n\t\tstatus,\n\t\tmessage,\n\t});\n\n\tconst handleChange = useMemoizedFn((e: ChangeEvent<HTMLInputElement>) => {\n\t\tconst checked = e.target.checked;\n\n\t\tObject.assign(state, {\n\t\t\tvalue: checked,\n\t\t\tstatus,\n\t\t\tmessage,\n\t\t});\n\n\t\tonChange?.(checked, e);\n\t});\n\n\tuseEffect(() => {\n\t\tstate.value = value;\n\t}, [value]);\n\n\treturn (\n\t\t<label\n\t\t\tclassName={classNames(\n\t\t\t\t\"i-checkbox-item\",\n\t\t\t\t{\n\t\t\t\t\t[`i-checkbox-${state.status}`]: state.status !== \"normal\",\n\t\t\t\t\tdisabled,\n\t\t\t\t},\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...restProps}\n\t\t>\n\t\t\t<input\n\t\t\t\ttype='checkbox'\n\t\t\t\tname={name}\n\t\t\t\tclassName={classNames(\"i-checkbox-input\", {\n\t\t\t\t\t[`i-checkbox-${type}`]: !partof,\n\t\t\t\t\t\"i-checkbox-partof\": partof,\n\t\t\t\t})}\n\t\t\t\tchecked={state.value}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tonChange={handleChange}\n\t\t\t/>\n\n\t\t\t<span className='i-checkbox-text'>{children || label}</span>\n\n\t\t\t{state.message && (\n\t\t\t\t<span className='i-checkbox-message'>*{state.message}</span>\n\t\t\t)}\n\t\t</label>\n\t);\n}\n","import { formatOption } from \"@p/js/utils\";\nimport { useMemoizedFn, useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport { useEffect, useMemo } from \"react\";\nimport \"../../css/input.css\";\nimport \"./index.css\";\nimport CheckboxItem from \"./item\";\nimport type { ICheckbox } from \"./type\";\n\nfunction Checkbox(props: ICheckbox) {\n\tconst {\n\t\tlabel,\n\t\tname,\n\t\toptions = [],\n\t\tvalue = \"\",\n\t\ttype = \"default\",\n\t\toptionInline = true,\n\t\tlabelInline,\n\t\tdisabled,\n\t\tstatus = \"normal\",\n\t\tmessage,\n\t\trequired,\n\t\tclassName,\n\t\tonChange,\n\t\t...restProps\n\t} = props;\n\n\tconst state = useReactive<{\n\t\tvalue: any;\n\t}>({\n\t\tvalue,\n\t});\n\n\tconst formattedOptions = useMemo(() => formatOption(options), [options]);\n\n\tconst handleChange = useMemoizedFn((checked, opt, e) => {\n\t\tconst group = [...state.value];\n\t\tconst i = group.findIndex((item) => item === opt.value);\n\n\t\tif (checked && i < 0) {\n\t\t\tgroup.push(opt.value);\n\t\t} else if (!checked && i > -1) {\n\t\t\tgroup.splice(i, 1);\n\t\t}\n\n\t\tstate.value = group;\n\t\tonChange?.(group, opt, e);\n\t});\n\n\tuseEffect(() => {\n\t\tstate.value = value;\n\t}, [value]);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\n\t\t\t\t\"i-checkbox i-input-label\",\n\t\t\t\t{\n\t\t\t\t\t[`i-checkbox-${status}`]: status !== \"normal\",\n\t\t\t\t\t\"i-input-inline\": labelInline,\n\t\t\t\t},\n\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...restProps}\n\t\t>\n\t\t\t{label && (\n\t\t\t\t<span className='i-input-label-text'>\n\t\t\t\t\t{required && <span className='error'>*</span>}\n\t\t\t\t\t{label}\n\n\t\t\t\t\t{message && <p className='i-checkbox-message'>{message}</p>}\n\t\t\t\t</span>\n\t\t\t)}\n\n\t\t\t<div\n\t\t\t\tclassName={classNames(\"i-checkbox-options\", {\n\t\t\t\t\t\"i-options-block\": !optionInline,\n\t\t\t\t\t\"i-checkbox-options-button\": type === \"button\",\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t{formattedOptions.map((option) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<CheckboxItem\n\t\t\t\t\t\t\tkey={option.value as string}\n\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\tvalue={state.value.includes(option.value)}\n\t\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\t\tdisabled={disabled || option.disabled}\n\t\t\t\t\t\t\tonChange={(checked, e) =>\n\t\t\t\t\t\t\t\thandleChange(checked, option, e)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{option.label}\n\t\t\t\t\t\t</CheckboxItem>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nCheckbox.Item = CheckboxItem;\n\nexport default Checkbox;\n","import { CloseRound } from \"@ricons/material\";\nimport classNames from \"classnames\";\nimport { uid } from \"radash\";\nimport { createElement } from \"react\";\nimport Icon from \"../../icon\";\nimport \"./index.css\";\nimport { IHelperIcon } from \"./type\";\n\nconst Helpericon = (props: IHelperIcon): JSX.Element => {\n\tconst {\n\t\tas = \"a\",\n\t\tactive,\n\t\tclassName,\n\t\ticon = <CloseRound />,\n\t\t...restProps\n\t} = props;\n\n\tif (!active) return <></>;\n\n\treturn createElement(\n\t\tas,\n\t\t{\n\t\t\tclassName: classNames(\"i-helpericon\", className),\n\t\t\t...restProps,\n\t\t},\n\t\t[\n\t\t\tcreateElement(Icon, {\n\t\t\t\tkey: uid(3),\n\t\t\t\ticon,\n\t\t\t}),\n\t\t]\n\t);\n};\n\nexport default Helpericon;\n","import { MinusRound, PlusRound } from \"@ricons/material\";\nimport { useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport { Children, useMemo } from \"react\";\nimport Helpericon from \"../utils/helpericon\";\nimport \"./index.css\";\nimport Item from \"./item\";\nimport { ICollapse, ICollapseItem, TKey } from \"./type\";\n\nconst Collapse = (props: ICollapse): JSX.Element => {\n\tconst {\n\t\tactive,\n\t\titems,\n\t\tmultiple,\n\t\tborder,\n\t\theaderClickable,\n\t\tclassName,\n\t\tchildren,\n\t\trenderToggle = (active: boolean) =>\n\t\t\tactive ? <MinusRound /> : <PlusRound />,\n\t\tonCollapse,\n\t\t...restProps\n\t} = props;\n\n\tconst state = useReactive({\n\t\tactive,\n\t});\n\n\tconst collapses = useMemo(() => {\n\t\tif (!items) {\n\t\t\tif (!children) return [];\n\n\t\t\treturn (\n\t\t\t\tChildren.map(children, (node, i) => {\n\t\t\t\t\tconst { key, props: nodeProps } = node as {\n\t\t\t\t\t\tkey?: TKey;\n\t\t\t\t\t\tprops?: any;\n\t\t\t\t\t};\n\t\t\t\t\tconst { title, children, content, disabled, ...restProps } =\n\t\t\t\t\t\tnodeProps;\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...restProps,\n\t\t\t\t\t\tkey: key || i,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tcontent: children || content,\n\t\t\t\t\t\tdisabled,\n\t\t\t\t\t};\n\t\t\t\t}) || []\n\t\t\t);\n\t\t}\n\n\t\treturn items;\n\t}, [children]);\n\n\tconst handleHeaderClick = (item: ICollapseItem) => {\n\t\tif (!headerClickable) return;\n\n\t\thandleToggle(item);\n\t};\n\n\tconst handleToggle = (item: ICollapseItem) => {\n\t\tconst { key, disabled } = item;\n\t\tif (disabled) return;\n\n\t\tif (!multiple) {\n\t\t\tstate.active = state.active === key ? undefined : key;\n\t\t\tonCollapse?.(key as TKey, state.active !== undefined);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!Array.isArray(state.active)) state.active = [];\n\n\t\tconst i = state.active.findIndex((k) => k === key);\n\n\t\tif (i > -1) {\n\t\t\tstate.active.splice(i, 1);\n\t\t} else {\n\t\t\tkey !== undefined && state.active.push(key);\n\t\t}\n\t\tonCollapse?.(key as TKey, i < 0);\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\n\t\t\t\t\"i-collapse\",\n\t\t\t\t{\n\t\t\t\t\t\"i-collapse-bordered\": border,\n\t\t\t\t},\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...restProps}\n\t\t>\n\t\t\t{collapses.map((item) => {\n\t\t\t\tconst {\n\t\t\t\t\tkey,\n\t\t\t\t\ttitle,\n\t\t\t\t\tcontent,\n\t\t\t\t\tdisabled,\n\t\t\t\t\tclassName,\n\t\t\t\t\t...restProps\n\t\t\t\t} = item;\n\t\t\t\tconst isActive = multiple\n\t\t\t\t\t? ((state.active as TKey[]) || []).includes(key)\n\t\t\t\t\t: state.active === key;\n\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\tclassName={classNames(\"i-collapse-item\", className, {\n\t\t\t\t\t\t\t\"i-collapse-active\": isActive,\n\t\t\t\t\t\t\t\"i-collapse-disabled\": disabled,\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t{...restProps}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='i-collapse-header'\n\t\t\t\t\t\t\tonClick={() => handleHeaderClick(item)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{title}\n\n\t\t\t\t\t\t\t<Helpericon\n\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\tclassName='i-collapse-toggle'\n\t\t\t\t\t\t\t\ticon={renderToggle(isActive)}\n\t\t\t\t\t\t\t\tonClick={() => handleToggle(item)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className='i-collapse-content'>{content}</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n};\n\nCollapse.Item = Item;\n\nexport default Collapse;\n","import { InboxTwotone } from \"@ricons/material\";\nimport classNames from \"classnames\";\nimport \"./index.css\";\n\nexport default function Empty(props) {\n\tconst { className, ...restProps } = props;\n\n\treturn (\n\t\t<InboxTwotone\n\t\t\tclassName={classNames(\"i-empty\", className)}\n\t\t\t{...restProps}\n\t\t/>\n\t);\n}\n","import classNames from \"classnames\";\nimport { ICell, IColumn } from \"./type\";\n\nexport function getCellStyle({\n\tjustify,\n\tcol,\n\trow,\n\tcolSpan = 1,\n\trowSpan = 1,\n}: Pick<IColumn, \"justify\" | \"fixed\"> & {\n\tcol: number;\n\trow: number;\n\tcolSpan?: number;\n\trowSpan?: number;\n\tisHeader?: boolean;\n}) {\n\tconst style = {\n\t\t\"--datagrid-justify\": justify,\n\t\tgridArea: `${row + 1} / ${col + 1} / ${row + 1 + rowSpan} / ${\n\t\t\tcol + 1 + colSpan\n\t\t}`,\n\t\tinsetInline: `var(--datagrid-cell-inset-${col})`,\n\t};\n\n\treturn style;\n}\n\nexport function Cell(props: ICell) {\n\tconst { column, row, col, data, onCellClick, onCellDoubleClick } = props;\n\tconst { id, fixed, justify, rowSpan, render } = column;\n\tconst style = getCellStyle({ justify, fixed, col, row, rowSpan });\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\"i-datagrid-cell\", {\n\t\t\t\t[`i-datagrid-cell-fixed-${fixed}`]: fixed,\n\t\t\t})}\n\t\t\tdata-col={id}\n\t\t\tstyle={style}\n\t\t\tonClick={(e) => onCellClick?.(data, column, row, col, e)}\n\t\t\tonDoubleClick={(e) =>\n\t\t\t\tonCellDoubleClick?.(data, column, row, col, e)\n\t\t\t}\n\t\t>\n\t\t\t{render?.(data[id], data, col) ?? (\n\t\t\t\t<div className='i-datagrid-cell-content'>{data[id]}</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import { ICollapseItem } from \"./type\";\n\nexport default function Item(props: ICollapseItem) {\n\treturn <></>;\n}\n","import { useEffect } from \"react\";\n\ntype TMouseEvent = (e: MouseEvent) => void;\n\nconst MouseMoveEvents = new Set<TMouseEvent>();\nconst MouseUpEvents = new Set<TMouseEvent>();\n\ndocument.addEventListener(\"mousemove\", (e: MouseEvent) => {\n\tfor (const listener of MouseMoveEvents.values()) {\n\t\tlistener(e);\n\t}\n});\n\ndocument.addEventListener(\"mouseup\", (e) => {\n\tfor (const listener of MouseUpEvents.values()) {\n\t\tlistener(e);\n\t}\n});\n\nexport function useMouseMove(listener: TMouseEvent) {\n\tuseEffect(() => {\n\t\tMouseMoveEvents.add(listener);\n\t\treturn () => {\n\t\t\tMouseMoveEvents.delete(listener);\n\t\t};\n\t}, [listener]);\n}\n\nexport function useMouseUp(listener: TMouseEvent) {\n\tuseEffect(() => {\n\t\tMouseUpEvents.add(listener);\n\t\treturn () => {\n\t\t\tMouseUpEvents.delete(listener);\n\t\t};\n\t}, [listener]);\n}\n\nexport function useIntersectionObserver(configs?: IntersectionObserverInit) {\n\tconst WM = new WeakMap();\n\tconst IO = new IntersectionObserver((entries) => {\n\t\tentries.map((entry) => {\n\t\t\tconst callback = WM.get(entry.target);\n\n\t\t\tcallback?.(entry.target, entry.isIntersecting);\n\t\t});\n\t}, configs);\n\n\tfunction observe(target: HTMLElement, callback: Function) {\n\t\tif (WM.get(target)) return;\n\n\t\tWM.set(target, callback);\n\t\ttarget && IO.observe(target);\n\t}\n\n\tfunction unobserve(target: HTMLElement) {\n\t\ttarget && IO.unobserve(target);\n\t\tWM.delete(target);\n\t}\n\n\tfunction disconnect() {\n\t\tIO.disconnect();\n\t}\n\n\treturn {\n\t\tobserve,\n\t\tunobserve,\n\t\tdisconnect,\n\t};\n}\n\nexport function useResizeObserver() {\n\tconst WM = new WeakMap();\n\tconst IO = new ResizeObserver((entries) => {\n\t\tentries.map((entry) => {\n\t\t\tconst callback = WM.get(entry.target);\n\n\t\t\tcallback?.(entry.target);\n\t\t});\n\t});\n\n\tfunction observe(target: HTMLElement, callback: Function) {\n\t\tif (WM.get(target)) return;\n\n\t\ttarget && IO.observe(target);\n\t\tWM.set(target, callback);\n\t}\n\n\tfunction unobserve(target: HTMLElement) {\n\t\ttarget && IO.unobserve(target);\n\t\tWM.delete(target);\n\t}\n\n\tfunction disconnect() {\n\t\tIO.disconnect();\n\t}\n\n\treturn {\n\t\tobserve,\n\t\tunobserve,\n\t\tdisconnect,\n\t};\n}\n","import { useMouseMove, useMouseUp } from \"@p/js/hooks\";\nimport { useMemoizedFn, useReactive } from \"ahooks\";\nimport { MouseEvent } from \"react\";\n\nexport default function Resize(props) {\n\tconst { index, onWidthChange } = props;\n\tconst state = useReactive({\n\t\tresizing: false,\n\t\tx: 0,\n\t\twidth: 0,\n\t});\n\n\tconst handleMouseDown = useMemoizedFn((e: MouseEvent) => {\n\t\tconst tar = e.target as HTMLElement;\n\t\tconst width = (tar.offsetParent as HTMLElement).offsetWidth;\n\n\t\tObject.assign(state, {\n\t\t\tx: e.pageX,\n\t\t\tresizing: true,\n\t\t\twidth,\n\t\t});\n\t});\n\n\tconst handleMouseMove = useMemoizedFn((e: any) => {\n\t\tif (!state.resizing) return;\n\n\t\te.preventDefault();\n\n\t\tconst after = state.width + e.pageX - state.x;\n\t\tif (after <= 24) return;\n\n\t\tonWidthChange(index, after);\n\t});\n\n\tconst handleMouseUp = () => {\n\t\tif (!state.resizing) return;\n\n\t\tstate.resizing = false;\n\t};\n\n\tuseMouseMove(handleMouseMove);\n\tuseMouseUp(handleMouseUp);\n\n\treturn (\n\t\t<i\n\t\t\tclassName='i-datagrid-resizor'\n\t\t\tonMouseDown={handleMouseDown}\n\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t/>\n\t);\n}\n","import classNames from \"classnames\";\n\nconst Arrow = (props) => (\n\t<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' {...props}>\n\t\t<g fill='none'>\n\t\t\t<path\n\t\t\t\td='M9 17.898c0 1.074 1.265 1.648 2.073.941l6.31-5.522a1.75 1.75 0 0 0 0-2.634l-6.31-5.522C10.265 4.454 9 5.028 9 6.102v11.796z'\n\t\t\t\tfill='currentColor'\n\t\t\t></path>\n\t\t</g>\n\t</svg>\n);\n\nexport default function Sorter(props) {\n\tconst { type } = props;\n\n\treturn (\n\t\t<a\n\t\t\tclassName={classNames(\"i-datagrid-sorter\", {\n\t\t\t\t[`i-datagrid-sorter-${type}`]: type,\n\t\t\t})}\n\t\t>\n\t\t\t<Arrow className='i-datagrid-sorter-caret' />\n\t\t\t<Arrow className='i-datagrid-sorter-caret' />\n\t\t</a>\n\t);\n}\n","import classNames from \"classnames\";\nimport { Cell, getCellStyle } from \"./cell\";\nimport Resize from \"./resize\";\nimport Sorter from \"./sorter\";\nimport { IHeader, IRow } from \"./type\";\n\nexport default function Row(props: IRow) {\n\tconst { row, data, columns, onRowClick, onCellClick, onCellDoubleClick } =\n\t\tprops;\n\n\treturn (\n\t\t<div className='i-datagrid-row' onClick={() => onRowClick?.(data, row)}>\n\t\t\t{columns.map((col, i) => (\n\t\t\t\t<Cell\n\t\t\t\t\tkey={i}\n\t\t\t\t\tcolumn={col}\n\t\t\t\t\tcol={i}\n\t\t\t\t\trow={row}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tonCellClick={onCellClick}\n\t\t\t\t\tonCellDoubleClick={onCellDoubleClick}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\nexport function Header(props: IHeader) {\n\tconst {\n\t\tcolumns,\n\t\tresizable,\n\t\tsortBy,\n\t\tsortType,\n\t\tonWidthChange,\n\t\tonHeaderClick,\n\t} = props;\n\n\treturn (\n\t\t<div className='i-datagrid-header i-datagrid-row'>\n\t\t\t{columns.map((column, col) => {\n\t\t\t\tconst {\n\t\t\t\t\tid,\n\t\t\t\t\ttitle,\n\t\t\t\t\tfixed,\n\t\t\t\t\tcolSpan,\n\t\t\t\t\tsorter,\n\t\t\t\t\tjustify,\n\t\t\t\t\trenderHeader,\n\t\t\t\t} = column;\n\t\t\t\tconst style = getCellStyle({\n\t\t\t\t\tjustify,\n\t\t\t\t\trow: 0,\n\t\t\t\t\tcol,\n\t\t\t\t\tcolSpan,\n\t\t\t\t});\n\n\t\t\t\tconst order = sortBy === id ? sortType : \"\";\n\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={col}\n\t\t\t\t\t\tdata-col={id}\n\t\t\t\t\t\tclassName={classNames(\"i-datagrid-cell\", {\n\t\t\t\t\t\t\t\"i-datagrid-has-sorter\": sorter,\n\t\t\t\t\t\t\t\"i-datagrid-cell-fixed\": fixed,\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tstyle={{ ...style, insetBlockStart: 0 }}\n\t\t\t\t\t\tonClick={(e) => onHeaderClick?.(column, e)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{renderHeader?.(column, col) ?? (\n\t\t\t\t\t\t\t<div className='i-datagrid-cell-content'>\n\t\t\t\t\t\t\t\t{title || id}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{sorter && <Sorter type={order} />}\n\n\t\t\t\t\t\t{resizable && (\n\t\t\t\t\t\t\t<Resize index={col} onWidthChange={onWidthChange} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n}\n","import { getNextSorter } from \"@p/js/utils\";\nimport { useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport {\n\tCSSProperties,\n\tMouseEvent,\n\tuseCallback,\n\tuseEffect,\n\tuseMemo,\n\tuseRef,\n} from \"react\";\nimport ScrollContainer, { Scrollbars } from \"react-custom-scrollbars-2\";\nimport Loading from \"../loading\";\nimport Empty from \"../utils/empty\";\nimport \"./index.css\";\nimport Row, { Header } from \"./row\";\nimport type { IColumn, IData, IDatagrid, TDatagridState } from \"./type\";\n\nconst Datagrid = (props: IDatagrid): JSX.Element => {\n\tconst {\n\t\tdata = [],\n\t\tcolumns = [],\n\t\tborder,\n\t\tstriped,\n\t\theader = true,\n\t\tresizable,\n\t\tcellPadding = \".5em\",\n\t\tempty = <Empty />,\n\t\tloading,\n\t\theight = \"unset\",\n\t\tstyle,\n\t\tclassName,\n\t\trenderLoading = () => <Loading size='1.5em' className='color-3' />,\n\t\tonCellClick,\n\t\tonRowClick,\n\t\tonHeaderClick,\n\t\tonSort,\n\t\tonScroll,\n\t\tonResize,\n\t} = props;\n\n\tconst container = useRef<HTMLDivElement>(null);\n\tconst scrollbar = useRef<Scrollbars>(null);\n\tconst state = useReactive<TDatagridState>({\n\t\trows: data,\n\t\twidths: columns.map((col) => col.width ?? \"auto\"),\n\t\tsortBy: \"\",\n\t\tsortType: \"\",\n\t});\n\n\tconst styles = useMemo(() => {\n\t\tconst { widths } = state;\n\n\t\tconst o = {\n\t\t\t...style,\n\t\t\t\"--grid-template-columns\": widths\n\t\t\t\t.map((w) => {\n\t\t\t\t\treturn typeof w === \"number\" ? `${w}px` : w;\n\t\t\t\t})\n\t\t\t\t.join(\" \"),\n\t\t};\n\n\t\tif (!resizable) return o;\n\n\t\tconst fws = columns.map((col, i) => {\n\t\t\tconst { fixed } = col;\n\t\t\tif (!fixed) return 0;\n\t\t\treturn widths[i] as number;\n\t\t});\n\n\t\tcolumns.map((col, i) => {\n\t\t\tconst { fixed } = col;\n\t\t\tif (!fixed) return;\n\t\t\tif (i === 0) {\n\t\t\t\to[`--datagrid-cell-inset-0`] = 0;\n\t\t\t} else if (i === fws.length - 1) {\n\t\t\t\to[`--datagrid-cell-inset-${fws.length - 1}`] = \"auto 0\";\n\t\t\t} else {\n\t\t\t\tconst isLeft = fixed === \"left\";\n\t\t\t\tconst before = isLeft ? fws.slice(0, i) : fws.slice(i + 1);\n\t\t\t\tconst sum = before.reduce((pre, cur) => pre + cur) + \"px\";\n\t\t\t\tconst result = isLeft ? `${sum} auto` : `auto ${sum}`;\n\t\t\t\to[`--datagrid-cell-inset-${i}`] = result;\n\t\t\t}\n\t\t});\n\n\t\treturn o;\n\t}, [state.widths, resizable]);\n\n\tconst handleWidthChange = useCallback(\n\t\t(i: number, w: number) => {\n\t\t\tif (!resizable) return;\n\n\t\t\tconst [...ws] = state.widths;\n\t\t\tws[i] = w;\n\t\t\tstate.widths = ws;\n\t\t\tonResize?.(columns[i], w);\n\t\t},\n\t\t[resizable]\n\t);\n\n\tconst handleHeaderClick = useCallback(\n\t\t(column?: IColumn, e?: MouseEvent) => {\n\t\t\tif (column?.sorter) {\n\t\t\t\tconst [sortBy, sortType] = getNextSorter(\n\t\t\t\t\tstate.sortBy,\n\t\t\t\t\tstate.sortType,\n\t\t\t\t\tcolumn.id\n\t\t\t\t);\n\n\t\t\t\tObject.assign(state, {\n\t\t\t\t\tsortBy,\n\t\t\t\t\tsortType,\n\t\t\t\t});\n\n\t\t\t\tonSort?.(sortBy, sortType);\n\t\t\t}\n\n\t\t\tonHeaderClick?.(column, e);\n\t\t},\n\t\t[]\n\t);\n\n\tconst rows = useMemo(() => {\n\t\tconst { sortBy, sortType } = state;\n\n\t\tif (sortBy && !onSort) {\n\t\t\tconst sorter = columns.find((col) => col.id === sortBy)?.sorter;\n\t\t\tconst sortFn =\n\t\t\t\ttypeof sorter === \"function\"\n\t\t\t\t\t? sorter\n\t\t\t\t\t: (a: IData, b: IData) => b[sortBy] - a[sortBy];\n\t\t\tconst sorted = [...data].sort(sortFn);\n\n\t\t\treturn sortType === \"desc\" ? sorted : sorted.reverse();\n\t\t}\n\n\t\treturn data;\n\t}, [data, columns, state.sortBy, state.sortType]);\n\n\tuseEffect(() => {\n\t\tif (!container.current) return;\n\t\tconst { current: div } = container;\n\t\tconst tds = div.querySelector(\".i-datagrid-row\")?.children;\n\t\tif (!tds?.length) return;\n\n\t\tstate.widths = Array.from(tds).map((node: any) => node.offsetWidth);\n\t}, [columns, resizable]);\n\n\tuseEffect(() => {\n\t\tloading && scrollbar.current?.scrollTop(0);\n\t}, [loading]);\n\n\tconst scrollBarStyle = {\n\t\t\"--padding\": cellPadding,\n\t\t...styles,\n\t} as CSSProperties;\n\n\treturn (\n\t\t<ScrollContainer\n\t\t\tref={scrollbar}\n\t\t\tautoHide\n\t\t\tautoHeight\n\t\t\tautoHeightMax={height}\n\t\t\tstyle={scrollBarStyle}\n\t\t\tclassName={classNames(\"i-datagrid-container\", className, {\n\t\t\t\t\"i-datagrid-bordered\": border,\n\t\t\t\t\"i-datagrid-striped\": striped,\n\t\t\t})}\n\t\t\trenderView={(props) => (\n\t\t\t\t<div\n\t\t\t\t\t{...props}\n\t\t\t\t\tclassName={classNames({ \"i-datagrid-loading\": loading })}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\tonScroll={onScroll}\n\t\t>\n\t\t\t<div ref={container} className='i-datagrid'>\n\t\t\t\t{header && (\n\t\t\t\t\t<Header\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\tresizable={resizable}\n\t\t\t\t\t\tsortType={state.sortType}\n\t\t\t\t\t\tsortBy={state.sortBy}\n\t\t\t\t\t\tonWidthChange={handleWidthChange}\n\t\t\t\t\t\tonHeaderClick={handleHeaderClick}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{rows.map((row, i) => (\n\t\t\t\t\t<Row\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\trow={i + (header ? 1 : 0)}\n\t\t\t\t\t\tdata={row}\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\tonCellClick={onCellClick}\n\t\t\t\t\t\tonRowClick={onRowClick}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\n\t\t\t\t{rows.length < 1 && empty}\n\t\t\t</div>\n\n\t\t\t{loading && renderLoading()}\n\t\t</ScrollContainer>\n\t);\n};\n\nexport default Datagrid;\n","import classNames from \"classnames\";\nimport { IInputContainer } from \"./type\";\n\nexport default function InputContainer(props: IInputContainer) {\n\tconst {\n\t\tlabel,\n\t\tclassName,\n\t\tlabelInline,\n\t\tstyle,\n\t\tchildren,\n\t\tstatus,\n\t\ttip,\n\t\trequired,\n\t} = props;\n\n\treturn (\n\t\t<label\n\t\t\tclassName={classNames(\"i-input-label\", className, {\n\t\t\t\t\"i-input-inline\": labelInline,\n\t\t\t})}\n\t\t\tstyle={style}\n\t\t>\n\t\t\t{label && (\n\t\t\t\t<span className='i-input-label-text'>\n\t\t\t\t\t{required && <span className='error'>*</span>}\n\t\t\t\t\t{label}\n\t\t\t\t</span>\n\t\t\t)}\n\n\t\t\t{children}\n\n\t\t\t{tip && (\n\t\t\t\t<span\n\t\t\t\t\tclassName={classNames(\"i-input-message\", {\n\t\t\t\t\t\t[`i-input-${status}`]: status !== \"normal\",\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t{tip}\n\t\t\t\t</span>\n\t\t\t)}\n\t\t</label>\n\t);\n}\n","import { VisibilityOffRound, VisibilityRound } from \"@ricons/material\";\nimport { useMemoizedFn, useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport {\n\tChangeEvent,\n\tKeyboardEvent,\n\tforwardRef,\n\tuseCallback,\n\tuseEffect,\n\tuseMemo,\n} from \"react\";\nimport \"../../css/input.css\";\nimport Helpericon from \"../utils/helpericon\";\nimport InputContainer from \"./container\";\nimport type { CompositionInput, IInput } from \"./type\";\n\nconst Input = forwardRef<HTMLInputElement, IInput>((props, ref) => {\n\tconst {\n\t\ttype = \"text\",\n\t\tlabel,\n\t\tname,\n\t\tvalue = props.initValue ?? \"\",\n\t\tinitValue = \"\",\n\t\tprepend,\n\t\tappend,\n\t\tlabelInline,\n\t\tclassName,\n\t\tstatus = \"normal\",\n\t\tmessage,\n\t\ttip,\n\t\tclear,\n\t\thideVisible,\n\t\tborder,\n\t\trequired,\n\t\tonChange,\n\t\tonEnter,\n\t\tstyle,\n\t\t...restProps\n\t} = props;\n\n\tconst state = useReactive({\n\t\tvalue,\n\t\ttype,\n\t\tvisible: false,\n\t});\n\n\tconst handleChange = useCallback((e: ChangeEvent<HTMLInputElement>) => {\n\t\tconst v = e.target.value;\n\n\t\tstate.value = v;\n\t\tonChange?.(v, e);\n\t}, []);\n\n\tconst handleKeydown = useMemoizedFn((e: KeyboardEvent<HTMLElement>) => {\n\t\te.code === \"Enter\" && onEnter?.();\n\t});\n\n\tconst handleHelperClick = () => {\n\t\tif (type === \"password\" && !hideVisible) {\n\t\t\tObject.assign(state, {\n\t\t\t\tvisible: !state.visible,\n\t\t\t\ttype: !state.visible ? \"text\" : \"password\",\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tconst v = \"\";\n\t\tonChange?.(v);\n\t};\n\n\tconst HelperIcon = useMemo(() => {\n\t\tif (type === \"password\") {\n\t\t\treturn state.visible ? <VisibilityRound /> : <VisibilityOffRound />;\n\t\t}\n\n\t\treturn undefined;\n\t}, [state.visible]);\n\n\tuseEffect(() => {\n\t\tstate.value = value;\n\t}, [value]);\n\n\tconst inputProps = {\n\t\tref,\n\t\ttype: state.type,\n\t\tname,\n\t\tvalue: state.value,\n\t\tclassName: classNames(\"i-input\", `i-input-${type}`),\n\t\tonChange: handleChange,\n\t\tonKeyDown: handleKeydown,\n\t\t...restProps,\n\t};\n\n\tconst clearable = clear && state.value;\n\tconst showHelper = type === \"password\" && !!state.value;\n\n\treturn (\n\t\t<InputContainer\n\t\t\tlabel={label}\n\t\t\tlabelInline={labelInline}\n\t\t\tclassName={className}\n\t\t\tstyle={style}\n\t\t\ttip={message ?? tip}\n\t\t\tstatus={status}\n\t\t\trequired={required}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={classNames(\"i-input-item\", {\n\t\t\t\t\t[`i-input-${status}`]: status !== \"normal\",\n\t\t\t\t\t\"i-input-borderless\": !border,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t{prepend && <div className='i-input-prepend'>{prepend}</div>}\n\n\t\t\t\t<input {...inputProps} />\n\n\t\t\t\t<Helpericon\n\t\t\t\t\tactive={!!clearable || showHelper}\n\t\t\t\t\ticon={HelperIcon}\n\t\t\t\t\tonClick={handleHelperClick}\n\t\t\t\t/>\n\n\t\t\t\t{append && <div className='i-input-append'>{append}</div>}\n\t\t\t</div>\n\t\t</InputContainer>\n\t);\n}) as CompositionInput;\n\nexport default Input;\n","import { clamp, formatNumber } from \"@p/js/utils\";\nimport { MinusRound, PlusRound } from \"@ricons/material\";\nimport { useMemoizedFn, useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport { ChangeEvent, forwardRef, useCallback, useEffect } from \"react\";\nimport \"../../css/input.css\";\nimport Helpericon from \"../utils/helpericon\";\nimport InputContainer from \"./container\";\nimport type { IInputNumber } from \"./type\";\n\nconst Number = forwardRef<HTMLInputElement, IInputNumber>((props, ref) => {\n\tconst {\n\t\tlabel,\n\t\tname,\n\t\tvalue = props.initValue ?? \"\",\n\t\tinitValue,\n\t\tlabelInline,\n\t\tstep = 1,\n\t\tmin = -Infinity,\n\t\tmax = Infinity,\n\t\tthousand,\n\t\tprecision,\n\t\ttype,\n\t\tclassName,\n\t\tstatus = \"normal\",\n\t\tappend,\n\t\tborder,\n\t\tprepend,\n\t\tmessage,\n\t\ttip,\n\t\thideControl,\n\t\tstyle,\n\t\tonChange,\n\t\tonEnter,\n\t\tonInput,\n\t\tonBlur,\n\t\t...rest\n\t} = props;\n\n\tconst state = useReactive({\n\t\tvalue,\n\t});\n\n\tconst getRangeNumber = useCallback(\n\t\t(v: number) => clamp(v, min, max),\n\t\t[min, max]\n\t);\n\n\tconst getFormatNumber = useCallback(\n\t\t(v: number) => formatNumber(v, { precision, thousand }),\n\t\t[precision, thousand]\n\t);\n\n\tconst formatInputValue = useCallback(\n\t\t(v?: string | number) => {\n\t\t\tif (!v) return \"\";\n\t\t\tif (typeof v === \"number\" || !thousand) return v;\n\n\t\t\treturn v.replaceAll(thousand, \"\");\n\t\t},\n\t\t[thousand]\n\t);\n\n\tconst handleChange = useMemoizedFn((e: ChangeEvent<HTMLInputElement>) => {\n\t\tconst { value } = e.target;\n\t\tconst v = formatInputValue(value.replace(/[^\\d\\.-]/g, \"\"));\n\n\t\tstate.value = v;\n\t\tonChange?.(+v, e);\n\t});\n\n\tconst handleOperate = useMemoizedFn((param: number) => {\n\t\tconst value = formatInputValue(state.value) ?? 0;\n\t\tconst result = getRangeNumber(+value + param);\n\n\t\tstate.value = getFormatNumber(result);\n\n\t\tonChange?.(result);\n\t});\n\n\tuseEffect(() => {\n\t\tstate.value = value;\n\t}, [value]);\n\n\tconst inputProps = {\n\t\tref,\n\t\tname,\n\t\tvalue: state.value,\n\t\tclassName: \"i-input i-input-number\",\n\t\tonChange: handleChange,\n\t\t...rest,\n\t};\n\n\treturn (\n\t\t<InputContainer\n\t\t\tlabel={label}\n\t\t\tlabelInline={labelInline}\n\t\t\tclassName={className}\n\t\t\tstyle={style}\n\t\t\ttip={message ?? tip}\n\t\t\tstatus={status}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={classNames(\"i-input-item\", {\n\t\t\t\t\t[`i-input-${status}`]: status !== \"normal\",\n\t\t\t\t\t\"i-input-borderless\": !border,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t{prepend && <div className='i-input-prepend'>{prepend}</div>}\n\n\t\t\t\t{!hideControl && (\n\t\t\t\t\t<Helpericon\n\t\t\t\t\t\tactive\n\t\t\t\t\t\ticon={<MinusRound />}\n\t\t\t\t\t\tonClick={() => handleOperate(-step)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t<input {...inputProps} />\n\n\t\t\t\t{!hideControl && (\n\t\t\t\t\t<Helpericon\n\t\t\t\t\t\tactive\n\t\t\t\t\t\ticon={<PlusRound />}\n\t\t\t\t\t\tonClick={() => handleOperate(step)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{append && <div className='i-input-append'>{append}</div>}\n\t\t\t</div>\n\t\t</InputContainer>\n\t);\n});\n\nexport default Number;\n","import { useMemoizedFn, useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport {\n\tChangeEvent,\n\tKeyboardEvent,\n\tforwardRef,\n\tuseCallback,\n\tuseEffect,\n\tuseRef,\n} from \"react\";\nimport \"../../css/input.css\";\nimport InputContainer from \"./container\";\nimport type { ITextarea } from \"./type\";\n\nconst Textarea = forwardRef<HTMLTextAreaElement, ITextarea>((props, ref) => {\n\tconst {\n\t\tlabel,\n\t\tname,\n\t\tvalue = props.initValue ?? \"\",\n\t\tinitValue,\n\t\tlabelInline,\n\t\tclassName,\n\t\tstatus = \"normal\",\n\t\tmessage,\n\t\ttip,\n\t\tautoSize,\n\t\tborder,\n\t\tstyle,\n\t\tonChange,\n\t\tonEnter,\n\t\t...restProps\n\t} = props;\n\n\tconst state = useReactive({\n\t\tvalue,\n\t});\n\tconst refTextarea = useRef<HTMLDivElement>(null);\n\n\tconst handleChange = useCallback(\n\t\t(e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n\t\t\tconst v = e.target.value;\n\n\t\t\tstate.value = v;\n\n\t\t\tconst ta = refTextarea.current?.firstChild as HTMLElement;\n\t\t\tif (autoSize && ta) {\n\t\t\t\t// ta.style.height = \"inherit\";\n\t\t\t\tta.style.height = `${ta.scrollHeight}px`;\n\t\t\t}\n\n\t\t\tonChange?.(v, e);\n\t\t},\n\t\t[]\n\t);\n\n\tconst handleKeydown = useMemoizedFn((e: KeyboardEvent<HTMLElement>) => {\n\t\te.code === \"Enter\" && onEnter?.();\n\t});\n\n\tuseEffect(() => {\n\t\tstate.value = value;\n\t}, [value]);\n\n\tconst inputProps = {\n\t\tref,\n\t\tname,\n\t\tvalue: state.value,\n\t\tclassName: \"i-input i-textarea\",\n\t\tonChange: handleChange,\n\t\tonKeyDown: handleKeydown,\n\t\t...restProps,\n\t};\n\n\treturn (\n\t\t<InputContainer\n\t\t\tlabel={label}\n\t\t\tlabelInline={labelInline}\n\t\t\tclassName={className}\n\t\t\tstyle={style}\n\t\t\ttip={message ?? tip}\n\t\t\tstatus={status}\n\t\t>\n\t\t\t<div\n\t\t\t\tref={refTextarea}\n\t\t\t\tclassName={classNames(\"i-input-item\", {\n\t\t\t\t\t[`i-input-${status}`]: status !== \"normal\",\n\t\t\t\t\t\"i-input-borderless\": !border,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t<textarea {...inputProps} />\n\t\t\t</div>\n\t\t</InputContainer>\n\t);\n});\n\nexport default Textarea;\n","import Input from \"./input\";\nimport Number from \"./number\";\nimport Range from \"./range\";\nimport Textarea from \"./textarea\";\n\nInput.Textarea = Textarea;\nInput.Number = Number;\nInput.Range = Range;\n\nexport default Input;\n","import { clamp, formatNumber } from \"@p/js/utils\";\nimport { MinusRound, PlusRound, SyncAltRound } from \"@ricons/material\";\nimport { useMemoizedFn, useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport { ChangeEvent, MouseEvent, useCallback, useEffect } from \"react\";\nimport \"../../css/input.css\";\nimport Helpericon from \"../utils/helpericon\";\nimport InputContainer from \"./container\";\nimport type { IInputRange } from \"./type\";\n\nconst Range = (props: IInputRange) => {\n\tconst {\n\t\tlabel,\n\t\tname,\n\t\tvalue = props.initValue ?? \"\",\n\t\tinitValue,\n\t\tlabelInline,\n\t\tmin = -Infinity,\n\t\tmax = Infinity,\n\t\ttype,\n\t\tclassName,\n\t\tstatus = \"normal\",\n\t\tmessage,\n\t\ttip,\n\t\tappend,\n\t\tprepend,\n\t\tstep = 1,\n\t\tthousand,\n\t\tprecision,\n\t\thideControl,\n\t\tplaceholder,\n\t\tborder,\n\t\tonChange,\n\t\tonBlur,\n\t\tstyle,\n\t\t...restProps\n\t} = props;\n\n\tconst state = useReactive({\n\t\tvalue,\n\t});\n\n\tconst getRangeNumber = useCallback(\n\t\t(v: number) => clamp(v, min, max),\n\t\t[min, max]\n\t);\n\n\tconst getFormatNumber = useCallback(\n\t\t(v: number) => formatNumber(v, { precision, thousand }),\n\t\t[precision, thousand]\n\t);\n\n\tconst formatInputValue = useCallback(\n\t\t(v?: string | number) => {\n\t\t\tif (!v) return \"\";\n\t\t\tif (typeof v === \"number\" || !thousand) return v;\n\n\t\t\treturn v.replaceAll(thousand, \"\");\n\t\t},\n\t\t[thousand]\n\t);\n\n\tconst handleChange = useMemoizedFn(\n\t\t(e: ChangeEvent<HTMLInputElement>, i: number) => {\n\t\t\tconst { value } = e.target;\n\t\t\tconst v = formatInputValue(value.replace(/[^\\d\\.-]/g, \"\"));\n\n\t\t\tconst range = Array.isArray(state.value) ? state.value : [];\n\t\t\trange[i] = +v;\n\n\t\t\tstate.value = range;\n\t\t\tonChange?.(range, e);\n\t\t}\n\t);\n\n\tconst handleOperate = useMemoizedFn(\n\t\t(e: MouseEvent<Element>, param: number, i: number) => {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\n\t\t\tconst range = Array.isArray(state.value) ? state.value : [];\n\t\t\tconst value = formatInputValue(range[i]) ?? 0;\n\t\t\tconst result = getRangeNumber(+value + param);\n\n\t\t\trange[i] = getFormatNumber(result);\n\n\t\t\tstate.value = range;\n\t\t\tonChange?.(range, e);\n\t\t}\n\t);\n\n\tconst handleSwitch = useMemoizedFn((e: MouseEvent) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tconst range = state.value ?? [];\n\t\tconst v = range[0];\n\t\trange[0] = range[1];\n\t\trange[1] = v;\n\n\t\tstate.value = range;\n\t\tonChange?.(range);\n\t});\n\n\tuseEffect(() => {\n\t\tstate.value = value;\n\t}, [value]);\n\n\tconst inputProps = {\n\t\tname,\n\t\tclassName: \"i-input i-input-number\",\n\t\t...restProps,\n\t};\n\n\treturn (\n\t\t<InputContainer\n\t\t\tlabel={label}\n\t\t\tlabelInline={labelInline}\n\t\t\tclassName={className}\n\t\t\tstyle={style}\n\t\t\ttip={message ?? tip}\n\t\t\tstatus={status}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={classNames(\"i-input-item\", {\n\t\t\t\t\t[`i-input-${status}`]: status !== \"normal\",\n\t\t\t\t\t\"i-input-borderless\": !border,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t{prepend && <div className='i-input-prepend'>{prepend}</div>}\n\n\t\t\t\t{!hideControl && (\n\t\t\t\t\t<Helpericon\n\t\t\t\t\t\tactive\n\t\t\t\t\t\ticon={<MinusRound />}\n\t\t\t\t\t\tonClick={(e) => handleOperate(e, -step, 0)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t<input\n\t\t\t\t\tvalue={state.value?.[0] || \"\"}\n\t\t\t\t\tplaceholder={placeholder?.[0]}\n\t\t\t\t\t{...inputProps}\n\t\t\t\t\tonChange={(e) => handleChange(e, 0)}\n\t\t\t\t/>\n\n\t\t\t\t{!hideControl && (\n\t\t\t\t\t<Helpericon\n\t\t\t\t\t\tactive\n\t\t\t\t\t\ticon={<PlusRound />}\n\t\t\t\t\t\tonClick={(e) => handleOperate(e, step, 0)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<Helpericon\n\t\t\t\t\tactive\n\t\t\t\t\ticon={<SyncAltRound />}\n\t\t\t\t\tstyle={{ margin: 0 }}\n\t\t\t\t\tonClick={handleSwitch}\n\t\t\t\t/>\n\t\t\t\t{!hideControl && (\n\t\t\t\t\t<Helpericon\n\t\t\t\t\t\tactive\n\t\t\t\t\t\ticon={<MinusRound />}\n\t\t\t\t\t\tonClick={(e) => handleOperate(e, -step, 1)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t<input\n\t\t\t\t\tvalue={state.value?.[1] || \"\"}\n\t\t\t\t\tplaceholder={placeholder?.[1]}\n\t\t\t\t\t{...inputProps}\n\t\t\t\t\tonChange={(e) => handleChange(e, 1)}\n\t\t\t\t/>\n\n\t\t\t\t{!hideControl && (\n\t\t\t\t\t<Helpericon\n\t\t\t\t\t\tactive\n\t\t\t\t\t\ticon={<PlusRound />}\n\t\t\t\t\t\tonClick={(e) => handleOperate(e, step, 1)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{append && <div className='i-input-append'>{append}</div>}\n\t\t\t</div>\n\t\t</InputContainer>\n\t);\n};\n\nexport default Range;\n","import classNames from \"classnames\";\nimport { forwardRef, useMemo } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { IPopupContent } from \"./type\";\n\nconst Content = forwardRef<HTMLDivElement, IPopupContent>((props, ref) => {\n\tconst {\n\t\tgetContainer = (trigger) => trigger?.offsetParent ?? document.body,\n\t\ttrigger,\n\t\tarrow,\n\t\tarrowProps = {},\n\t\tclassName,\n\t\tchildren,\n\t\t...restProps\n\t} = props;\n\n\tconst arrowCSS = useMemo(() => {\n\t\tlet { left, top, pos } = arrowProps;\n\t\tlet transform = \"\";\n\n\t\tswitch (pos) {\n\t\t\tcase \"left\":\n\t\t\t\tleft += 2;\n\t\t\t\ttransform = `translate(-100%, -50%) rotate(180deg)`;\n\t\t\t\tbreak;\n\t\t\tcase \"right\":\n\t\t\t\tleft -= 2;\n\t\t\t\ttransform = `translate(0, -50%)`;\n\t\t\t\tbreak;\n\t\t\tcase \"top\":\n\t\t\t\ttop -= 2;\n\t\t\t\ttransform = `translate(-50%, -50%) rotate(-90deg)`;\n\t\t\t\tbreak;\n\t\t\tcase \"bottom\":\n\t\t\t\ttop += 2;\n\t\t\t\ttransform = `translate(-50%, -50%) rotate(90deg)`;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn {\n\t\t\tleft,\n\t\t\ttop,\n\t\t\ttransform,\n\t\t};\n\t}, [arrowProps]);\n\n\tconst content = (\n\t\t<div\n\t\t\tref={ref}\n\t\t\tclassName={classNames(\"i-popup\", className)}\n\t\t\t{...restProps}\n\t\t>\n\t\t\t{arrow && (\n\t\t\t\t<svg\n\t\t\t\t\txmlns='http://www.w3.org/2000/svg'\n\t\t\t\t\tclassName='i-popup-arrow'\n\t\t\t\t\tstyle={arrowCSS}\n\t\t\t\t>\n\t\t\t\t\t<path d='M0.5 0L1.5 0C1.5 4, 3 5.5, 5 7.5S8,10 8,12S7 14.5, 5 16.5S1.5,20 1.5,24L0.5 24L0.5 0z'></path>\n\t\t\t\t\t{/* <path d='M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z'></path> */}\n\t\t\t\t</svg>\n\t\t\t)}\n\n\t\t\t{children}\n\t\t</div>\n\t);\n\n\treturn createPortal(content, getContainer(trigger));\n});\n\nexport default Content;\n","import { useResizeObserver } from \"@p/js/hooks\";\nimport { getPointPosition, getPosition } from \"@p/js/utils\";\nimport { useClickAway, useCreation, useReactive } from \"ahooks\";\nimport {\n\tCSSProperties,\n\tChildren,\n\tMouseEvent,\n\tcloneElement,\n\tisValidElement,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseMemo,\n\tuseRef,\n} from \"react\";\nimport Content from \"./content\";\nimport \"./index.css\";\nimport { IPopup } from \"./type\";\n\nexport default function Popup(props: IPopup) {\n\tconst {\n\t\tvisible = false,\n\t\tcontent,\n\t\ttrigger = \"hover\",\n\t\tgap = 12,\n\t\toffset = 8,\n\t\tfixed,\n\t\tposition = \"top\",\n\t\tshowDelay = 16,\n\t\thideDelay = 12,\n\t\ttouchable,\n\t\tarrow = true,\n\t\talign,\n\t\tfitSize,\n\t\twatchResize,\n\t\tclickOutside = true,\n\t\tdisabled,\n\t\treferToWindow,\n\t\tstyle,\n\t\tclassName,\n\t\tgetContainer,\n\t\tchildren,\n\t\tonVisibleChange,\n\t} = props;\n\n\tconst triggerRef = useRef<HTMLElement>(null);\n\tconst contentRef = useRef<HTMLDivElement>(null);\n\tconst state = useReactive<{\n\t\tshow: boolean;\n\t\ttoggling: any;\n\t\tstyle: CSSProperties;\n\t\tarrowProps: Record<string, any>;\n\t}>({\n\t\tshow: false,\n\t\ttoggling: false,\n\t\tstyle: { position: fixed ? \"fixed\" : \"absolute\" },\n\t\tarrowProps: {},\n\t});\n\n\tuseClickAway((e: Event) => {\n\t\tif (!clickOutside) return;\n\n\t\tconst tar = e.target as HTMLElement;\n\t\tconst isContain = triggerRef.current?.contains(tar);\n\n\t\tif (!state.show) return;\n\n\t\t(!isContain || trigger === \"contextmenu\") && handleToggle(false);\n\t}, contentRef);\n\n\tconst handleShow = () => {\n\t\tif (disabled) return;\n\t\tif (\n\t\t\tstate.show &&\n\t\t\t(trigger !== \"hover\" || (trigger === \"hover\" && !touchable))\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tstate.show = true;\n\n\t\tstate.toggling && clearTimeout(state.toggling);\n\t\tstate.toggling = setTimeout(() => {\n\t\t\tconst [left, top, { arrowX, arrowY, arrowPos }] = getPosition(\n\t\t\t\ttriggerRef.current,\n\t\t\t\tcontentRef.current,\n\t\t\t\t{\n\t\t\t\t\tposition,\n\t\t\t\t\tgap,\n\t\t\t\t\toffset,\n\t\t\t\t\talign,\n\t\t\t\t\trefWindow: referToWindow,\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tstate.style = {\n\t\t\t\t...state.style,\n\t\t\t\topacity: 1,\n\t\t\t\ttransform: \"none\",\n\t\t\t\tleft,\n\t\t\t\ttop,\n\t\t\t};\n\t\t\tstate.arrowProps = {\n\t\t\t\tleft: arrowX,\n\t\t\t\ttop: arrowY,\n\t\t\t\tpos: arrowPos,\n\t\t\t};\n\t\t\tstate.toggling && clearTimeout(state.toggling);\n\t\t\tonVisibleChange?.(true);\n\t\t}, showDelay);\n\t};\n\n\tconst handleHide = () => {\n\t\tif (!state.show) return;\n\t\tstate.toggling = setTimeout(() => {\n\t\t\tstate.style = {\n\t\t\t\t...state.style,\n\t\t\t\topacity: 0,\n\t\t\t\ttransform: \"translate(0, 2px)\",\n\t\t\t};\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tstate.show = false;\n\t\t\t\tstate.toggling && clearTimeout(state.toggling);\n\t\t\t\tonVisibleChange?.(false);\n\t\t\t}, 160);\n\t\t}, hideDelay);\n\t};\n\n\tconst handleToggle = (action?: boolean) => {\n\t\tif (action !== undefined) {\n\t\t\taction ? handleShow() : handleHide();\n\t\t\treturn;\n\t\t}\n\n\t\tstate.show ? handleHide() : handleShow();\n\t};\n\tconst eventMaps = useCreation(\n\t\t() => ({\n\t\t\tclick: {\n\t\t\t\tonClick: () => handleToggle(true),\n\t\t\t},\n\t\t\thover: {\n\t\t\t\tonMouseEnter: () => handleToggle(true),\n\t\t\t\tonMouseLeave: () => handleToggle(false),\n\t\t\t},\n\t\t\tfocus: {\n\t\t\t\tonFocus: () => handleToggle(true),\n\t\t\t\tonBlur: () => handleToggle(false),\n\t\t\t},\n\t\t\tcontextmenu: {\n\t\t\t\tonContextMenu: (e: MouseEvent) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\n\t\t\t\t\tif (state.show) {\n\t\t\t\t\t\tconst [left, top] = getPointPosition(\n\t\t\t\t\t\t\te,\n\t\t\t\t\t\t\tcontentRef.current as HTMLElement\n\t\t\t\t\t\t);\n\t\t\t\t\t\tstate.style = {\n\t\t\t\t\t\t\t...state.style,\n\t\t\t\t\t\t\tleft,\n\t\t\t\t\t\t\ttop,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.show = true;\n\n\t\t\t\t\tstate.toggling = setTimeout(() => {\n\t\t\t\t\t\tconst [left, top] = getPointPosition(\n\t\t\t\t\t\t\te,\n\t\t\t\t\t\t\tcontentRef.current as HTMLElement\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tstate.style = {\n\t\t\t\t\t\t\t...state.style,\n\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\ttransform: \"none\",\n\t\t\t\t\t\t\tleft,\n\t\t\t\t\t\t\ttop,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tstate.toggling && clearTimeout(state.toggling);\n\t\t\t\t\t\tonVisibleChange?.(true);\n\t\t\t\t\t}, showDelay);\n\t\t\t\t},\n\t\t\t},\n\t\t\tnone: {},\n\t\t}),\n\t\t[]\n\t);\n\n\tconst contentTouch = useMemo(() => {\n\t\tif (!touchable) return {};\n\t\tconst events: { [key: string]: () => void } = {};\n\n\t\tif (trigger === \"hover\") {\n\t\t\tevents[\"onMouseEnter\"] = () => handleToggle(true);\n\t\t\tevents[\"onMouseLeave\"] = () => handleToggle(false);\n\t\t}\n\n\t\treturn events;\n\t}, [touchable, trigger]);\n\n\tconst computePosition = () => {\n\t\tif (!state.show) return;\n\n\t\tconst [left, top, { arrowX, arrowY, arrowPos }] = getPosition(\n\t\t\ttriggerRef.current,\n\t\t\tcontentRef.current,\n\t\t\t{\n\t\t\t\tposition,\n\t\t\t\tgap,\n\t\t\t\toffset,\n\t\t\t\talign,\n\t\t\t\trefWindow: referToWindow,\n\t\t\t}\n\t\t);\n\n\t\tObject.assign(state, {\n\t\t\tstyle: { ...state.style, left, top },\n\t\t\tarrowProps: { left: arrowX, top: arrowY, pos: arrowPos },\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tif (trigger === \"contextmenu\") return;\n\t\tconst { observe, unobserve, disconnect } = useResizeObserver();\n\n\t\ttriggerRef.current && observe(triggerRef.current, computePosition);\n\n\t\tif (!watchResize || !contentRef.current) return;\n\n\t\tobserve(contentRef.current, computePosition);\n\n\t\treturn () => {\n\t\t\tif (!watchResize || !contentRef.current) return;\n\n\t\t\tunobserve(contentRef.current);\n\t\t\ttriggerRef.current && unobserve(triggerRef.current);\n\t\t\tdisconnect();\n\t\t};\n\t}, [watchResize, contentRef.current, triggerRef.current]);\n\n\tuseLayoutEffect(() => {\n\t\tif (!fitSize || !state.show) return;\n\n\t\tconst vertical = [\"top\", \"bottom\"].includes(position);\n\t\tconst size =\n\t\t\ttriggerRef.current?.[vertical ? \"offsetWidth\" : \"offsetHeight\"];\n\t\tstate.style = { ...state.style, [vertical ? \"width\" : \"height\"]: size };\n\t}, [state.show, fitSize]);\n\n\tuseLayoutEffect(() => {\n\t\thandleToggle(visible);\n\t}, [visible]);\n\n\treturn (\n\t\t<>\n\t\t\t{Children.map(children, (child) => {\n\t\t\t\tif (!isValidElement(child)) return;\n\n\t\t\t\tconst { type, props } = child;\n\n\t\t\t\tif (typeof type === \"function\") return child;\n\n\t\t\t\tconst { className, ...rest } = props;\n\n\t\t\t\treturn cloneElement(child, {\n\t\t\t\t\tref: triggerRef,\n\t\t\t\t\tclassName,\n\t\t\t\t\t...eventMaps[trigger],\n\t\t\t\t\t...rest,\n\t\t\t\t});\n\t\t\t})}\n\n\t\t\t{state.show && (\n\t\t\t\t<Content\n\t\t\t\t\tref={contentRef}\n\t\t\t\t\tarrow={arrow && trigger !== \"contextmenu\"}\n\t\t\t\t\tstyle={{ ...style, ...state.style }}\n\t\t\t\t\tarrowProps={state.arrowProps}\n\t\t\t\t\tclassName={className}\n\t\t\t\t\t{...contentTouch}\n\t\t\t\t\ttrigger={triggerRef.current as HTMLElement}\n\t\t\t\t\tgetContainer={getContainer}\n\t\t\t\t>\n\t\t\t\t\t{content}\n\t\t\t\t</Content>\n\t\t\t)}\n\t\t</>\n\t);\n}\n","import { useMemoizedFn } from \"ahooks\";\nimport classNames from \"classnames\";\nimport dayjs, { Dayjs } from \"dayjs\";\nimport { ReactNode, useMemo } from \"react\";\nimport { IBaseDates } from \"./type\";\n\nconst Dates = (\n\tprops: IBaseDates & {\n\t\tmonth: any;\n\t}\n) => {\n\tconst {\n\t\tvalue,\n\t\tmonth,\n\t\tweeks = [\"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"日\"],\n\t\trenderDate = (date: Dayjs) => date.date(),\n\t\tdisabledDate,\n\t\tonDateClick,\n\t} = props;\n\tconst today = dayjs();\n\n\tconst dates = useMemo(() => {\n\t\tconst dates: Dayjs[] = [];\n\n\t\tconst lastDateOfLastMonth = month.add(-1, \"month\").endOf(\"month\");\n\t\tlet { $W, $D } = lastDateOfLastMonth;\n\n\t\tif ($W !== 0) {\n\t\t\tconst lastMonthDates = Array.from({ length: $W }).map(\n\t\t\t\t(whatever, i) => lastDateOfLastMonth.add(i + 1 - $W, \"day\")\n\t\t\t);\n\t\t\tdates.push(...lastMonthDates);\n\t\t}\n\n\t\tconst lastDate = month.endOf(\"month\");\n\t\t$D = lastDate.$D;\n\t\t$W = lastDate.$W;\n\t\tdates.push(\n\t\t\t...Array.from({ length: $D }).map((whatever, i) =>\n\t\t\t\tlastDate.add(i + 1 - $D, \"day\")\n\t\t\t)\n\t\t);\n\n\t\tif ($W !== 0) {\n\t\t\tdates.push(\n\t\t\t\t...Array.from({ length: 7 - $W }).map((whatever, i) =>\n\t\t\t\t\tlastDate.add(i + 1, \"day\")\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\treturn dates;\n\t}, [month]);\n\n\tconst handleDateClick = useMemoizedFn((date: Dayjs) => {\n\t\tif (disabledDate?.(date)) return;\n\n\t\tonDateClick?.(date);\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<div className='i-datepicker-weeks'>\n\t\t\t\t{weeks.map((week: ReactNode, i: number) => (\n\t\t\t\t\t<span key={i} className='i-datepicker-week'>\n\t\t\t\t\t\t{week}\n\t\t\t\t\t</span>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<div className='i-datepicker-dates'>\n\t\t\t\t{dates.map((date, i: number) => {\n\t\t\t\t\tconst active = date.isSame(value, \"day\");\n\t\t\t\t\tconst isSameMonth = date.isSame(month, \"month\");\n\t\t\t\t\tconst isToday = date.isSame(today, \"day\");\n\t\t\t\t\tconst disabled = disabledDate?.(date);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\tclassName={classNames(\"i-datepicker-item\", {\n\t\t\t\t\t\t\t\t\"i-datepicker-active\": active,\n\t\t\t\t\t\t\t\t\"i-datepicker-same-month\": isSameMonth,\n\t\t\t\t\t\t\t\t\"i-datepicker-today\": isToday,\n\t\t\t\t\t\t\t\t\"i-datepicker-disabled\": disabled,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tonClick={() => handleDateClick(date)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{renderDate(date)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default Dates;\n","import {\n\tKeyboardArrowLeftRound,\n\tKeyboardArrowRightRound,\n} from \"@ricons/material\";\nimport { useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport dayjs, { Dayjs } from \"dayjs\";\nimport { throttle } from \"radash\";\nimport { ReactNode, useCallback, useEffect, useRef } from \"react\";\nimport Icon from \"../icon\";\nimport Helpericon from \"../utils/helpericon\";\nimport Dates from \"./dates\";\nimport { IBaseDates } from \"./type\";\n\nconst MONTHS = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\n\nconst YearMonth = (\n\tprops: IBaseDates & {\n\t\tonClick?: () => void;\n\t}\n) => {\n\tconst {\n\t\tvalue,\n\t\tunitMonth = \"月\",\n\t\tunitYear = \"年\",\n\t\trenderYear,\n\t\trenderMonth,\n\t\tonClick,\n\t} = props;\n\n\treturn (\n\t\t<a className='i-datepicker-action' data-ripple onClick={onClick}>\n\t\t\t<span>{renderYear?.(value.year())}</span>\n\t\t\t{unitYear}\n\t\t\t<span>{renderMonth?.(value.month() + 1)}</span>\n\t\t\t{unitMonth}\n\t\t</a>\n\t);\n};\n\nconst Panel = (props: IBaseDates) => {\n\tconst {\n\t\tvalue,\n\t\tunitYear,\n\t\tunitMonth,\n\t\trenderDate,\n\t\trenderMonth = (m: ReactNode) => m,\n\t\trenderYear = (y: ReactNode) => y,\n\t\tdisabledDate,\n\t\tonDateClick,\n\t} = props;\n\n\tconst state = useReactive({\n\t\ttoday: value,\n\t\tmonth: value || dayjs(),\n\t\tselectedYear: dayjs(),\n\t\tyears: [] as number[],\n\t\tselectable: false,\n\t});\n\n\tconst $years = useRef<HTMLDivElement>(null);\n\n\tconst handleOperateMonth = useCallback((next: boolean) => {\n\t\tstate.month = state.month[next ? \"add\" : \"subtract\"](1, \"month\");\n\t}, []);\n\n\tconst handleChangeDate = (date: Dayjs) => {\n\t\tif (date.isSame(state.today, \"day\")) return;\n\n\t\tif (!date.isSame(state.month, \"month\")) {\n\t\t\tstate.month = date;\n\t\t}\n\n\t\tstate.today = date;\n\t\tonDateClick?.(date);\n\t};\n\n\tconst handleChangeMonth = (month: number) => {\n\t\tstate.month = state.month\n\t\t\t.year(state.selectedYear.year())\n\t\t\t.month(month - 1);\n\t\tstate.selectable = false;\n\t};\n\n\tconst getMoreYears = throttle({ interval: 100 }, (e) => {\n\t\tconst isUp = e.deltaY < 0;\n\n\t\tstate.years = state.years.map((y) => (y += isUp ? -1 : 1));\n\t});\n\n\tuseEffect(() => {\n\t\tif (!state.selectable) return;\n\n\t\tstate.selectedYear = state.month;\n\t\tconst y = state.selectedYear.year();\n\t\tconst years = Array.from({ length: 7 }).map((_, i) => y - 3 + i);\n\n\t\tstate.years = [...years];\n\t}, [state.selectable]);\n\n\tuseEffect(() => {\n\t\tstate.today = value;\n\t\tstate.month = value || dayjs();\n\t}, [value]);\n\n\treturn (\n\t\t<div className='i-datepicker'>\n\t\t\t<div className='i-datepicker-units'>\n\t\t\t\t<YearMonth\n\t\t\t\t\tvalue={state.month}\n\t\t\t\t\tunitYear={unitYear}\n\t\t\t\t\tunitMonth={unitMonth}\n\t\t\t\t\trenderMonth={renderMonth}\n\t\t\t\t\trenderYear={renderYear}\n\t\t\t\t\tonClick={() => (state.selectable = true)}\n\t\t\t\t/>\n\t\t\t\t<a\n\t\t\t\t\tclassName='ml-auto i-datepicker-action'\n\t\t\t\t\tdata-ripple\n\t\t\t\t\tonClick={() => handleOperateMonth(false)}\n\t\t\t\t>\n\t\t\t\t\t<Icon icon={<KeyboardArrowLeftRound />} />\n\t\t\t\t</a>\n\t\t\t\t<a\n\t\t\t\t\tclassName='i-datepicker-action'\n\t\t\t\t\tdata-ripple\n\t\t\t\t\tonClick={() => handleOperateMonth(true)}\n\t\t\t\t>\n\t\t\t\t\t<Icon icon={<KeyboardArrowRightRound />} />\n\t\t\t\t</a>\n\t\t\t</div>\n\n\t\t\t<div\n\t\t\t\tclassName={classNames(\"i-datepicker-ym\", {\n\t\t\t\t\t\"i-datepicker-active\": state.selectable,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t<Helpericon\n\t\t\t\t\tactive\n\t\t\t\t\tclassName='i-datepicker-close'\n\t\t\t\t\tonClick={() => (state.selectable = false)}\n\t\t\t\t/>\n\n\t\t\t\t<div\n\t\t\t\t\tref={$years}\n\t\t\t\t\tclassName='i-datepicker-years'\n\t\t\t\t\tonWheel={getMoreYears}\n\t\t\t\t>\n\t\t\t\t\t{state.years.map((y) => (\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tkey={y}\n\t\t\t\t\t\t\tclassName={classNames(\"i-datepicker-year\", {\n\t\t\t\t\t\t\t\t\"i-datepicker-active\":\n\t\t\t\t\t\t\t\t\ty === state.selectedYear.year(),\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t(state.selectedYear =\n\t\t\t\t\t\t\t\t\tstate.selectedYear.year(y))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{renderYear(y)}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\n\t\t\t\t<div className='i-datepicker-months'>\n\t\t\t\t\t{MONTHS.map((m) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tkey={m}\n\t\t\t\t\t\t\t\tclassName={classNames(\"i-datepicker-month\", {\n\t\t\t\t\t\t\t\t\t\"i-datepicker-active\":\n\t\t\t\t\t\t\t\t\t\tm === state.month.month() + 1,\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tonClick={() => handleChangeMonth(m)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{renderMonth(m)}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<Dates\n\t\t\t\tvalue={state.today}\n\t\t\t\tmonth={state.month}\n\t\t\t\tdisabledDate={disabledDate}\n\t\t\t\tonDateClick={handleChangeDate}\n\t\t\t\trenderDate={renderDate}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default Panel;\n","import { CalendarMonthTwotone } from \"@ricons/material\";\nimport { useReactive } from \"ahooks\";\nimport dayjs, { Dayjs } from \"dayjs\";\nimport customParseFormat from \"dayjs/plugin/customParseFormat\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport Icon from \"../icon\";\nimport Input from \"../input\";\nimport Popup from \"../popup\";\nimport \"./index.css\";\nimport Panel from \"./panel\";\nimport { IDatePicker } from \"./type\";\n\ndayjs.extend(customParseFormat);\n\nconst FORMATTYPES = [\"YYYY-MM-DD\", \"YYYY-M-D\", \"YYYY/MM/DD\", \"YYYY/M/D\"];\n\nconst Datepicker = (props: IDatePicker): JSX.Element => {\n\tconst {\n\t\tname,\n\t\tvalue,\n\t\tweeks,\n\t\tformat = \"YYYY-MM-DD\",\n\t\trenderDate,\n\t\trenderMonth,\n\t\trenderYear,\n\t\tpopupProps,\n\t\tdisabledDate,\n\t\tonDateClick,\n\t\tonChange,\n\t\tonBlur,\n\t\t...restProps\n\t} = props;\n\n\tconst state = useReactive({\n\t\tvalue,\n\t});\n\n\tconst [active, setActive] = useState<boolean>(false);\n\n\tconst dayJsValue = useMemo(() => {\n\t\tif (!state.value) return null;\n\n\t\tconst date = dayjs(state.value as string, format, true);\n\n\t\tif (date.isValid()) return date;\n\n\t\treturn null;\n\t}, [state.value]);\n\n\tconst handleDateClick = (date: Dayjs) => {\n\t\thandleChange(date.format(format));\n\t};\n\n\tconst handleChange = (v) => {\n\t\tstate.value = v;\n\t\tonChange?.(v);\n\t};\n\n\tconst handleSetDate = () => {\n\t\tif (!state.value) return;\n\n\t\tconst date = dayjs(state.value as string, FORMATTYPES, true);\n\n\t\tif (date.isValid()) {\n\t\t\thandleChange(date.format(format));\n\t\t\treturn;\n\t\t}\n\n\t\thandleChange(\"\");\n\t};\n\n\tconst handleBlur = (e) => {\n\t\tonBlur?.(e);\n\n\t\thandleSetDate();\n\t};\n\n\tuseEffect(() => {\n\t\tstate.value = value;\n\t}, [value]);\n\n\treturn (\n\t\t<Popup\n\t\t\tvisible={active}\n\t\t\ttrigger='click'\n\t\t\tposition='bottom'\n\t\t\tarrow={false}\n\t\t\talign='start'\n\t\t\tcontent={\n\t\t\t\t<Panel\n\t\t\t\t\tvalue={dayJsValue}\n\t\t\t\t\tweeks={weeks}\n\t\t\t\t\trenderDate={renderDate}\n\t\t\t\t\trenderMonth={renderMonth}\n\t\t\t\t\trenderYear={renderYear}\n\t\t\t\t\tdisabledDate={disabledDate}\n\t\t\t\t\tonDateClick={handleDateClick}\n\t\t\t\t/>\n\t\t\t}\n\t\t\t{...popupProps}\n\t\t\twatchResize\n\t\t\tonVisibleChange={setActive}\n\t\t>\n\t\t\t<Input\n\t\t\t\tvalue={state.value}\n\t\t\t\tprepend={\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticon={<CalendarMonthTwotone />}\n\t\t\t\t\t\tclassName='i-datepicker-icon'\n\t\t\t\t\t\tsize='1em'\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tonBlur={handleBlur}\n\t\t\t\tonEnter={handleSetDate}\n\t\t\t\t{...restProps}\n\t\t\t/>\n\t\t</Popup>\n\t);\n};\n\nexport default Datepicker;\n","import classNames from \"classnames\";\nimport { CSSProperties, Fragment } from \"react\";\nimport \"./index.css\";\nimport { IDescription } from \"./type\";\n\nconst Description = (props: IDescription): JSX.Element => {\n\tconst {\n\t\tdata,\n\t\tcolon,\n\t\tcolumns = 1,\n\t\tgap = \".5em\",\n\t\talign,\n\t\tlabelWidth,\n\t\tlabelAlign,\n\t\tvertical,\n\t\tequally,\n\t\tstyle,\n\t\tclassName,\n\t} = props;\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\"i-description\", className)}\n\t\t\tstyle={\n\t\t\t\t{\n\t\t\t\t\t[\"--description-label-width\"]: labelWidth,\n\t\t\t\t\tgridTemplateColumns: `repeat(${columns}, ${\n\t\t\t\t\t\tequally ? \"1fr\" : \"auto\"\n\t\t\t\t\t})`,\n\t\t\t\t\tgap,\n\t\t\t\t\ttextAlign: align,\n\t\t\t\t\t...style,\n\t\t\t\t} as CSSProperties\n\t\t\t}\n\t\t>\n\t\t\t{data.map((item, i) => {\n\t\t\t\tconst {\n\t\t\t\t\tlabel,\n\t\t\t\t\tvalue,\n\t\t\t\t\tstyle,\n\t\t\t\t\thidden,\n\t\t\t\t\trowSpan = 1,\n\t\t\t\t\tcolSpan = 1,\n\t\t\t\t} = item;\n\n\t\t\t\tif (hidden) return <Fragment key={i} />;\n\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tclassName={classNames(\"i-description-item\", {\n\t\t\t\t\t\t\t\"i-description-item-vertical\": vertical,\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tgridColumn: `span ${colSpan}`,\n\t\t\t\t\t\t\tgridRow: `span ${rowSpan}`,\n\t\t\t\t\t\t\t...style,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{label && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName='i-description-label'\n\t\t\t\t\t\t\t\tstyle={{ textAlign: labelAlign }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t{colon}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className='i-description-value'>{value}</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n};\n\nexport default Description;\n","import classNames from \"classnames\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport Helpericon from \"../utils/helpericon\";\nimport \"./index.css\";\nimport { IDrawer } from \"./type\";\n\nfunction Drawer(props: IDrawer) {\n\tconst {\n\t\tvisible,\n\t\tposition = \"left\",\n\t\theader,\n\t\tfooter,\n\t\tbackdropClosable = true,\n\t\thideCloseButton,\n\t\tclassName,\n\t\tchildren,\n\t\tonVisibleChange,\n\t\tonClose,\n\t\t...restProps\n\t} = props;\n\tconst [show, setShow] = useState(visible);\n\tconst [active, setActive] = useState(visible);\n\tconst toggable = useRef(true);\n\n\tuseEffect(() => {\n\t\tvisible ? handleShow() : handleHide();\n\t}, [visible]);\n\n\tconst handleShow = useCallback(() => {\n\t\tif (!toggable.current) return;\n\n\t\tsetShow(true);\n\t\tonVisibleChange?.(true);\n\t\ttoggable.current = false;\n\t\tsetTimeout(() => {\n\t\t\tsetActive(true);\n\t\t\ttoggable.current = true;\n\t\t}, 24);\n\t}, []);\n\n\tconst handleHide = useCallback(() => {\n\t\tif (!toggable.current) return;\n\t\ttoggable.current = false;\n\n\t\tsetActive(false);\n\t\tsetTimeout(() => {\n\t\t\tsetShow(false);\n\t\t\tonVisibleChange?.(false);\n\t\t\ttoggable.current = true;\n\t\t\tonClose?.();\n\t\t}, 240);\n\t}, []);\n\n\tconst handleBackdropClick = useCallback(function () {\n\t\tbackdropClosable && handleHide();\n\t}, []);\n\n\treturn createPortal(\n\t\tshow && (\n\t\t\t<div\n\t\t\t\tclassName={classNames(\"i-backdrop-drawer\", className, {\n\t\t\t\t\t\"i-active\": active,\n\t\t\t\t})}\n\t\t\t\tonClick={handleBackdropClick}\n\t\t\t\t{...restProps}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classNames(\"i-drawer\", `i-drawer-${position}`)}\n\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t>\n\t\t\t\t\t<header className='i-drawer-header'>\n\t\t\t\t\t\t{header}\n\n\t\t\t\t\t\t<Helpericon\n\t\t\t\t\t\t\tactive={!hideCloseButton}\n\t\t\t\t\t\t\tclassName='i-drawer-close'\n\t\t\t\t\t\t\tonClick={handleHide}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</header>\n\n\t\t\t\t\t<div className='i-drawer-content'>{children}</div>\n\n\t\t\t\t\t<div className='i-drawer-footer'>{footer}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t),\n\t\tdocument.body\n\t);\n}\n\nexport default Drawer;\n","import classNames from \"classnames\";\nimport { forwardRef } from \"react\";\nimport { IListItem } from \"./type\";\n\nconst Item = forwardRef<HTMLLIElement, IListItem>((props, ref) => {\n\tconst {\n\t\tactive,\n\t\ttype,\n\t\talign,\n\t\tdisabled,\n\t\tlabel,\n\t\tstyle,\n\t\tclassName,\n\t\tchildren,\n\t\t...restProps\n\t} = props;\n\n\treturn (\n\t\t<li\n\t\t\tref={ref}\n\t\t\tclassName={classNames(\"i-list-item\", className, {\n\t\t\t\t\"i-list-item-active\": active,\n\t\t\t\t\"i-list-option\": type === \"option\",\n\t\t\t\tdisabled,\n\t\t\t})}\n\t\t\tstyle={{ alignItems: align, ...style }}\n\t\t\t{...restProps}\n\t\t>\n\t\t\t{label !== undefined && (\n\t\t\t\t<span className='i-list-item-label'>{label}</span>\n\t\t\t)}\n\t\t\t{children}\n\t\t</li>\n\t);\n});\n\nexport default Item;\n","import classNames from \"classnames\";\nimport { Children, cloneElement } from \"react\";\nimport \"./index.css\";\nimport Item from \"./item\";\nimport { IList } from \"./type\";\nimport Virtual from \"./virtual\";\n\nconst List = (props: IList): JSX.Element => {\n\tconst { label, type, className, children, ...restProps } = props;\n\n\treturn (\n\t\t<ul className={classNames(\"i-list\", className)} {...restProps}>\n\t\t\t{Children.map(children, (node: any, i) => {\n\t\t\t\tconst renderLabel =\n\t\t\t\t\ttypeof label === \"function\" ? label(i) : label;\n\n\t\t\t\treturn cloneElement(node, {\n\t\t\t\t\tlabel: renderLabel,\n\t\t\t\t\t...node.props,\n\t\t\t\t\ttype,\n\t\t\t\t});\n\t\t\t})}\n\t\t</ul>\n\t);\n};\n\nList.Virtual = Virtual;\nList.Item = Item;\n\nexport default List;\n","import VList from \"rc-virtual-list\";\nimport { IVirtual } from \"./type\";\n\nconst Virtual = (props: IVirtual) => {\n\tconst { data, itemKey, renderItem, ...restProps } = props;\n\n\treturn (\n\t\t<VList data={data} itemKey={itemKey} {...restProps}>\n\t\t\t{(item, i) => {\n\t\t\t\treturn renderItem?.(item, i);\n\t\t\t}}\n\t\t</VList>\n\t);\n};\n\nexport default Virtual;\n","import List from \"../list\";\nimport Popup from \"../popup\";\nimport { IDropItem } from \"./type\";\n\nconst { Item: ListItem } = List;\n\nconst Item = (props: IDropItem) => {\n\tconst { more, moreProps, ...restProps } = props;\n\tconst Li = <ListItem {...restProps} />;\n\n\tif (!more) return Li;\n\n\treturn (\n\t\t<Popup\n\t\t\tposition='right'\n\t\t\ttouchable\n\t\t\tarrow={false}\n\t\t\talign='start'\n\t\t\toffset={10}\n\t\t\t{...moreProps}\n\t\t\tcontent={\n\t\t\t\t<List\n\t\t\t\t\tclassName='i-dropdown-content'\n\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t>\n\t\t\t\t\t{more}\n\t\t\t\t</List>\n\t\t\t}\n\t\t>\n\t\t\t{Li}\n\t\t</Popup>\n\t);\n};\n\nexport default Item;\n","import List from \"../list\";\nimport Popup from \"../popup\";\nimport \"./index.css\";\nimport Item from \"./item\";\nimport { IDropdown } from \"./type\";\n\nconst Dropdown = (props: IDropdown): JSX.Element => {\n\tconst { width, content, children, ...restProps } = props;\n\n\treturn (\n\t\t<Popup\n\t\t\ttrigger='click'\n\t\t\tposition='bottom'\n\t\t\ttouchable\n\t\t\tcontent={\n\t\t\t\t<List\n\t\t\t\t\tclassName='i-dropdown-content'\n\t\t\t\t\tstyle={{ minWidth: width }}\n\t\t\t\t>\n\t\t\t\t\t{content}\n\t\t\t\t</List>\n\t\t\t}\n\t\t\t{...restProps}\n\t\t>\n\t\t\t{children}\n\t\t</Popup>\n\t);\n};\n\nDropdown.Item = Item;\n\nexport default Dropdown;\n","import classNames from \"classnames\";\nimport { useMemo } from \"react\";\nimport \"./index.css\";\nimport { IFlex } from \"./type\";\n\nconst Flex = (props: IFlex): JSX.Element => {\n\tconst {\n\t\tas: Component = \"div\",\n\t\talign,\n\t\tjustify,\n\t\tdirection,\n\t\twrap,\n\t\tgap,\n\t\tcolumns,\n\t\tclassName,\n\t\tstyle,\n\t\t...restProps\n\t} = props;\n\n\tconst gridColumns = useMemo(() => {\n\t\tif (!columns) return;\n\n\t\tif (typeof columns === \"number\") return `repeat(${columns}, 1fr)`;\n\n\t\treturn columns;\n\t}, [columns]);\n\n\treturn (\n\t\t<Component\n\t\t\t{...restProps}\n\t\t\tstyle={{\n\t\t\t\talignItems: align,\n\t\t\t\tjustifyContent: justify,\n\t\t\t\tgap,\n\t\t\t\tflexDirection: direction,\n\t\t\t\tflexWrap: wrap === true ? \"wrap\" : wrap,\n\t\t\t\tgridTemplateColumns: gridColumns as any,\n\t\t\t\t...style,\n\t\t\t}}\n\t\t\tclassName={classNames(className, {\n\t\t\t\t[columns ? \"grid\" : \"flex\"]: true,\n\t\t\t})}\n\t\t/>\n\t);\n};\n\nexport default Flex;\n","import { createContext } from \"react\";\nimport { IFormInstance } from \"./useForm\";\n\nconst Context = createContext({} as IFormInstance);\n\nexport default Context;\n","import PubSub from \"pubsub-js\";\nimport { uid } from \"radash\";\nimport { useRef } from \"react\";\nimport { IForm, TRule } from \"./type\";\n\nexport class IFormInstance {\n\treadonly id?: string;\n\tdata: { [key: string]: any } = {};\n\trules?: Pick<IForm, \"rules\"> = {};\n\n\tconstructor() {\n\t\tthis.id = uid(8);\n\t\tthis.data = {};\n\t}\n\n\tget(field?: string) {\n\t\treturn field ? this.data[field] : this.data;\n\t}\n\n\tset(field: any, value?: any) {\n\t\tconst id = this.id;\n\t\tif (!this.data) return;\n\n\t\tif (typeof field === \"string\") {\n\t\t\tthis.data[field] = value;\n\t\t\tPubSub.publish(`${id}:set:${field}`, value);\n\t\t\treturn;\n\t\t}\n\n\t\tObject.keys(field).map((name) => {\n\t\t\tthis.data[name] = field[name];\n\t\t\tPubSub.publish(`${id}:set:${name}`, field[name]);\n\t\t});\n\t}\n\n\tclear() {\n\t\tif (!this.data) return;\n\n\t\tObject.keys(this.data).map((name) => {\n\t\t\tPubSub.publish(`${this.id}:set:${name}`, undefined);\n\t\t\tthis.data[name] = undefined;\n\t\t});\n\t}\n\n\tasync validate(field?: string) {\n\t\tconst { id, rules, data } = this;\n\t\tif (!rules) return data;\n\n\t\tif (field) {\n\t\t\tconst o = rules[field];\n\t\t\tconst rule: TRule = {\n\t\t\t\tvalidator: (v) =>\n\t\t\t\t\tArray.isArray(v)\n\t\t\t\t\t\t? v.length > 0\n\t\t\t\t\t\t: ![undefined, null, \"\"].includes(v),\n\t\t\t\tmessage: undefined,\n\t\t\t};\n\n\t\t\tif (typeof o === \"function\") {\n\t\t\t\trule.validator = o;\n\t\t\t} else if (o === true) {\n\t\t\t\trule.message = \"required\";\n\t\t\t} else {\n\t\t\t\tObject.assign(rule, o);\n\t\t\t}\n\n\t\t\tconst isValid = rule.validator?.(data[field], this);\n\n\t\t\tif (!isValid) {\n\t\t\t\tPubSub.publish(`${id}:invalid:${field}`, {\n\t\t\t\t\tmessage: rule.message,\n\t\t\t\t\tstatus: \"error\",\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tPubSub.publish(`${id}:invalid:${name}`, {\n\t\t\t\tmessage: null,\n\t\t\t\tstatus: \"normal\",\n\t\t\t});\n\t\t\treturn true;\n\t\t}\n\n\t\tlet isAllValid = true;\n\n\t\tObject.keys(data).map((name) => {\n\t\t\tconst o = rules[name];\n\t\t\tif (o === undefined) return;\n\n\t\t\tconst rule: TRule = {\n\t\t\t\tvalidator: (v) => (Array.isArray(v) ? v.length > 0 : !!v),\n\t\t\t\tmessage: undefined,\n\t\t\t};\n\n\t\t\tif (typeof o === \"function\") {\n\t\t\t\trule.validator = o;\n\t\t\t} else if (o === true) {\n\t\t\t\trule.message = \"required\";\n\t\t\t} else {\n\t\t\t\tObject.assign(rule, o);\n\t\t\t}\n\n\t\t\tconst isValid = rule.validator?.(data[name], this);\n\n\t\t\tif (!isValid) {\n\t\t\t\tPubSub.publish(`${id}:invalid:${name}`, {\n\t\t\t\t\tmessage: rule.message,\n\t\t\t\t\tstatus: \"error\",\n\t\t\t\t});\n\t\t\t\tisAllValid = false;\n\t\t\t} else {\n\t\t\t\tPubSub.publish(`${id}:invalid:${name}`, {\n\t\t\t\t\tmessage: null,\n\t\t\t\t\tstatus: \"normal\",\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn isAllValid ? data : false;\n\t}\n}\n\nexport default function useForm(form?: IFormInstance) {\n\tconst formRef = useRef<IFormInstance>();\n\n\tif (!formRef.current) {\n\t\tformRef.current = form ?? new IFormInstance();\n\t}\n\n\treturn formRef.current;\n}\n","import classNames from \"classnames\";\nimport { useEffect } from \"react\";\nimport Context from \"./context\";\nimport Field from \"./field\";\nimport \"./index.css\";\nimport { IForm } from \"./type\";\nimport useForm, { IFormInstance } from \"./useForm\";\n\nconst Form = (props: IForm): JSX.Element => {\n\tconst {\n\t\tform = {} as IFormInstance,\n\t\trules = {},\n\t\tinitialValues = {},\n\t\tstyle,\n\t\tclassName,\n\t\twidth,\n\t\tchildren,\n\t\t...rest\n\t} = props;\n\n\tuseEffect(() => {\n\t\tObject.assign(form, {\n\t\t\tdata: { ...initialValues },\n\t\t\trules: { ...rules },\n\t\t});\n\t}, [form, rules]);\n\n\treturn (\n\t\t<Context.Provider value={form}>\n\t\t\t<form\n\t\t\t\tstyle={{ ...style, width }}\n\t\t\t\tclassName={classNames(\"i-form\", className)}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</form>\n\t\t</Context.Provider>\n\t);\n};\n\nForm.useForm = useForm;\nForm.Field = Field;\n\nexport default Form;\n","import classNames from \"classnames\";\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport Button from \"../button\";\nimport Helpericon from \"../utils/helpericon\";\nimport \"./index.css\";\nimport { CompositionModal, IModal, IModalContent } from \"./type\";\n\nfunction DefaultContent(props: IModalContent) {\n\tconst {\n\t\ttitle,\n\t\tfooter,\n\t\thideCloseButton,\n\t\tfooterLeft,\n\t\tokButtonProps = {\n\t\t\tchildren: \"确定\",\n\t\t\tonClick: props.onOk,\n\t\t},\n\t\tcancelButtonProps = {\n\t\t\tsecondary: true,\n\t\t\tchildren: \"关闭\",\n\t\t\tonClick: props.onClose,\n\t\t},\n\t\tchildren,\n\t\tonClose,\n\t} = props;\n\tconst showHeader = title || !hideCloseButton;\n\n\tconst renderFooter = useMemo(() => {\n\t\tif (footer || footer === null) return footer;\n\n\t\tconst propsOk = Object.assign({}, okButtonProps);\n\t\tconst propsCancel = Object.assign({}, cancelButtonProps);\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{footerLeft}\n\t\t\t\t<Button {...propsOk} />\n\t\t\t\t<Button {...propsCancel} />\n\t\t\t</>\n\t\t);\n\t}, [footer, okButtonProps, cancelButtonProps]);\n\n\treturn (\n\t\t<>\n\t\t\t{showHeader && (\n\t\t\t\t<header className='i-modal-header'>\n\t\t\t\t\t{title && <b>{title}</b>}\n\n\t\t\t\t\t<Helpericon\n\t\t\t\t\t\tactive={!hideCloseButton}\n\t\t\t\t\t\tclassName='i-modal-close'\n\t\t\t\t\t\tonClick={onClose}\n\t\t\t\t\t/>\n\t\t\t\t</header>\n\t\t\t)}\n\n\t\t\t<div className='i-modal-content'>{children}</div>\n\n\t\t\t<footer className='i-modal-footer'>{renderFooter}</footer>\n\t\t</>\n\t);\n}\n\nfunction Modal(props: IModal) {\n\tconst {\n\t\tvisible,\n\t\ttitle,\n\t\tfooter,\n\t\tokButtonProps,\n\t\tcancelButtonProps,\n\t\tclosable = true,\n\t\thideBackdrop,\n\t\tbackdropClosable = true,\n\t\thideCloseButton,\n\t\twidth,\n\t\theight,\n\t\tcustomized,\n\t\tfixed,\n\t\tshadow = true,\n\t\tchildren,\n\t\tstyle,\n\t\tclassName,\n\t\tfooterLeft,\n\t\tonVisibleChange,\n\t\tonClose,\n\t\tonOk,\n\t\t...restProps\n\t} = props;\n\tconst [show, setShow] = useState(visible);\n\tconst [active, setActive] = useState(false);\n\tconst [bounced, setBounced] = useState(false);\n\tconst toggable = useRef(true);\n\n\tconst handleShow = useCallback(() => {\n\t\tif (!toggable.current) return;\n\n\t\tsetShow(true);\n\t\ttoggable.current = false;\n\t\tsetTimeout(() => {\n\t\t\tsetActive(true);\n\t\t\tonVisibleChange?.(true);\n\t\t\ttoggable.current = true;\n\t\t}, 24);\n\t}, []);\n\n\tconst handleHide = useCallback(() => {\n\t\tif (!toggable.current) return;\n\t\ttoggable.current = false;\n\n\t\tif (!closable) {\n\t\t\tsetBounced(true);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetBounced(false);\n\t\t\t\ttoggable.current = true;\n\t\t\t}, 400);\n\t\t\treturn;\n\t\t}\n\n\t\tsetActive(false);\n\t\tsetTimeout(() => {\n\t\t\tsetShow(false);\n\t\t\ttoggable.current = true;\n\t\t\tonVisibleChange?.(false);\n\t\t\tonClose?.();\n\t\t}, 240);\n\t}, [closable]);\n\n\tconst handleBackdropClick = useCallback(\n\t\tfunction () {\n\t\t\tbackdropClosable && handleHide();\n\t\t},\n\t\t[closable, backdropClosable]\n\t);\n\n\tuseEffect(() => {\n\t\tvisible ? handleShow() : handleHide();\n\t}, [visible]);\n\n\tif (!show) return null;\n\n\treturn createPortal(\n\t\t<div\n\t\t\tclassName={classNames(\n\t\t\t\t\"i-modal-container\",\n\t\t\t\t{\n\t\t\t\t\t\"i-modal-backdrop\": !hideBackdrop,\n\t\t\t\t\t\"i-modal-customized\": customized,\n\t\t\t\t\t\"i-modal-active\": active,\n\t\t\t\t\tfixed,\n\t\t\t\t},\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\tstyle={style}\n\t\t\tonClick={handleBackdropClick}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={classNames(\"i-modal\", {\n\t\t\t\t\tbounced,\n\t\t\t\t\tshadow,\n\t\t\t\t})}\n\t\t\t\tstyle={{\n\t\t\t\t\twidth,\n\t\t\t\t\theight,\n\t\t\t\t}}\n\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t{...restProps}\n\t\t\t>\n\t\t\t\t{customized && children}\n\n\t\t\t\t{!customized && (\n\t\t\t\t\t<DefaultContent\n\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\thideCloseButton={hideCloseButton}\n\t\t\t\t\t\tfooter={footer}\n\t\t\t\t\t\tokButtonProps={okButtonProps}\n\t\t\t\t\t\tcancelButtonProps={cancelButtonProps}\n\t\t\t\t\t\tchildren={children}\n\t\t\t\t\t\tfooterLeft={footerLeft}\n\t\t\t\t\t\tonOk={onOk}\n\t\t\t\t\t\tonClose={handleHide}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>,\n\t\tdocument.body\n\t);\n}\n\nexport default Modal as CompositionModal;\n","import { useReactive } from \"ahooks\";\nimport PubSub from \"pubsub-js\";\nimport {\n\tChildren,\n\tcloneElement,\n\tisValidElement,\n\tuseCallback,\n\tuseContext,\n\tuseEffect,\n\tuseMemo,\n} from \"react\";\nimport Context from \"./context\";\nimport { IField } from \"./type\";\n\nfunction Field(props: IField) {\n\tconst { name, required, children } = props;\n\tconst state = useReactive({\n\t\tvalue: undefined,\n\t\tstatus: \"normal\",\n\t\tmessage: undefined,\n\t\tupdate: 0,\n\t});\n\tconst form = useContext(Context);\n\tconst { id } = form;\n\n\tconst handleChange = useCallback(\n\t\t(v) => {\n\t\t\tif (!name) return;\n\n\t\t\tform.set(name, v);\n\t\t},\n\t\t[name]\n\t);\n\n\tconst hijackChildren = useMemo(() => {\n\t\treturn Children.map(children, (node) => {\n\t\t\tif (!isValidElement(node)) return null;\n\n\t\t\tconst { onChange } = node.props as any;\n\t\t\tconst { value, status, message } = state;\n\n\t\t\treturn cloneElement(node, {\n\t\t\t\tvalue,\n\t\t\t\tstatus,\n\t\t\t\tmessage,\n\t\t\t\trequired,\n\t\t\t\tonChange: (...args) => {\n\t\t\t\t\thandleChange(args[0]);\n\t\t\t\t\tonChange?.(...args);\n\t\t\t\t\tObject.assign(state, {\n\t\t\t\t\t\tstatus: \"normal\",\n\t\t\t\t\t\tmessage: undefined,\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t} as any);\n\t\t});\n\t}, [children, state.update]);\n\n\tuseEffect(() => {\n\t\tif (!name) return;\n\n\t\tPubSub.subscribe(`${id}:set:${name}`, (evt, v) => {\n\t\t\tstate.value = v;\n\t\t\tstate.update += 1;\n\t\t});\n\t\tPubSub.subscribe(`${id}:invalid:${name}`, (evt, v) => {\n\t\t\tObject.assign(state, v);\n\t\t\tstate.update += 1;\n\t\t});\n\n\t\tsetTimeout(() => {\n\t\t\tform.data[name] = form.data[name] ?? undefined;\n\t\t}, 0);\n\n\t\treturn () => {\n\t\t\tPubSub.unsubscribe(`${id}:set:${name}`);\n\t\t\tPubSub.unsubscribe(`${id}:invalid:${name}`);\n\t\t};\n\t}, [name]);\n\n\tif (!name) return children;\n\n\treturn hijackChildren;\n}\n\nexport default Field;\n","import { useReactive } from \"ahooks\";\nimport { forwardRef, useImperativeHandle } from \"react\";\nimport Modal from \"./modal\";\nimport { IModal, RefHookModal } from \"./type\";\n\nconst HookModal = forwardRef<RefHookModal, IModal>((props, ref) => {\n\tconst state = useReactive<IModal>({});\n\n\tuseImperativeHandle(ref, () => ({\n\t\tupdate: (config: IModal = {}) => {\n\t\t\tObject.assign(state, config);\n\t\t},\n\t}));\n\n\treturn <Modal {...props} {...state} />;\n});\n\nexport default HookModal;\n","import classNames from \"classnames\";\nimport { useMemo } from \"react\";\nimport \"./index.css\";\nimport { CompositionText, IText } from \"./type\";\n\nconst Text = (props: IText) => {\n\tconst {\n\t\tas: Tag = \"span\",\n\t\tsize,\n\t\tweight,\n\t\tdecoration,\n\t\tgradient,\n\t\tstyle,\n\t\tclassName,\n\t\tchildren,\n\t} = props;\n\n\tconst gradients = useMemo(() => {\n\t\tif (!gradient || !Array.isArray(gradient)) return {};\n\n\t\treturn {\n\t\t\tbackground: `-webkit-linear-gradient(${gradient.join(\",\")})`,\n\t\t\tbackgroundClip: \"text\",\n\t\t};\n\t}, [gradient]);\n\n\treturn (\n\t\t<Tag\n\t\t\tstyle={{\n\t\t\t\tfontSize: size,\n\t\t\t\tfontWeight: weight,\n\t\t\t\ttextDecoration: decoration,\n\t\t\t\t...gradients,\n\t\t\t\t...style,\n\t\t\t}}\n\t\t\tclassName={classNames(className, {\n\t\t\t\t\"i-text-gradient\": gradient,\n\t\t\t})}\n\t\t>\n\t\t\t{children}\n\t\t</Tag>\n\t);\n};\n\nexport default Text as CompositionText;\n","import Text from \"../text\";\nimport { IProgress } from \"./type\";\n\nexport default function Circle(\n\tprops: Pick<IProgress, \"value\" | \"height\" | \"size\">\n) {\n\tconst { value, height = 40, size = 8 } = props;\n\n\treturn (\n\t\t<div className='i-progress-circle'>\n\t\t\t<svg width={height} height={height}>\n\t\t\t\t<circle\n\t\t\t\t\tcx={height / 2}\n\t\t\t\t\tcy={height / 2}\n\t\t\t\t\tr={height / 2 - size / 2}\n\t\t\t\t\tfill='none'\n\t\t\t\t\tstroke='var(--background-opacity-2)'\n\t\t\t\t\tstrokeWidth={size}\n\t\t\t\t/>\n\t\t\t\t<circle\n\t\t\t\t\tcx={height / 2}\n\t\t\t\t\tcy={height / 2}\n\t\t\t\t\tr={height / 2 - size / 2}\n\t\t\t\t\tfill='none'\n\t\t\t\t\tstroke='var(--color-main)'\n\t\t\t\t\tstrokeWidth={size}\n\t\t\t\t\tstrokeDasharray={100}\n\t\t\t\t\tpathLength={100}\n\t\t\t\t\tclassName='i-progress-circle-path'\n\t\t\t\t\tstrokeLinecap='round'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tstrokeDashoffset: `calc(100 - ${value})`,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</svg>\n\n\t\t\t<span className='i-progress-circle-value'>\n\t\t\t\t<span>{value}</span>\n\t\t\t\t<Text size='.81em' className='color-7'>\n\t\t\t\t\t%\n\t\t\t\t</Text>\n\t\t\t</span>\n\t\t</div>\n\t);\n}\n","import Number from \"./number\";\nimport Text from \"./text\";\nimport Time from \"./time\";\n\nText.Number = Number;\nText.Time = Time;\n\nexport default Text;\n","import { animate, formatNumber } from \"@p/js/utils\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport Text from \"./text\";\nimport { ITextNumber } from \"./type\";\n\nexport default function Number(props: ITextNumber) {\n\tconst {\n\t\tcount,\n\t\tto,\n\t\tdecimal,\n\t\tthousand = \",\",\n\t\tduration = 2400,\n\t\teasing,\n\t\t...restProps\n\t} = props;\n\tconst [n, setN] = useState(count);\n\n\tconst number = useMemo(() => {\n\t\tif (n === undefined) return;\n\n\t\tconst z = n.toFixed(decimal);\n\n\t\tif (!thousand) return z;\n\n\t\treturn formatNumber(n, { precision: decimal, thousand });\n\t}, [n, thousand]);\n\n\tuseEffect(() => {\n\t\tif (count === undefined || to === undefined) return;\n\n\t\tanimate(count, to, duration, (v) => setN(count + v), easing);\n\t}, [to]);\n\n\tuseEffect(() => setN(count), [count]);\n\n\treturn <Text {...restProps}>{number}</Text>;\n}\n","import { formatTime } from \"@p/js/utils\";\nimport { useMemo } from \"react\";\nimport Text from \"./text\";\nimport { ITextTime } from \"./type\";\n\nexport default function Number(props: ITextTime) {\n\tconst { seconds, zero, units, ...restProps } = props;\n\n\tconst text = useMemo(() => {\n\t\tif (seconds === undefined) return \"\";\n\n\t\treturn formatTime(seconds, {\n\t\t\tzero,\n\t\t\tunits,\n\t\t});\n\t}, [seconds]);\n\n\treturn <Text {...restProps}>{text}</Text>;\n}\n","import classNames from \"classnames\";\nimport { MouseEvent, forwardRef } from \"react\";\nimport { IProgress } from \"./type\";\n\nconst Line = forwardRef<\n\tHTMLDivElement,\n\tPick<IProgress, \"value\" | \"size\" | \"barClass\" | \"renderCursor\"> & {\n\t\tdragging: boolean;\n\t\tonMouseDown: (e: MouseEvent) => void;\n\t}\n>((props, ref) => {\n\tconst { value, size, barClass, dragging, renderCursor, onMouseDown } =\n\t\tprops;\n\n\treturn (\n\t\t<div\n\t\t\tref={ref}\n\t\t\tclassName='i-progress'\n\t\t\tstyle={{ height: size }}\n\t\t\tonMouseDown={onMouseDown}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={classNames(\"i-progress-bar\", barClass, {\n\t\t\t\t\t\"no-transition\": dragging,\n\t\t\t\t})}\n\t\t\t\tstyle={{ width: `${value}%` }}\n\t\t\t>\n\t\t\t\t{renderCursor && (\n\t\t\t\t\t<a className='i-progress-cursor'>\n\t\t\t\t\t\t{renderCursor(value ?? 0)}\n\t\t\t\t\t</a>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default Line;\n","import { useMouseMove, useMouseUp } from \"@p/js/hooks\";\nimport { useMemoizedFn, useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport { MouseEvent, useEffect, useMemo, useRef } from \"react\";\nimport \"../../css/input.css\";\nimport Circle from \"./circle\";\nimport \"./index.css\";\nimport Line from \"./line\";\nimport { IProgress } from \"./type\";\n\nconst Progress = (props: IProgress): JSX.Element => {\n\tconst {\n\t\tvalue = 0,\n\t\tsize = 8,\n\t\theight = 40,\n\t\tprecision = 0,\n\t\tstyle,\n\t\tdraggable = true,\n\t\ttype = \"line\",\n\t\tbarClass,\n\t\tlabel,\n\t\tlabelInline,\n\t\tclassName,\n\t\trenderCursor,\n\t\tonChange,\n\t} = props;\n\n\tconst ref = useRef<HTMLDivElement>(null);\n\tconst state = useReactive({\n\t\tvalue,\n\t\tdragging: false,\n\t\twidth: 0,\n\t\tstart: 0,\n\t});\n\n\tconst toFixedValue = useMemo(() => {\n\t\tlet value = +state.value.toFixed(precision);\n\t\tvalue = Math.min(100, value);\n\t\tvalue = Math.max(0, value);\n\n\t\treturn value;\n\t}, [state.value, precision]);\n\n\tconst handleMouseDown = useMemoizedFn((e: MouseEvent) => {\n\t\tif (!ref.current || !draggable) return;\n\n\t\tconst rect = ref.current.getBoundingClientRect();\n\t\tconst value = ((e.pageX - rect.left) * 100) / rect.width;\n\n\t\tObject.assign(state, {\n\t\t\tvalue,\n\t\t\twidth: rect.width,\n\t\t\tstart: rect.left,\n\t\t\tdragging: true,\n\t\t});\n\t});\n\n\tconst handleMouseMove = useMemoizedFn((e: any) => {\n\t\tif (!state.dragging || !draggable) return;\n\t\te.preventDefault();\n\t\tconst { start, width } = state;\n\t\tconst offset = e.pageX - start;\n\n\t\tif (offset < 0 || offset > width) return;\n\n\t\tstate.value = ((e.pageX - start) * 100) / width;\n\t});\n\n\tconst handleMouseUp = useMemoizedFn(() => {\n\t\tif (!state.dragging || !draggable) return;\n\n\t\tonChange?.(toFixedValue);\n\t\tstate.dragging = false;\n\t});\n\n\tuseMouseMove(handleMouseMove);\n\tuseMouseUp(handleMouseUp);\n\n\tuseEffect(() => {\n\t\tif (value > 100) {\n\t\t\tstate.value = 100;\n\t\t\treturn;\n\t\t}\n\n\t\tif (value < 0) {\n\t\t\tstate.value = 0;\n\t\t\treturn;\n\t\t}\n\n\t\tstate.value = value;\n\t}, [value]);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\"i-input-label\", className, {\n\t\t\t\t\"i-input-inline\": labelInline,\n\t\t\t})}\n\t\t\tstyle={style}\n\t\t>\n\t\t\t{label && <span className='i-input-label-text'>{label}</span>}\n\n\t\t\t{type === \"line\" && (\n\t\t\t\t<Line\n\t\t\t\t\tref={ref}\n\t\t\t\t\tsize={size}\n\t\t\t\t\tbarClass={barClass}\n\t\t\t\t\tdragging={state.dragging}\n\t\t\t\t\tvalue={state.value}\n\t\t\t\t\trenderCursor={renderCursor}\n\t\t\t\t\tonMouseDown={handleMouseDown}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{type === \"circle\" && (\n\t\t\t\t<Circle value={state.value} height={height} size={size} />\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Progress;\n","import { exitFullScreen, fullScreen } from \"@p/js/utils\";\nimport {\n\tFullscreenExitRound,\n\tFullscreenRound,\n\tPauseRound,\n\tPlayArrowRound,\n\tStopRound,\n\tVolumeDownRound,\n\tVolumeOffRound,\n} from \"@ricons/material\";\nimport { useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport { forwardRef, useEffect, useImperativeHandle, useRef } from \"react\";\nimport Button from \"../button\";\nimport Icon from \"../icon\";\nimport Progress from \"../progress\";\nimport Text from \"../text\";\nimport \"./index.css\";\nimport { IVideo, RefVideo } from \"./type\";\n\nconst Video = forwardRef<RefVideo, IVideo>((props, ref): JSX.Element => {\n\tconst {\n\t\tstyle,\n\t\thideControls,\n\t\tautoplay,\n\t\tmuted,\n\t\tvolume = 50,\n\t\theight,\n\t\twidth,\n\t\tuseOriginControls,\n\t\ttimeProgressProps = {\n\t\t\tbarClass: \"bg-2\",\n\t\t},\n\t\tvolumeProgressProps = {\n\t\t\tbarClass: \"bg-1\",\n\t\t},\n\t\tclassName,\n\t\tonFullScreenChange,\n\t\t...restProps\n\t} = props;\n\tconst state = useReactive({\n\t\tplaying: autoplay,\n\t\tvolume: muted ? 0 : volume,\n\t\tvolumeCache: 0,\n\t\tmuted,\n\t\tcurrent: 0,\n\t\tduration: 0,\n\t\tisFullscreen: false,\n\t});\n\tconst $v = useRef<HTMLVideoElement>(null);\n\n\tconst timeUpdateListener = (e) => {\n\t\tconst tar = e.target;\n\t\tif (tar.paused) return;\n\n\t\tObject.assign(state, {\n\t\t\tcurrent: tar.currentTime,\n\t\t});\n\t};\n\n\tconst playChangeListener = (e) => {\n\t\tstate.playing = !e.target.paused;\n\t};\n\n\tconst fsChangeListener = () => {\n\t\tconst tar = $v.current?.parentElement;\n\t\tif (!tar) return;\n\n\t\tstate.isFullscreen = document.fullscreenElement === tar;\n\t};\n\n\tconst volumeChangeListener = (e) => {\n\t\tconst tar = e.target;\n\t\tObject.assign(state, {\n\t\t\tvolume: tar.volume * 100,\n\t\t\tmuted: tar.volume === 0,\n\t\t});\n\t};\n\n\tconst handlePlay = () => {\n\t\tconst v = $v.current;\n\t\tif (!v) return;\n\n\t\tv.paused ? v.play() : v.pause();\n\t};\n\n\tconst handleReady = (e) => {\n\t\tconst tar = e.target;\n\t\tObject.assign(state, {\n\t\t\tduration: tar.duration,\n\t\t\tcurrent: tar.currentTime,\n\t\t});\n\t\ttar.volume = state.volume / 100;\n\t};\n\n\tconst handleMuted = () => {\n\t\tconst v = $v.current;\n\t\tif (!v) return;\n\n\t\tif (v.volume > 0) {\n\t\t\tstate.volumeCache = v.volume;\n\t\t\tv.volume = 0;\n\t\t\treturn;\n\t\t}\n\t\tv.volume = state.volumeCache === 0 ? 0.5 : state.volumeCache;\n\t};\n\n\tconst handleStop = () => {\n\t\tconst v = $v.current;\n\t\tif (!v) return;\n\n\t\tv.currentTime = 0;\n\t\tv.pause();\n\t};\n\n\tconst handleFullscreen = () => {\n\t\tconst tar = $v.current?.parentElement;\n\t\tif (!tar) return;\n\n\t\tstate.isFullscreen ? exitFullScreen() : fullScreen(tar);\n\t\tonFullScreenChange?.(!state.isFullscreen);\n\t};\n\n\tconst handleUpdateTime = (t) => {\n\t\tconst v = $v.current;\n\t\tif (!v) return;\n\n\t\tv.currentTime = (state.duration * t) / 100;\n\t};\n\n\tconst handleUpdateVolume = (t) => {\n\t\tconst v = $v.current;\n\t\tif (!v) return;\n\n\t\tv.volume = t / 100;\n\t};\n\n\tuseImperativeHandle(ref, () => ({\n\t\tplay: () => {\n\t\t\tconst v = $v.current;\n\t\t\tif (!v) return;\n\n\t\t\tv.play();\n\t\t},\n\t\tpause: () => {\n\t\t\tconst v = $v.current;\n\t\t\tif (!v) return;\n\n\t\t\tv.pause();\n\t\t},\n\t\tstop: handleStop,\n\t\tfullscreen: handleFullscreen,\n\t\tgetVideo: () => $v.current,\n\t}));\n\n\tuseEffect(() => {\n\t\tconst v = $v.current;\n\t\tif (!v) return;\n\n\t\tv.addEventListener(\"timeupdate\", timeUpdateListener);\n\t\tv.addEventListener(\"play\", playChangeListener);\n\t\tv.addEventListener(\"pause\", playChangeListener);\n\t\tv.addEventListener(\"volumechange\", volumeChangeListener);\n\t\tdocument.addEventListener(\"fullscreenchange\", fsChangeListener);\n\n\t\treturn () => {\n\t\t\tv.removeEventListener(\"timeupdate\", timeUpdateListener);\n\t\t\tv.removeEventListener(\"play\", playChangeListener);\n\t\t\tv.removeEventListener(\"pause\", playChangeListener);\n\t\t\tv.removeEventListener(\"volumechange\", volumeChangeListener);\n\t\t\tdocument.removeEventListener(\"fullscreenchange\", fsChangeListener);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\"i-video\", className)}\n\t\t\tstyle={{ height, width, ...style }}\n\t\t\tonClick={handlePlay}\n\t\t\tonDoubleClick={() => handleFullscreen()}\n\t\t>\n\t\t\t<video\n\t\t\t\tref={$v}\n\t\t\t\tonCanPlay={handleReady}\n\t\t\t\t{...restProps}\n\t\t\t\tcontrols={useOriginControls}\n\t\t\t/>\n\n\t\t\t{!hideControls && !useOriginControls && (\n\t\t\t\t<div\n\t\t\t\t\tclassName='i-video-controls'\n\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t>\n\t\t\t\t\t<div className='i-video-control flex-1'>\n\t\t\t\t\t\t<Button.Toggle\n\t\t\t\t\t\t\tclassName='i-video-btn'\n\t\t\t\t\t\t\tflat\n\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\tafter={<Icon icon={<PauseRound />} />}\n\t\t\t\t\t\t\tactive={state.playing}\n\t\t\t\t\t\t\tonClick={handlePlay}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon icon={<PlayArrowRound />} />\n\t\t\t\t\t\t</Button.Toggle>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName='i-video-btn'\n\t\t\t\t\t\t\tflat\n\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\tonClick={handleStop}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon icon={<StopRound />} />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<span className='i-video-times'>\n\t\t\t\t\t\t\t<Text.Time seconds={state.current} /> /\n\t\t\t\t\t\t\t<Text.Time seconds={state.duration} />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<Progress\n\t\t\t\t\t\t\tclassName='mr-8'\n\t\t\t\t\t\t\t{...timeProgressProps}\n\t\t\t\t\t\t\tvalue={(state.current / state.duration) * 100}\n\t\t\t\t\t\t\tonChange={handleUpdateTime}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='i-video-control'>\n\t\t\t\t\t\t<Button.Toggle\n\t\t\t\t\t\t\tclassName='i-video-btn'\n\t\t\t\t\t\t\tflat\n\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\tafter={<Icon icon={<FullscreenExitRound />} />}\n\t\t\t\t\t\t\tactive={state.isFullscreen}\n\t\t\t\t\t\t\tonClick={() => handleFullscreen()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon icon={<FullscreenRound />} />\n\t\t\t\t\t\t</Button.Toggle>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='i-video-control'>\n\t\t\t\t\t\t<Button.Toggle\n\t\t\t\t\t\t\tclassName='i-video-btn'\n\t\t\t\t\t\t\tflat\n\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\tactive={state.volume <= 0}\n\t\t\t\t\t\t\tafter={\n\t\t\t\t\t\t\t\t<Icon icon={<VolumeOffRound />} size='1.2em' />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={handleMuted}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon icon={<VolumeDownRound />} />\n\t\t\t\t\t\t</Button.Toggle>\n\t\t\t\t\t\t<Progress\n\t\t\t\t\t\t\tstyle={{ width: 100 }}\n\t\t\t\t\t\t\tclassName='mr-8'\n\t\t\t\t\t\t\t{...volumeProgressProps}\n\t\t\t\t\t\t\tvalue={state.volume}\n\t\t\t\t\t\t\tonChange={handleUpdateVolume}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n});\n\nexport default Video;\n","import Icon from \"@p/components/icon\";\nimport Video from \"@p/components/video\";\nimport { FeedOutlined } from \"@ricons/material\";\nimport { TFileType, TPreviewItem } from \"./type\";\n\nexport default function renderFile(props: TPreviewItem) {\n\tconst { name, suffix, type } = props;\n\n\tswitch (type) {\n\t\tcase TFileType.IMAGE:\n\t\t\treturn <img src={props.src} />;\n\t\tcase TFileType.VIDEO:\n\t\t\treturn <Video {...props} />;\n\t\tdefault:\n\t\t\treturn (\n\t\t\t\t<div className='i-preview-unknown'>\n\t\t\t\t\t<Icon icon={<FeedOutlined />} size='3em' />\n\t\t\t\t\t<h5 className='mt-4'>{name || suffix || \"?\"}</h5>\n\t\t\t\t</div>\n\t\t\t);\n\t}\n}\n","import Button from \"@p/components/button\";\nimport Icon from \"@p/components/icon\";\nimport {\n\tAspectRatioRound,\n\tCloseRound,\n\tFileDownloadOutlined,\n\tKeyboardArrowLeftRound,\n\tKeyboardArrowRightRound,\n\tOpenInNewRound,\n\tRotateLeftRound,\n\tRotateRightRound,\n} from \"@ricons/material\";\nimport { useReactive } from \"ahooks\";\nimport { throttle } from \"radash\";\nimport { useMemo, useRef } from \"react\";\nimport { getFileType, getSuffixByUrl } from \"../utils\";\nimport DefaultRenderFile from \"./renderFile\";\nimport { IPreview, TFileType, TPreviewItem } from \"./type\";\n\nexport default function Content(props: IPreview) {\n\tconst {\n\t\titems = [],\n\t\tinitial = 0,\n\t\trenderFile = DefaultRenderFile,\n\t\tonRotate,\n\t\tonChange,\n\t\tonClose,\n\t\tonZoom,\n\t} = props;\n\tconst state = useReactive({\n\t\tcurrent: initial,\n\t\trotate: 0,\n\t\tscale: 1,\n\t\ttranslate: `0, 0`,\n\t});\n\tconst box = useRef<HTMLDivElement>(null);\n\n\tconst files = useMemo(() => {\n\t\treturn items.map((item) => {\n\t\t\tconst o: TPreviewItem = {\n\t\t\t\tsrc: \"\",\n\t\t\t};\n\t\t\tif (typeof item === \"string\") {\n\t\t\t\to.src = item;\n\t\t\t} else {\n\t\t\t\tObject.assign(o, item);\n\t\t\t}\n\n\t\t\to.suffix = getSuffixByUrl(o.src) || \"\";\n\t\t\to.type = getFileType(o.suffix, item[\"type\"]);\n\n\t\t\treturn o;\n\t\t});\n\t}, [items]);\n\n\tconst { file, content } = useMemo(() => {\n\t\tconst file = files[state.current];\n\t\tconst content = renderFile(file);\n\n\t\treturn {\n\t\t\tfile,\n\t\t\tcontent,\n\t\t};\n\t}, [state.current, items]);\n\n\tconst isImage = file.type === TFileType.IMAGE;\n\n\tconst handleSwitch = (next: number) => {\n\t\tconst l = files.length;\n\t\tconst { current: before } = state;\n\t\tif (next >= l) {\n\t\t\tstate.current = 0;\n\t\t} else if (next < 0) {\n\t\t\tstate.current = l - 1;\n\t\t} else {\n\t\t\tstate.current = next;\n\t\t}\n\t\tonChange?.(state.current, before);\n\n\t\tstate.rotate = files[state.current].rotate || 0;\n\n\t\tif (state.scale !== 1) {\n\t\t\tstate.scale = 1;\n\t\t\tonZoom?.(1);\n\t\t}\n\t\tonRotate?.(state.rotate);\n\t};\n\n\tconst handleRotate = (deg: number) => {\n\t\tstate.rotate += deg;\n\n\t\tonRotate?.(state.rotate);\n\t};\n\n\tconst handleMouseWheel = throttle({ interval: 60 }, (e) => {\n\t\tif (!isImage) return;\n\t\tlet after = state.scale + (e.deltaY < 0 ? 0.05 : -0.05);\n\t\tif (after > 2) after = 2;\n\t\tif (after < 0.25) after = 0.25;\n\n\t\tonZoom?.(after);\n\t\tstate.scale = after;\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tref={box}\n\t\t\t\tclassName='i-preview-content'\n\t\t\t\tstyle={{\n\t\t\t\t\ttransform: `rotate(${state.rotate}deg) scale(${state.scale})`,\n\t\t\t\t}}\n\t\t\t\tonWheel={handleMouseWheel}\n\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t>\n\t\t\t\t{content}\n\t\t\t</div>\n\n\t\t\t<div className='i-preview-controls'>\n\t\t\t\t<Button square flat onClick={onClose}>\n\t\t\t\t\t<Icon icon={<CloseRound />} />\n\t\t\t\t</Button>\n\t\t\t\t{files.length > 1 && (\n\t\t\t\t\t<span className='px-8'>\n\t\t\t\t\t\t{state.current + 1} / {files.length}\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t\t{state.scale !== 1 && (\n\t\t\t\t\t<Button flat onClick={() => (state.scale = 1)}>\n\t\t\t\t\t\t<Icon icon={<AspectRatioRound />} />\n\t\t\t\t\t\t<span className='mt-4'>\n\t\t\t\t\t\t\t{(state.scale * 100).toFixed(0)}%\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t<Button square flat href={file.src} target='_blank'>\n\t\t\t\t\t<Icon icon={<OpenInNewRound />} />\n\t\t\t\t</Button>\n\t\t\t\t<Button square flat href={file.src} download target='_blank'>\n\t\t\t\t\t<Icon icon={<FileDownloadOutlined />} />\n\t\t\t\t</Button>\n\t\t\t\t<Button square flat onClick={() => handleRotate(90)}>\n\t\t\t\t\t<Icon icon={<RotateRightRound />} />\n\t\t\t\t</Button>\n\t\t\t\t<Button square flat onClick={() => handleRotate(-90)}>\n\t\t\t\t\t<Icon icon={<RotateLeftRound />} />\n\t\t\t\t</Button>\n\n\t\t\t\t{files.length > 1 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\tflat\n\t\t\t\t\t\t\tonClick={() => handleSwitch(state.current - 1)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon icon={<KeyboardArrowLeftRound />} />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\tflat\n\t\t\t\t\t\t\tonClick={() => handleSwitch(state.current + 1)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon icon={<KeyboardArrowRightRound />} />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","import HookModal from \"@p/components/modal/hookModal\";\nimport { RefHookModal } from \"@p/components/modal/type\";\nimport { useRef } from \"react\";\nimport { renderNode } from \"../utils\";\nimport Content from \"./content\";\nimport \"./index.css\";\nimport { IPreview } from \"./type\";\n\nexport default function usePreview() {\n\tconst ref = useRef<RefHookModal>(null);\n\n\tconst preview = (config: IPreview) => {\n\t\tconst { items, modalProps, onClose, ...restProps } = config;\n\n\t\tconst handleClose = () => {\n\t\t\tonClose?.();\n\t\t\tunMount?.();\n\t\t};\n\n\t\tconst unMount = renderNode(\n\t\t\t<HookModal\n\t\t\t\tref={ref}\n\t\t\t\tvisible\n\t\t\t\tclassName='i-preview'\n\t\t\t\tcustomized\n\t\t\t\tshadow={false}\n\t\t\t\t{...modalProps}\n\t\t\t\tchildren={\n\t\t\t\t\t<Content\n\t\t\t\t\t\t{...restProps}\n\t\t\t\t\t\titems={items}\n\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\tref.current?.update({ visible: false });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\tfixed\n\t\t\t\tonClose={handleClose}\n\t\t\t/>\n\t\t);\n\t};\n\n\treturn preview;\n}\n","import { useIntersectionObserver } from \"@p/js/hooks\";\nimport usePreview from \"@p/js/usePreview\";\nimport { TFileType } from \"@p/js/usePreview/type\";\nimport { HideImageTwotone } from \"@ricons/material\";\nimport { useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport { useEffect, useRef } from \"react\";\nimport Icon from \"../icon\";\nimport Loading from \"../loading\";\nimport \"./index.css\";\nimport { CompositionImage, IImage } from \"./type\";\n\nconst Image = (props: IImage) => {\n\tconst {\n\t\tsrc,\n\t\tround,\n\t\tsize,\n\t\tinitSize,\n\t\tlazyload,\n\t\tfallback = (\n\t\t\t<Icon icon={<HideImageTwotone />} size='2em' className='color-5' />\n\t\t),\n\t\tfit,\n\t\tstyle,\n\t\tclassName,\n\t\tchildren,\n\t\tusePreview: previewable,\n\t\tonLoad,\n\t\tonError,\n\t\tonClick,\n\t\t...restProps\n\t} = props;\n\n\tconst state = useReactive<{ status?: string }>({\n\t\tstatus: \"loading\",\n\t});\n\tconst ref = useRef<HTMLImageElement>(null);\n\tconst wh = fit ? \"100%\" : undefined;\n\n\tconst { observe, unobserve } = useIntersectionObserver();\n\tconst preview = usePreview();\n\n\tconst handleError = (err) => {\n\t\tonError?.(err);\n\t\tstate.status = \"error\";\n\t};\n\n\tconst handleLoad = (e) => {\n\t\tonLoad?.(e);\n\t\tstate.status = undefined;\n\t};\n\n\tconst handleClick = (e) => {\n\t\tonClick?.(e);\n\n\t\tpreviewable &&\n\t\t\tsrc &&\n\t\t\tpreview({\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tsrc,\n\t\t\t\t\t\ttype: TFileType.IMAGE,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tif (!src) return;\n\n\t\tstate.status = \"loading\";\n\n\t\tif (!lazyload || !ref.current) return;\n\n\t\tobserve(ref.current, (tar: HTMLElement, visible: boolean) => {\n\t\t\tif (!visible) return;\n\n\t\t\ttar.setAttribute(\"src\", tar.dataset.src || \"\");\n\t\t\tunobserve(tar);\n\t\t});\n\n\t\treturn () => {\n\t\t\tref.current && unobserve(ref.current);\n\t\t};\n\t}, [src]);\n\n\trestProps[lazyload ? \"data-src\" : \"src\"] = src;\n\tconst iSize = state.status === \"loading\" ? initSize : undefined;\n\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\twidth: size ?? iSize,\n\t\t\t\theight: size ?? iSize,\n\t\t\t\t...style,\n\t\t\t}}\n\t\t\tclassName={classNames(\"i-image\", className, {\n\t\t\t\trounded: round,\n\t\t\t\t[`i-image-${state.status}`]: state.status,\n\t\t\t})}\n\t\t>\n\t\t\t{state.status === \"error\" ? (\n\t\t\t\tfallback\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t{src && (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\tstyle={{ objectFit: fit, width: wh, height: wh }}\n\t\t\t\t\t\t\t{...restProps}\n\t\t\t\t\t\t\tonLoad={handleLoad}\n\t\t\t\t\t\t\tonError={handleError}\n\t\t\t\t\t\t\tonClick={handleClick}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{src && state.status === \"loading\" && <Loading />}\n\n\t\t\t\t\t{children && <div className='i-image-text'>{children}</div>}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Image as CompositionImage;\n","import Image from \"./image\";\nimport List from \"./list\";\n\nImage.List = List;\n\nexport default Image;\n","import usePreview from \"@p/js/usePreview\";\nimport { TPreviewItem } from \"@p/js/usePreview/type\";\nimport { getFileType, getSuffixByUrl } from \"@p/js/utils\";\nimport { useMemo } from \"react\";\nimport Flex from \"../flex\";\nimport Image from \"./image\";\nimport { IImageList } from \"./type\";\n\nexport default function List(props: IImageList) {\n\tconst {\n\t\titems = [],\n\t\tgap = 8,\n\t\tcolumns,\n\t\twrap,\n\t\tdirection,\n\t\tusePreview: previewable,\n\t\tonClick,\n\t\t...restProps\n\t} = props;\n\tconst preview = usePreview();\n\n\tconst files = useMemo(() => {\n\t\treturn items.map((item) => {\n\t\t\tconst o: TPreviewItem = {\n\t\t\t\tsrc: \"\",\n\t\t\t};\n\t\t\tif (typeof item === \"string\") {\n\t\t\t\to.src = item;\n\t\t\t} else {\n\t\t\t\tObject.assign(o, item);\n\t\t\t}\n\n\t\t\to.suffix = getSuffixByUrl(o.src) || \"\";\n\t\t\to.type = getFileType(o.suffix, item[\"type\"]);\n\n\t\t\treturn o;\n\t\t});\n\t}, [items]);\n\n\tconst handleClick = (e, i) => {\n\t\tonClick?.(e);\n\n\t\tpreviewable &&\n\t\t\tpreview({\n\t\t\t\titems: files,\n\t\t\t\tinitial: i,\n\t\t\t});\n\t};\n\n\tif (!files.length) return \"\";\n\n\treturn (\n\t\t<Flex\n\t\t\tclassName='i-image-list'\n\t\t\tgap={gap}\n\t\t\tcolumns={columns}\n\t\t\twrap={wrap}\n\t\t\tdirection={direction}\n\t\t>\n\t\t\t{files.map((img, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Image\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tsrc={img.src}\n\t\t\t\t\t\tsize={60}\n\t\t\t\t\t\tusePreview={false}\n\t\t\t\t\t\tonClick={(e) => handleClick(e, i)}\n\t\t\t\t\t\t{...restProps}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})}\n\t\t</Flex>\n\t);\n}\n","import { useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport { uid } from \"radash\";\nimport {\n\tReactNode,\n\tforwardRef,\n\tisValidElement,\n\tuseEffect,\n\tuseRef,\n} from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport \"./index.css\";\nimport type { IMessage, IMessageItem, THeights, TMessageQueue } from \"./type\";\n\nconst AlignMap = {\n\tleft: \"flex-start\",\n\tcenter: \"center\",\n\tright: \"flex-end\",\n};\n\nconst GlobalConfig = {\n\talign: \"center\",\n\toffset: \"12px\",\n\tgap: 12,\n\tmax: 0,\n};\n\nconst ItemDefaultConfig = {\n\tduration: 3000,\n\tclosable: true,\n\tactive: false,\n};\n\nconst container = createContainer();\nconst handler = {\n\tcallout(item: IMessage) {},\n\tclose() {},\n};\n\nconst queue: TMessageQueue = {\n\tleft: [],\n\tcenter: [],\n\tright: [],\n};\nconst heights: THeights = {\n\tleft: [],\n\tcenter: [],\n\tright: [],\n};\n\ncreateRoot(container).render(<Messages />);\n\nconst MessageItem = forwardRef<HTMLDivElement, IMessageItem>(function (\n\t{ active, content, top, className, style, onClick },\n\tref\n) {\n\treturn (\n\t\t<div\n\t\t\tref={ref}\n\t\t\tclassName={classNames(\"i-message\", className, {\n\t\t\t\t\"i-message-active\": active,\n\t\t\t})}\n\t\t\tstyle={{\n\t\t\t\t...style,\n\t\t\t\ttop,\n\t\t\t}}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{content}\n\t\t</div>\n\t);\n});\n\nfunction Messages() {\n\tconst ref = useRef<HTMLDivElement>(null);\n\tconst state = useReactive<{\n\t\ttops: THeights;\n\t\titems: TMessageQueue;\n\t}>({\n\t\titems: {\n\t\t\tleft: [],\n\t\t\tcenter: [],\n\t\t\tright: [],\n\t\t},\n\t\ttops: {\n\t\t\tleft: [],\n\t\t\tcenter: [],\n\t\t\tright: [],\n\t\t},\n\t});\n\tconst offsetTop = {\n\t\tleft: 0,\n\t\tcenter: 0,\n\t\tright: 0,\n\t};\n\n\tuseEffect(() => {\n\t\tObject.assign(handler, {\n\t\t\tcallout: function (item: IMessage) {\n\t\t\t\tconst { align = \"center\", unshift, onShow } = item;\n\t\t\t\tconst size = queue[align][unshift ? \"unshift\" : \"push\"](item);\n\t\t\t\tstate.items[align] = [...queue[align]];\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tconst h = ref.current?.offsetHeight || 0;\n\n\t\t\t\t\tqueue[align][unshift ? 0 : size - 1].active = true;\n\t\t\t\t\tstate.items[align] = [...queue[align]];\n\t\t\t\t\theights[align][unshift ? \"unshift\" : \"push\"](h);\n\t\t\t\t\tstate.tops[align] = [...heights[align]];\n\t\t\t\t\tonShow?.();\n\t\t\t\t}, 0);\n\n\t\t\t\titem.duration !== 0 &&\n\t\t\t\t\tsetTimeout(this.close.bind(item), item.duration);\n\t\t\t},\n\t\t\tclose: function () {\n\t\t\t\tconst item = this as IMessage;\n\t\t\t\tconst { align = \"center\", onHide } = item;\n\t\t\t\tconst index = queue[align].findIndex((i) => i.id === item.id);\n\t\t\t\tif (index < 0) return;\n\n\t\t\t\tqueue[align][index].active = false;\n\t\t\t\tstate.items[align] = [...queue[align]];\n\n\t\t\t\titem.timer = setTimeout(() => {\n\t\t\t\t\tconst index = queue[align].findIndex(\n\t\t\t\t\t\t(i) => i.id === item.id\n\t\t\t\t\t);\n\n\t\t\t\t\tqueue[align].splice(index, 1);\n\t\t\t\t\theights[align].splice(index, 1);\n\t\t\t\t\tstate.tops[align] = [...heights[align]];\n\t\t\t\t\tstate.items[align] = [...queue[align]];\n\t\t\t\t\titem.timer && clearTimeout(item.timer);\n\t\t\t\t\tonHide?.();\n\t\t\t\t}, 240);\n\t\t\t},\n\t\t});\n\t}, []);\n\n\tconst renderItems = (item, i) => {\n\t\tif (!item) return <></>;\n\n\t\tconst { id, active, content, align = \"center\", className } = item;\n\t\toffsetTop[align] += state.tops[align][i - 1] || 0;\n\t\tconst top = GlobalConfig.gap * i + offsetTop[align];\n\n\t\treturn (\n\t\t\t<MessageItem\n\t\t\t\tkey={id}\n\t\t\t\tref={ref}\n\t\t\t\tactive={active}\n\t\t\t\tcontent={content}\n\t\t\t\ttop={top}\n\t\t\t\tclassName={className}\n\t\t\t\tstyle={{ alignSelf: AlignMap[align] }}\n\t\t\t\tonClick={handler.close.bind(item)}\n\t\t\t/>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className='i-messages'>\n\t\t\t{state.items.left.map(renderItems)}\n\t\t\t{state.items.center.map(renderItems)}\n\t\t\t{state.items.right.map(renderItems)}\n\t\t</div>\n\t);\n}\n\nexport function setMessageConfig(config: IMessage) {\n\tObject.assign(GlobalConfig, config);\n}\n\nexport default function message(config: IMessage | ReactNode) {\n\tif (\n\t\t[\"string\", \"number\"].includes(typeof config) ||\n\t\tisValidElement(config)\n\t) {\n\t\tconfig = { content: config as ReactNode };\n\t}\n\n\tconfig = Object.assign(\n\t\t{ id: uid(7) },\n\t\tItemDefaultConfig,\n\t\tconfig as IMessage\n\t);\n\n\thandler.callout(config as IMessage);\n\n\treturn handler.close.bind(config);\n}\n\nfunction createContainer(direction?: string) {\n\tconst container = document.createElement(\"div\");\n\tcontainer.dataset.id = \"messages\";\n\tdocument.body.append(container);\n\n\treturn container;\n}\n","import Modal from \"./modal\";\nimport useModal from \"./useModal\";\n\nModal.useModal = useModal;\n\nexport default Modal;\n","import { renderNode } from \"@p/js/utils\";\nimport { useRef } from \"react\";\nimport HookModal from \"./hookModal\";\nimport { IModal, RefHookModal } from \"./type\";\n\nexport default function useModal() {\n\tconst ref = useRef<RefHookModal>(null);\n\n\tconst handleOpen = (props: IModal) => {\n\t\tconst unMount = renderNode(\n\t\t\t<HookModal\n\t\t\t\tref={ref}\n\t\t\t\tvisible\n\t\t\t\t{...props}\n\t\t\t\tonClose={() => {\n\t\t\t\t\tprops.onClose?.();\n\t\t\t\t\tunMount?.();\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t};\n\n\tconst handleUpdate = (props: IModal) => {\n\t\tif (!ref.current) return;\n\n\t\tconst { update } = ref.current;\n\t\tupdate(props);\n\t};\n\n\treturn {\n\t\topen: handleOpen,\n\t\tupdate: handleUpdate,\n\t};\n}\n","import classNames from \"classnames\";\nimport { useState } from \"react\";\nimport Loading from \"../loading\";\nimport { IPageItem } from \"./type\";\n\nconst Page = (props: IPageItem) => {\n\tconst { page, active, children, onChange } = props;\n\tconst [loading, setLoading] = useState(false);\n\n\tconst handleClick = async () => {\n\t\tif (active || loading) return;\n\n\t\tsetLoading(true);\n\t\tawait onChange?.(page);\n\t\tsetLoading(false);\n\t};\n\n\treturn (\n\t\t<a\n\t\t\tclassName={classNames(\"i-page\", {\n\t\t\t\t\"i-page-active\": active,\n\t\t\t\t\"i-page-loading\": loading,\n\t\t\t\t\"i-page-disabled\": false,\n\t\t\t})}\n\t\t\tdata-page={page}\n\t\t\tonClick={handleClick}\n\t\t>\n\t\t\t{loading && <Loading />}\n\t\t\t{children}\n\t\t</a>\n\t);\n};\n\nexport default Page;\n","import {\n\tKeyboardArrowLeftRound,\n\tKeyboardArrowRightRound,\n\tMoreHorizRound,\n} from \"@ricons/material\";\nimport classNames from \"classnames\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport Icon from \"../icon\";\nimport \"./index.css\";\nimport Page from \"./page\";\nimport { IPagination } from \"./type\";\n\nconst Pagination = (props: IPagination): JSX.Element => {\n\tconst {\n\t\tpage: defaultPage = 1,\n\t\tsize = 10,\n\t\ttotal = 0,\n\t\tsibling = 2,\n\t\tprev = <Icon icon={<KeyboardArrowLeftRound />} />,\n\t\tnext = <Icon icon={<KeyboardArrowRightRound />} />,\n\t\tsimple,\n\t\tjumper,\n\t\tclassName,\n\t\trenderEllipsis = () => (\n\t\t\t<Icon icon={<MoreHorizRound />} className='color-7' />\n\t\t),\n\t\trenderPage = (i) => i,\n\t\tonChange,\n\t\t...restProps\n\t} = props;\n\n\tconst [page, setPage] = useState(defaultPage);\n\tconst [loading, setLoading] = useState(false);\n\n\tconst totalPage = useMemo(() => Math.ceil(total / size), [size, total]);\n\n\tconst [start, end, loop] = useMemo(() => {\n\t\tconst start = Math.max(1, page - sibling);\n\t\tconst end = Math.min(totalPage, page + sibling);\n\n\t\treturn [\n\t\t\tstart,\n\t\t\tend,\n\t\t\tArray.from({ length: end - start + 1 }).map((n, i) => start + i),\n\t\t];\n\t}, [page, totalPage, sibling]);\n\n\tif (totalPage <= page && page === 1) return <></>;\n\n\tconst handlePageChange = async (p?: number) => {\n\t\tif (!onChange || loading) return;\n\t\tsetLoading(true);\n\n\t\treturn new Promise<void>(async (resolve) => {\n\t\t\tif (p === undefined) return;\n\t\t\tawait onChange(p);\n\t\t\tsetPage(p);\n\t\t\tsetLoading(false);\n\t\t\tresolve();\n\t\t});\n\t};\n\n\tuseEffect(() => setPage(defaultPage), [defaultPage]);\n\n\treturn (\n\t\t<div className={classNames(\"i-pagination\", className)} {...restProps}>\n\t\t\t{prev && (\n\t\t\t\t<Page page={page - 1 || 1} onChange={handlePageChange}>\n\t\t\t\t\t{prev}\n\t\t\t\t</Page>\n\t\t\t)}\n\n\t\t\t{start > 1 && (\n\t\t\t\t<Page page={1} onChange={handlePageChange}>\n\t\t\t\t\t{renderPage(1)}\n\t\t\t\t</Page>\n\t\t\t)}\n\n\t\t\t{start > 2 && renderEllipsis()}\n\n\t\t\t{loop.map((p) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Page\n\t\t\t\t\t\tkey={p}\n\t\t\t\t\t\tpage={p}\n\t\t\t\t\t\tactive={p === page}\n\t\t\t\t\t\tonChange={handlePageChange}\n\t\t\t\t\t>\n\t\t\t\t\t\t{renderPage(p)}\n\t\t\t\t\t</Page>\n\t\t\t\t);\n\t\t\t})}\n\n\t\t\t{end < totalPage - 1 && renderEllipsis()}\n\n\t\t\t{end < totalPage && (\n\t\t\t\t<Page page={totalPage} onChange={handlePageChange}>\n\t\t\t\t\t{renderPage(totalPage)}\n\t\t\t\t</Page>\n\t\t\t)}\n\n\t\t\t{next && (\n\t\t\t\t<Page page={page + 1} onChange={handlePageChange}>\n\t\t\t\t\t{next}\n\t\t\t\t</Page>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Pagination;\n","import { InfoOutlined } from \"@ricons/material\";\nimport { useReactive } from \"ahooks\";\nimport { MouseEvent } from \"react\";\nimport Button from \"../button\";\nimport { IButton } from \"../button/type\";\nimport Flex from \"../flex\";\nimport Icon from \"../icon\";\nimport Popup from \"../popup\";\nimport \"./index.css\";\nimport { IPopconfirm } from \"./type\";\n\nconst defaultOk = {\n\tchildren: \"确定\",\n};\n\nconst defaultCancel = {\n\tchildren: \"取消\",\n\tsecondary: true,\n};\n\nconst Popconfirm = (props: IPopconfirm): JSX.Element => {\n\tconst {\n\t\ttrigger = \"click\",\n\t\tvisible,\n\t\ticon = <Icon icon={<InfoOutlined />} className='error' />,\n\t\tcontent,\n\t\tokButtonProps,\n\t\tcancelButtonProps,\n\t\tchildren,\n\t\talign = \"end\",\n\t\tposition = \"top\",\n\t\toffset = 12,\n\t\textra,\n\t\tonOk,\n\t\tonClose,\n\t\t...restProps\n\t} = props;\n\n\tconst state = useReactive({\n\t\tloading: false,\n\t\tvisible,\n\t});\n\n\tconst ok: IButton = okButtonProps\n\t\t? Object.assign({}, defaultOk, okButtonProps)\n\t\t: defaultOk;\n\tconst cancel: IButton = cancelButtonProps\n\t\t? Object.assign({}, defaultCancel, cancelButtonProps)\n\t\t: defaultCancel;\n\n\tconst handleVisibleChange = (v: boolean) => {\n\t\tstate.visible = v;\n\t\trestProps.onVisibleChange?.(v);\n\t};\n\n\tconst handleOk = async (e: MouseEvent<HTMLElement>) => {\n\t\tstate.loading = true;\n\t\tok.onClick?.(e);\n\t\tawait onOk?.();\n\t\tstate.loading = false;\n\t\tstate.visible = false;\n\t};\n\n\tconst handleCancel = async (e: MouseEvent<HTMLElement>) => {\n\t\tcancel.onClick?.(e);\n\t\tawait onClose?.();\n\t\tstate.visible = false;\n\t};\n\n\tconst popconfirmContent = (\n\t\t<div className='i-popconfirm'>\n\t\t\t<Flex gap={12}>\n\t\t\t\t{icon}\n\t\t\t\t<div className='i-popconfirm-content'>{content}</div>\n\t\t\t</Flex>\n\n\t\t\t<Flex\n\t\t\t\tgap={12}\n\t\t\t\tjustify='flex-end'\n\t\t\t\tclassName='mt-8 i-popconfirm-footer'\n\t\t\t>\n\t\t\t\t{cancelButtonProps !== null && (\n\t\t\t\t\t<Button {...cancel} onClick={handleCancel} />\n\t\t\t\t)}\n\t\t\t\t{extra}\n\t\t\t\t{okButtonProps !== null && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tloading={state.loading}\n\t\t\t\t\t\t{...ok}\n\t\t\t\t\t\tonClick={handleOk}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</Flex>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<Popup\n\t\t\tcontent={popconfirmContent}\n\t\t\t{...restProps}\n\t\t\ttrigger={trigger}\n\t\t\tvisible={state.visible}\n\t\t\talign={align}\n\t\t\toffset={offset}\n\t\t\tposition={position}\n\t\t\tonVisibleChange={handleVisibleChange}\n\t\t>\n\t\t\t{children}\n\t\t</Popup>\n\t);\n};\n\nexport default Popconfirm;\n","import classNames from \"classnames\";\nimport { ChangeEvent } from \"react\";\nimport { IRadioItem } from \"./type\";\n\nexport default function RadioItem(props: IRadioItem) {\n\tconst {\n\t\ttype = \"default\",\n\t\tname,\n\t\tvalue,\n\t\tchecked,\n\t\tdisabled,\n\t\tchildren,\n\t\tonChange,\n\t} = props;\n\n\tconst handleChange = (e: ChangeEvent) => {\n\t\tonChange?.(value, e);\n\t};\n\n\treturn (\n\t\t<label className={classNames(\"i-radio-item\", { disabled })}>\n\t\t\t<input\n\t\t\t\ttype='radio'\n\t\t\t\tname={name}\n\t\t\t\tchecked={checked}\n\t\t\t\tclassName={classNames(\"i-radio-input\", `i-radio-${type}`)}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tonChange={handleChange}\n\t\t\t/>\n\n\t\t\t<span className='i-radio-text'>{children}</span>\n\t\t</label>\n\t);\n}\n","import { formatOption } from \"@p/js/utils\";\nimport { useMemoizedFn, useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport { useEffect, useMemo } from \"react\";\nimport \"../../css/input.css\";\nimport \"./index.css\";\nimport RadioItem from \"./item\";\nimport { IRadio } from \"./type\";\n\nfunction Radio(props: IRadio) {\n\tconst {\n\t\tlabel,\n\t\tname,\n\t\toptions,\n\t\tvalue,\n\t\ttype = \"default\",\n\t\tstatus = \"normal\",\n\t\tmessage,\n\t\toptionInline = true,\n\t\tlabelInline,\n\t\tdisabled,\n\t\trequired,\n\t\tclassName,\n\t\tonChange,\n\t} = props;\n\n\tconst state = useReactive({\n\t\tvalue,\n\t});\n\n\tconst formattedOptions = useMemo(() => formatOption(options), [options]);\n\n\tconst handleChange = useMemoizedFn((value, e) => {\n\t\tstate.value = value;\n\t\tonChange?.(value, e);\n\t});\n\n\tuseEffect(() => {\n\t\tstate.value = value;\n\t}, [value]);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\n\t\t\t\t\"i-radio i-input-label\",\n\t\t\t\t{\n\t\t\t\t\t[`i-radio-${status}`]: status !== \"normal\",\n\t\t\t\t\t\"i-input-inline\": labelInline,\n\t\t\t\t},\n\t\t\t\tclassName\n\t\t\t)}\n\t\t>\n\t\t\t{label && (\n\t\t\t\t<span className='i-input-label-text'>\n\t\t\t\t\t{required && <span className='error'>*</span>}\n\t\t\t\t\t{label}\n\n\t\t\t\t\t{message && <p className='i-radio-message'>{message}</p>}\n\t\t\t\t</span>\n\t\t\t)}\n\n\t\t\t<div\n\t\t\t\tclassName={classNames(\"i-radio-options\", {\n\t\t\t\t\t\"i-options-block\": !optionInline,\n\t\t\t\t\t\"i-radio-options-button\": type === \"button\",\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t{formattedOptions.map((option) => (\n\t\t\t\t\t<RadioItem\n\t\t\t\t\t\tkey={option.value as string}\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\tchecked={state.value === option.value}\n\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\tdisabled={disabled || option.disabled}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t>\n\t\t\t\t\t\t{option.label}\n\t\t\t\t\t</RadioItem>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nRadio.Item = RadioItem;\n\nexport default Radio;\n","import classNames from \"classnames\";\nimport Helpericon from \"../utils/helpericon\";\nimport \"./index.css\";\nimport { ITag } from \"./type\";\n\nconst Tag = (props: ITag): JSX.Element => {\n\tconst {\n\t\tdot,\n\t\tdotClass,\n\t\toutline,\n\t\tround,\n\t\tsize = \"normal\",\n\t\tclassName,\n\t\tchildren,\n\t\tonClose,\n\t\tonClick,\n\t\t...restProps\n\t} = props;\n\n\treturn (\n\t\t<span\n\t\t\tclassName={classNames(\n\t\t\t\t\"i-tag\",\n\t\t\t\t{\n\t\t\t\t\t\"i-tag-outline\": outline,\n\t\t\t\t\t\"i-tag-clickable\": onClick,\n\t\t\t\t\t[`i-tag-${size}`]: size !== \"normal\",\n\t\t\t\t\tround,\n\t\t\t\t},\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\tonClick={onClick}\n\t\t\t{...restProps}\n\t\t>\n\t\t\t{dot && <span className={classNames(\"i-tag-dot\", dotClass)}></span>}\n\n\t\t\t{children}\n\n\t\t\t{onClose && (\n\t\t\t\t<Helpericon active className='i-tag-close' onClick={onClose} />\n\t\t\t)}\n\t\t</span>\n\t);\n};\n\nexport default Tag;\n","import { CheckRound, SearchRound } from \"@ricons/material\";\nimport classNames from \"classnames\";\nimport { TOption } from \"../../type\";\nimport Icon from \"../icon\";\nimport List from \"../list\";\nimport Tag from \"../tag\";\nimport Empty from \"../utils/empty\";\nimport { ISelectOptions } from \"./type\";\nexport const Options = (props: ISelectOptions) => {\n\tconst {\n\t\tvalue: val,\n\t\toptions,\n\t\tfilter,\n\t\tfilterPlaceholder,\n\t\tmultiple,\n\t\tempty = <Empty />,\n\t\tonSelect,\n\t\tonFilter,\n\t} = props;\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\"i-select-options\", {\n\t\t\t\t\"i-select-options-multiple\": multiple,\n\t\t\t})}\n\t\t>\n\t\t\t{filter && multiple && (\n\t\t\t\t<div className='i-select-filter'>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticon={<SearchRound />}\n\t\t\t\t\t\tclassName='color-8 ml-8 my-auto'\n\t\t\t\t\t\tsize='1.2em'\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tclassName='i-input'\n\t\t\t\t\t\tplaceholder={filterPlaceholder}\n\t\t\t\t\t\tonChange={onFilter}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{options.length === 0 && empty}\n\n\t\t\t{options.map((option, i) => {\n\t\t\t\tconst { label, value, disabled } = option;\n\t\t\t\tconst isActive = multiple\n\t\t\t\t\t? val?.includes(value)\n\t\t\t\t\t: val === value;\n\n\t\t\t\treturn (\n\t\t\t\t\t<List.Item\n\t\t\t\t\t\tkey={(value as string) || i}\n\t\t\t\t\t\tactive={isActive}\n\t\t\t\t\t\ttype='option'\n\t\t\t\t\t\tonClick={() => onSelect?.(value, option)}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t>\n\t\t\t\t\t\t{multiple && (\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\ticon={<CheckRound />}\n\t\t\t\t\t\t\t\tclassName='i-select-option-check'\n\t\t\t\t\t\t\t\tsize='1em'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</List.Item>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n};\n\nexport const activeOptions = (\n\toptions: TOption[] = [],\n\tvalue: any[] = [],\n\tmax = 3\n) => {\n\tconst total = options.flatMap((opt) =>\n\t\tvalue.includes(opt.value) ? [opt] : []\n\t);\n\n\tif (max >= total.length) return total;\n\n\tconst rest = total.length - max;\n\tconst after = total.slice(0, max);\n\tafter.push(rest as any);\n\n\treturn after;\n};\n\nexport const displayValue = (config) => {\n\tconst { options, value, maxDisplay, multiple, onSelect } = config;\n\n\tif (multiple) {\n\t\treturn activeOptions(options, value, maxDisplay).map((opt, i) => {\n\t\t\tif (typeof opt === \"number\") return <Tag key={i}>+{opt}</Tag>;\n\n\t\t\tconst { label, value } = opt;\n\n\t\t\treturn (\n\t\t\t\t<Tag\n\t\t\t\t\tkey={value as string}\n\t\t\t\t\tonClose={(e) => {\n\t\t\t\t\t\te?.stopPropagation();\n\t\t\t\t\t\tonSelect?.(value, opt);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</Tag>\n\t\t\t);\n\t\t});\n\t}\n\n\treturn options.find((opt: TOption) => opt.value === value)?.label;\n};\n","import { UnfoldMoreRound } from \"@ricons/material\";\nimport { useMemoizedFn, useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport { debounce } from \"radash\";\nimport {\n\tChangeEvent,\n\tMouseEvent,\n\tforwardRef,\n\tuseCallback,\n\tuseEffect,\n\tuseMemo,\n\tuseState,\n} from \"react\";\nimport \"../../css/input.css\";\nimport { formatOption } from \"../../js/utils\";\nimport { TOption } from \"../../type\";\nimport Popup from \"../popup\";\nimport Helpericon from \"../utils/helpericon\";\nimport \"./index.css\";\nimport { Options, displayValue } from \"./options\";\nimport { ISelect } from \"./type\";\nconst Select = forwardRef<HTMLInputElement, ISelect>((props, ref) => {\n\tconst {\n\t\ttype = \"text\",\n\t\tname,\n\t\tlabel,\n\t\tvalue = \"\",\n\t\tplaceholder,\n\t\toptions = [],\n\t\tmultiple,\n\t\tprepend,\n\t\tappend,\n\t\tlabelInline,\n\t\tstyle,\n\t\tclassName,\n\t\tmessage,\n\t\tstatus = \"normal\",\n\t\thideClear,\n\t\tmaxDisplay,\n\t\tborder,\n\t\tfilter,\n\t\ttip,\n\t\tfilterPlaceholder = \"...\",\n\t\tpopupProps,\n\t\tonSelect,\n\t\tonChange,\n\t\t...restProps\n\t} = props;\n\n\tconst state = useReactive({\n\t\tinputValue: \"\",\n\t\tfilterValue: \"\",\n\t\tvalue,\n\t\tloading: false,\n\t});\n\n\tconst [active, setActive] = useState<boolean>(false);\n\n\tconst formattedOptions = useMemo(() => formatOption(options), [options]);\n\n\tconst filterOptions = useMemo(() => {\n\t\tconst { filterValue: fv } = state;\n\t\tif (!fv || !filter) return formattedOptions;\n\n\t\tconst filterFn =\n\t\t\ttypeof filter === \"function\"\n\t\t\t\t? filter\n\t\t\t\t: (opt) => opt.value.includes(fv) || opt.label.includes(fv);\n\n\t\treturn formattedOptions.filter(filterFn);\n\t}, [formattedOptions, filter, state.filterValue]);\n\n\tconst changeValue = (v: any) => {\n\t\tstate.value = v;\n\t\tonChange?.(v);\n\t};\n\n\tconst handleSelect = useCallback((value: any, option?: TOption) => {\n\t\tonSelect?.(value, option);\n\n\t\tif (multiple) {\n\t\t\tconst values = [...(state.value as any[])];\n\t\t\tconst i = values.findIndex((v) => v === value);\n\n\t\t\ti > -1 ? values.splice(i, 1) : values.push(value);\n\t\t\tchangeValue(values as any);\n\n\t\t\treturn;\n\t\t}\n\n\t\tsetActive(false);\n\t\tchangeValue(value);\n\t}, []);\n\n\tconst handleVisibleChange = (visible: boolean) => {\n\t\tsetActive(visible);\n\n\t\tif (!filter) return;\n\n\t\tstate.filterValue = \"\";\n\t};\n\n\tconst handleHelperClick = (e: MouseEvent) => {\n\t\tif (!active) return;\n\n\t\tchangeValue(multiple ? [] : \"\");\n\t};\n\n\tconst handleFilterChange = useMemoizedFn(\n\t\tdebounce({ delay: 400 }, (e: ChangeEvent<HTMLInputElement>) => {\n\t\t\tconst v = e.target.value;\n\t\t\tstate.filterValue = v;\n\t\t})\n\t);\n\n\tconst handleInputChange = (e: ChangeEvent<HTMLInputElement>) => {\n\t\tstate.filterValue = e.target.value;\n\t};\n\n\tuseEffect(() => {\n\t\tstate.value = value;\n\t}, [value]);\n\n\tconst hasValue = multiple\n\t\t? (state.value as any[]).length > 0\n\t\t: !!state.value;\n\tconst clearable = !hideClear && active && hasValue;\n\tconst text = message ?? tip;\n\n\treturn (\n\t\t<label\n\t\t\tclassName={classNames(\"i-input-label\", className, {\n\t\t\t\t\"i-input-inline\": labelInline,\n\t\t\t})}\n\t\t\tstyle={style}\n\t\t>\n\t\t\t{label && <span className='i-input-label-text'>{label}</span>}\n\n\t\t\t<Popup\n\t\t\t\tposition='bottom'\n\t\t\t\tarrow={false}\n\t\t\t\tfitSize\n\t\t\t\t{...popupProps}\n\t\t\t\tvisible={active}\n\t\t\t\ttrigger='none'\n\t\t\t\tonVisibleChange={handleVisibleChange}\n\t\t\t\tcontent={\n\t\t\t\t\t<Options\n\t\t\t\t\t\toptions={filterOptions}\n\t\t\t\t\t\tvalue={state.value}\n\t\t\t\t\t\tmultiple={multiple}\n\t\t\t\t\t\tfilter={!!filter}\n\t\t\t\t\t\tfilterPlaceholder={filterPlaceholder}\n\t\t\t\t\t\tonSelect={handleSelect}\n\t\t\t\t\t\tonFilter={handleFilterChange}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classNames(\"i-input-item\", {\n\t\t\t\t\t\t[`i-input-${status}`]: status !== \"normal\",\n\t\t\t\t\t\t\"i-input-borderless\": !border,\n\t\t\t\t\t\t\"i-input-focus\": active,\n\t\t\t\t\t})}\n\t\t\t\t\tonClick={() => setActive(true)}\n\t\t\t\t>\n\t\t\t\t\t{prepend}\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\ttype='hidden'\n\t\t\t\t\t\tvalue={state.value}\n\t\t\t\t\t\t{...restProps}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{multiple ? (\n\t\t\t\t\t\thasValue ? (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={classNames(\"i-input i-select\", {\n\t\t\t\t\t\t\t\t\t\"i-select-multiple\": multiple,\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{displayValue({\n\t\t\t\t\t\t\t\t\toptions: formattedOptions,\n\t\t\t\t\t\t\t\t\tvalue: state.value,\n\t\t\t\t\t\t\t\t\tmultiple,\n\t\t\t\t\t\t\t\t\tmaxDisplay,\n\t\t\t\t\t\t\t\t\tonSelect: handleSelect,\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName='i-input i-select'\n\t\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t) : null}\n\n\t\t\t\t\t{!multiple && (\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tvalue={active ? state.filterValue : state.value}\n\t\t\t\t\t\t\tclassName='i-input i-select'\n\t\t\t\t\t\t\tplaceholder={state.value || placeholder}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\treadOnly={!filter}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<Helpericon\n\t\t\t\t\t\tactive\n\t\t\t\t\t\ticon={clearable ? undefined : <UnfoldMoreRound />}\n\t\t\t\t\t\tonClick={handleHelperClick}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{append}\n\t\t\t\t</div>\n\t\t\t</Popup>\n\n\t\t\t{text && <span className='i-input-message'>{text}</span>}\n\t\t</label>\n\t);\n});\n\nexport default Select;\n","import \"./index.css\";\n\nexport default function Divider() {\n\treturn <i className='i-step-divider' />;\n}\n","import { CheckRound } from \"@ricons/material\";\nimport classNames from \"classnames\";\nimport Divider from \"./divider\";\nimport { IStepItem } from \"./type\";\n\nconst STATUS = [\"finished\", \"active\", \"pending\"];\n\nfunction defaultRenderIcon(i: number, status: string) {\n\treturn (\n\t\t<span className='i-step-item-index'>\n\t\t\t{status === \"finished\" ? (\n\t\t\t\t<CheckRound style={{ width: \"1em\", height: \"1.5em\" }} />\n\t\t\t) : (\n\t\t\t\ti + 1\n\t\t\t)}\n\t\t</span>\n\t);\n}\n\nfunction Item(props: IStepItem) {\n\tconst {\n\t\tindex = 0,\n\t\tactive = 0,\n\t\trenderIcon = defaultRenderIcon,\n\t\ttitle,\n\t\tvertical,\n\t\tline = <Divider />,\n\t\tstyle,\n\t\tclassName,\n\t\tchildren,\n\t\tonClick,\n\t} = props;\n\tconst status = STATUS[index === active ? 1 : index < active ? 0 : 2];\n\n\tconst handleClick = () => {\n\t\tonClick?.(index);\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tstyle={style}\n\t\t\tclassName={classNames(\n\t\t\t\t\"i-step-item\",\n\t\t\t\t`i-step-item-${status}`,\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\tonClick={handleClick}\n\t\t>\n\t\t\t{vertical ? (\n\t\t\t\t<>\n\t\t\t\t\t<div className='i-step-item-left'>\n\t\t\t\t\t\t{renderIcon?.(index, status)}\n\t\t\t\t\t\t{line}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='i-step-item-right'>\n\t\t\t\t\t\t<div className='i-step-item-title'>{title}</div>\n\t\t\t\t\t\t{children && (\n\t\t\t\t\t\t\t<div className='i-step-item-content'>\n\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<div className='i-step-item-title'>\n\t\t\t\t\t\t{renderIcon?.(index, status)}\n\n\t\t\t\t\t\t<span>{title}</span>\n\n\t\t\t\t\t\t{line}\n\t\t\t\t\t</div>\n\t\t\t\t\t{children && (\n\t\t\t\t\t\t<div className='i-step-item-content'>{children}</div>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default Item;\n","import classNames from \"classnames\";\nimport { Children, ReactNode, useMemo } from \"react\";\nimport \"./index.css\";\nimport Item from \"./item\";\nimport { IStep } from \"./type\";\n\nconst Step = (props: IStep): JSX.Element => {\n\tconst {\n\t\tactive = 0,\n\t\tvertical,\n\t\trenderIcon,\n\t\tline,\n\t\tstyle,\n\t\tclassName,\n\t\tchildren,\n\t\tonClick,\n\t} = props;\n\n\tconst steps = useMemo(() => {\n\t\tconst nodes: ReactNode[] = [];\n\t\tlet index = 0;\n\n\t\tChildren.map(children, (el: any) => {\n\t\t\tif (!el || el.type !== Item) return;\n\n\t\t\tconst { props: elProps } = el;\n\n\t\t\tnodes.push({\n\t\t\t\t...el,\n\t\t\t\tprops: {\n\t\t\t\t\trenderIcon,\n\t\t\t\t\tline,\n\t\t\t\t\tonClick,\n\t\t\t\t\t...elProps,\n\t\t\t\t\tvertical,\n\t\t\t\t\tactive,\n\t\t\t\t\tindex: index++,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\n\t\treturn nodes;\n\t}, [active, children]);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\n\t\t\t\t\"i-step\",\n\t\t\t\t{ \"i-step-vertical\": vertical },\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\tstyle={style}\n\t\t>\n\t\t\t{steps}\n\t\t</div>\n\t);\n};\n\nStep.Item = Item;\n\nexport default Step;\n","import classNames from \"classnames\";\nimport { useMemo } from \"react\";\nimport { ISwiperItem } from \"./type\";\n\nfunction Item(props: ISwiperItem) {\n\tconst {\n\t\tindex = 0,\n\t\tactive,\n\t\ttype,\n\t\ttransition,\n\t\tgap = 0,\n\t\titemHeight,\n\t\tvertical,\n\t\tstyle,\n\t\tclassName,\n\t\tchildren,\n\t} = props;\n\n\tconst selfStyle = useMemo(() => {\n\t\tif (type === \"normal\") {\n\t\t\treturn {\n\t\t\t\t[vertical ? \"paddingBlock\" : \"paddingInline\"]: gap / 2,\n\t\t\t\theight: itemHeight,\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\ttransform: `translate(-${index * 100}%, 0)`,\n\t\t\ttransition,\n\t\t};\n\t}, [index, gap, itemHeight, vertical, type]);\n\n\treturn (\n\t\t<div\n\t\t\tstyle={{ ...style, ...selfStyle }}\n\t\t\tclassName={classNames(\"i-swiper-item\", className, {\n\t\t\t\t\"i-swiper-active\": active,\n\t\t\t})}\n\t\t\tdata-index={index}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nexport default Item;\n","import { useMouseMove, useMouseUp } from \"@p/js/hooks\";\nimport { clamp } from \"@p/js/utils\";\nimport {\n\tKeyboardArrowLeftRound,\n\tKeyboardArrowRightRound,\n} from \"@ricons/material\";\nimport { useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport {\n\tChildren,\n\tMouseEvent,\n\tforwardRef,\n\tuseCallback,\n\tuseEffect,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseRef,\n} from \"react\";\nimport Icon from \"../icon\";\nimport \"./index.css\";\nimport Item from \"./item\";\nimport { CompositionSwiper, ISwiper, RefSwiper } from \"./type\";\n\nconst Swiper = forwardRef<RefSwiper, ISwiper>((props, ref): JSX.Element => {\n\tconst {\n\t\ttype = \"normal\",\n\t\tinitial = 0,\n\t\tdisplay = 1,\n\t\tscroll = 1,\n\t\tloop = true,\n\t\tvertical,\n\t\tprev = <Icon icon={<KeyboardArrowLeftRound />} size='2em' />,\n\t\tnext = <Icon icon={<KeyboardArrowRightRound />} size='2em' />,\n\t\tduration = 600,\n\t\tinterval = 3000,\n\t\tautoplay,\n\t\tpauseOnHover,\n\t\tarrow = true,\n\t\treverse,\n\t\tdraggable,\n\t\tdragOffset = 40,\n\t\tgap = 0,\n\t\titemHeight,\n\t\tindicator,\n\t\tstyle,\n\t\tclassName,\n\t\tchildren,\n\t\trenderIndicator,\n\t\tonBeforeSwipe,\n\t\tonAfterSwipe,\n\t} = props;\n\n\tconst listRef = useRef<HTMLDivElement>(null);\n\tconst timerRef = useRef<any>(null);\n\tconst transition = `all ${duration / 1000}s`;\n\tconst state = useReactive({\n\t\tcurrent: initial,\n\t\tswipable: true,\n\t\ttransition: type === \"fade\" ? \"none\" : transition,\n\t\tdragStart: 0,\n\t\tdragging: false,\n\t\tinitialized: false,\n\t});\n\n\tconst items = useMemo(() => {\n\t\treturn Children.map(children, (node: any) => {\n\t\t\tif (node.type !== Item) return;\n\n\t\t\treturn node;\n\t\t});\n\t}, [children]);\n\n\tconst [displayItems, extra, size, total, listSize] = useMemo(() => {\n\t\tconst extra =\n\t\t\ttype === \"normal\" && loop && items.length > display\n\t\t\t\t? display + 1\n\t\t\t\t: 0;\n\t\tlet list: any = [];\n\n\t\tif (extra <= 0) {\n\t\t\tlist = [...items];\n\t\t} else {\n\t\t\tconst head = items.slice(0, extra);\n\t\t\tconst tail = items.slice(-extra);\n\t\t\tlist = [...tail, ...items, ...head];\n\t\t}\n\n\t\tconst listSize = `${(list.length / display) * 100}%`;\n\n\t\treturn [list, extra, items.length, list.length, listSize];\n\t}, [display, loop, type, items]);\n\n\tconst offsetPercent = useMemo(\n\t\t() => (-100 * (state.current + extra)) / total,\n\t\t[state.current, total]\n\t);\n\n\tconst position = useMemo(() => {\n\t\tif (size <= display || type === \"fade\") return;\n\n\t\tconst offset = vertical\n\t\t\t? `0, ${offsetPercent}%`\n\t\t\t: `${offsetPercent}%, 0`;\n\t\treturn `translate3d(${offset}, 0)`;\n\t}, [offsetPercent, vertical, display, size, type]);\n\n\tconst trackStyle = useMemo(() => {\n\t\tif (!vertical || !itemHeight) return;\n\n\t\treturn {\n\t\t\theight: itemHeight * display,\n\t\t};\n\t}, [vertical, itemHeight, display]);\n\n\tconst indicatorsLoop = useMemo(() => {\n\t\treturn Array.from({\n\t\t\tlength: Math.ceil((size - display) / scroll) + 1,\n\t\t});\n\t}, [loop, indicator]);\n\n\tconst clearTimer = () => {\n\t\tclearTimeout(timerRef.current);\n\t\ttimerRef.current = null;\n\t};\n\n\tconst swipeTo = useCallback(\n\t\t(i: number) => {\n\t\t\tif (!state.swipable || i === state.current) return;\n\t\t\tstate.swipable = false;\n\t\t\tonBeforeSwipe?.(state.current);\n\n\t\t\tlet reset = false;\n\t\t\tlet next = i;\n\t\t\tconst lastDisplay = size - display;\n\n\t\t\tif (loop) {\n\t\t\t\tif (i > lastDisplay) {\n\t\t\t\t\treset = true;\n\t\t\t\t\ti = size;\n\t\t\t\t\tnext = 0;\n\t\t\t\t} else if (i < 0) {\n\t\t\t\t\treset = true;\n\t\t\t\t\ti = -display;\n\t\t\t\t\tnext = lastDisplay;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnext = clamp(next, 0, lastDisplay);\n\t\t\t\ti = next;\n\t\t\t}\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tstate.swipable = true;\n\t\t\t}, duration + 32);\n\n\t\t\tif (type === \"fade\") {\n\t\t\t\tstate.current = next;\n\t\t\t\tonAfterSwipe?.(next);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstate.current = i;\n\n\t\t\tif (!reset) {\n\t\t\t\tif (autoplay) {\n\t\t\t\t\ttimerRef.current = setTimeout(swipeNext, interval);\n\t\t\t\t}\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tonAfterSwipe?.(next);\n\t\t\t\t}, duration + 12);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tstate.transition = \"none\";\n\t\t\t\tstate.current = next;\n\t\t\t\tonAfterSwipe?.(next);\n\t\t\t\tif (autoplay) {\n\t\t\t\t\ttimerRef.current = setTimeout(swipeNext, interval);\n\t\t\t\t}\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tstate.transition = transition;\n\t\t\t\t}, 60);\n\t\t\t}, duration + 20);\n\t\t},\n\t\t[duration, autoplay]\n\t);\n\n\tconst swipeNext = () => {\n\t\tswipeTo(reverse ? state.current - scroll : state.current + scroll);\n\t};\n\n\tconst swipePrev = () => {\n\t\tswipeTo(reverse ? state.current + scroll : state.current - scroll);\n\t};\n\n\tconst handleMouseDown = useCallback(\n\t\t(e: MouseEvent) => {\n\t\t\tif (!draggable || !state.swipable || type === \"fade\") return;\n\t\t\te.stopPropagation();\n\n\t\t\tObject.assign(state, {\n\t\t\t\tdragStart: vertical ? e.clientY : e.clientX,\n\t\t\t\tdragging: true,\n\t\t\t\ttransition: \"none\",\n\t\t\t});\n\t\t},\n\t\t[draggable, vertical]\n\t);\n\n\tconst handleMouseMove = useCallback(\n\t\t(e: any) => {\n\t\t\tif (!state.dragging || !listRef.current) return;\n\t\t\te.preventDefault();\n\n\t\t\tconst dragEnd = vertical ? e.clientY : e.clientX;\n\t\t\tconst offset =\n\t\t\t\t((dragEnd - state.dragStart) * 61.8) /\n\t\t\t\t\tlistRef.current[vertical ? \"offsetHeight\" : \"offsetWidth\"] +\n\t\t\t\toffsetPercent;\n\n\t\t\tlistRef.current.style.transform = `translate3d(${\n\t\t\t\tvertical ? `0, ${offset}%` : `${offset}%, 0`\n\t\t\t}, 0)`;\n\t\t},\n\t\t[vertical, listRef.current, offsetPercent]\n\t);\n\n\tconst handleMouseUp = useCallback(\n\t\t(e: any) => {\n\t\t\tif (!state.dragging || !listRef.current) return;\n\n\t\t\tconst dragEnd = vertical ? e.clientY : e.clientX;\n\t\t\tconst part =\n\t\t\t\tlistRef.current[vertical ? \"offsetHeight\" : \"offsetWidth\"] /\n\t\t\t\ttotal;\n\t\t\tconst offset = (dragEnd - state.dragStart) * 0.618;\n\t\t\tconst absOffset = Math.abs(offset);\n\n\t\t\tif (absOffset > dragOffset) {\n\t\t\t\tconst base = Math.floor(absOffset / part);\n\t\t\t\tconst mod = (absOffset % part) - dragOffset > 0 ? 1 : 0;\n\t\t\t\tconst p = base + mod;\n\n\t\t\t\tlet to = state.current + (offset > 0 ? -p : p);\n\n\t\t\t\tswipeTo(to);\n\t\t\t}\n\n\t\t\tlistRef.current.style.transform = position || \"\";\n\n\t\t\tObject.assign(state, {\n\t\t\t\tdragging: false,\n\t\t\t\ttransition,\n\t\t\t});\n\t\t},\n\t\t[vertical, listRef.current, offsetPercent]\n\t);\n\n\tconst handleMouseOver = () => {\n\t\tif (!pauseOnHover) return;\n\t\tclearTimer();\n\t};\n\n\tconst handleMouseLeave = () => {\n\t\tif (!pauseOnHover) return;\n\t\tclearTimer();\n\t\ttimerRef.current = setTimeout(swipeNext, interval);\n\t};\n\n\tuseMouseMove(handleMouseMove);\n\tuseMouseUp(handleMouseUp);\n\n\tuseImperativeHandle(ref, () => ({\n\t\tswipeTo,\n\t\tswipeNext,\n\t\tswipePrev,\n\t}));\n\n\tuseEffect(() => {\n\t\tif (!autoplay) return;\n\t\ttimerRef.current = setTimeout(swipeNext, interval);\n\n\t\treturn () => {\n\t\t\tclearTimeout(timerRef.current);\n\t\t\ttimerRef.current = null;\n\t\t};\n\t}, [autoplay, interval]);\n\n\treturn (\n\t\t<div\n\t\t\tstyle={style}\n\t\t\tclassName={classNames(\n\t\t\t\t\"i-swiper\",\n\t\t\t\t{\n\t\t\t\t\t\"i-swiper-vertical\": vertical,\n\t\t\t\t\t\"i-swiper-initialized\": state.initialized,\n\t\t\t\t},\n\t\t\t\tclassName\n\t\t\t)}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName='i-swiper-track'\n\t\t\t\tstyle={trackStyle}\n\t\t\t\tonMouseOver={handleMouseOver}\n\t\t\t\tonMouseLeave={handleMouseLeave}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tref={listRef}\n\t\t\t\t\tclassName={classNames(\"i-swiper-list\", {\n\t\t\t\t\t\t\"i-swiper-fade\": type === \"fade\",\n\t\t\t\t\t})}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\t[vertical ? \"height\" : \"width\"]: listSize,\n\t\t\t\t\t\ttransform: position,\n\t\t\t\t\t\ttransition: state.transition,\n\t\t\t\t\t}}\n\t\t\t\t\tonMouseDown={handleMouseDown}\n\t\t\t\t>\n\t\t\t\t\t{displayItems.map((item, i) => {\n\t\t\t\t\t\tconst { props: itemProps } = item;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\tactive={i - extra === state.current}\n\t\t\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\t\t\tgap={gap}\n\t\t\t\t\t\t\t\ttransition={transition}\n\t\t\t\t\t\t\t\titemHeight={itemHeight}\n\t\t\t\t\t\t\t\tvertical={vertical}\n\t\t\t\t\t\t\t\t{...itemProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\n\t\t\t\t{arrow && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName='i-swiper-arrow i-swiper-prev'\n\t\t\t\t\t\t\tonClick={swipePrev}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{prev}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName='i-swiper-arrow i-swiper-next'\n\t\t\t\t\t\t\tonClick={swipeNext}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{next}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{indicator && (\n\t\t\t\t<div className='i-swiper-indicators'>\n\t\t\t\t\t{indicatorsLoop.map((whatever, i) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\tclassName={classNames(\"i-swiper-indicator\", {\n\t\t\t\t\t\t\t\t\t\"i-indicator-active\":\n\t\t\t\t\t\t\t\t\t\ti ===\n\t\t\t\t\t\t\t\t\t\tMath[loop ? \"floor\" : \"ceil\"](\n\t\t\t\t\t\t\t\t\t\t\t((state.current + size) % size) /\n\t\t\t\t\t\t\t\t\t\t\t\tscroll\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tonClick={() => swipeTo(i * scroll)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{renderIndicator?.(i)}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}) as CompositionSwiper;\n\nSwiper.Item = Item;\n\nexport default Swiper;\n","import { ITabItem } from \"./type\";\n\nconst Item = (props: ITabItem) => {\n\treturn <></>;\n};\n\nexport default Item;\n","import { useIntersectionObserver } from \"@p/js/hooks\";\nimport { MoreHorizRound } from \"@ricons/material\";\nimport { useReactive, useSize } from \"ahooks\";\nimport classNames from \"classnames\";\nimport { pick } from \"radash\";\nimport {\n\tCSSProperties,\n\tChildren,\n\tforwardRef,\n\tuseEffect,\n\tuseImperativeHandle,\n\tuseRef,\n} from \"react\";\nimport Button from \"../button\";\nimport Icon from \"../icon\";\nimport Popup from \"../popup\";\nimport Helpericon from \"../utils/helpericon\";\nimport \"./index.css\";\nimport TabItem from \"./item\";\nimport { CompositionTabs, ITabItem, ITabs, RefTabs, TTabKey } from \"./type\";\n\ntype TState = {\n\tactive?: TTabKey;\n\tprevActive?: TTabKey;\n\tbarStyle: CSSProperties;\n\tcachedTabs: TTabKey[];\n\toverflow: boolean;\n\tmore: ITabItem[];\n\ttabs: ITabItem[];\n};\n\nconst Tabs = forwardRef<RefTabs, ITabs>((props, ref) => {\n\tconst {\n\t\tactive,\n\t\ttabs: items,\n\t\ttype = \"default\",\n\t\tprepend,\n\t\tappend,\n\t\tchildren,\n\t\tclassName,\n\t\tvertical,\n\t\ttoggable,\n\t\tbar = true,\n\t\thideMore,\n\t\tbarClass,\n\t\trenderMore = () => (\n\t\t\t<Button flat square size='small'>\n\t\t\t\t<Icon icon={<MoreHorizRound />} />\n\t\t\t</Button>\n\t\t),\n\t\tonTabChange,\n\t\t...rest\n\t} = props;\n\n\tconst navRefs = useRef<HTMLElement[]>([]);\n\tconst barRef = useRef<HTMLSpanElement>(null);\n\tconst navsRef = useRef<HTMLDivElement>(null);\n\tconst state = useReactive<TState>({\n\t\tactive,\n\t\tprevActive: undefined,\n\t\tbarStyle: {},\n\t\tcachedTabs: [],\n\t\toverflow: false,\n\t\tmore: [],\n\t\ttabs: [],\n\t});\n\tconst { observe, unobserve } = useIntersectionObserver();\n\tconst size = useSize(navsRef);\n\n\tuseEffect(() => {\n\t\tif (!items) {\n\t\t\tif (!children) {\n\t\t\t\tstate.tabs = [];\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstate.tabs = Children.map(children, (node, i) => {\n\t\t\t\tconst { key, props: nodeProps } = node as {\n\t\t\t\t\tkey?: TTabKey;\n\t\t\t\t\tprops?: any;\n\t\t\t\t};\n\t\t\t\tconst { title, children, content, keepDOM } = nodeProps;\n\t\t\t\tconst cloned = children\n\t\t\t\t\t? pick(children, [\"props\", \"type\", \"$$typeof\", \"ref\"])\n\t\t\t\t\t: content;\n\n\t\t\t\treturn {\n\t\t\t\t\tkey: key || String(i),\n\t\t\t\t\ttitle,\n\t\t\t\t\tcontent: cloned,\n\t\t\t\t\tkeepDOM,\n\t\t\t\t};\n\t\t\t}) as ITabItem[];\n\n\t\t\treturn;\n\t\t}\n\n\t\tstate.tabs = items.map((item, i) => {\n\t\t\tif ([\"string\", \"number\"].includes(typeof item)) {\n\t\t\t\treturn { key: item, title: item };\n\t\t\t}\n\t\t\tif (item.key === undefined) {\n\t\t\t\titem.key = i;\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t}, [children, items]);\n\n\tconst add = (tab: ITabItem) => {\n\t\tconst { key } = tab;\n\t\tconst i = state.tabs.findIndex((t) => t.key === key);\n\n\t\tif (i > -1) {\n\t\t\topen(state.tabs[i].key ?? i);\n\t\t\treturn;\n\t\t}\n\n\t\tconst l = state.tabs.length;\n\t\tconst tkey = tab.key ?? l;\n\t\tstate.tabs.push({ ...tab, key: tkey });\n\t\topen(tkey);\n\t};\n\n\tconst close = (key: TTabKey) => {\n\t\tconst i = state.tabs.findIndex((t) => t.key === key);\n\n\t\tif (i < 0) return;\n\n\t\tstate.tabs.splice(i, 1);\n\n\t\tif (state.active !== key) return;\n\n\t\tconst next = state.tabs[i] || state.tabs[i - 1];\n\t\topen(state.prevActive ?? next?.key ?? \"\");\n\t};\n\n\tconst open = (key: TTabKey) => {\n\t\tif (key === state.active) {\n\t\t\tif (!toggable) return;\n\n\t\t\tonTabChange?.(undefined, key);\n\t\t\tstate.active = undefined;\n\n\t\t\tstate.barStyle = {\n\t\t\t\theight: 0,\n\t\t\t\twidth: 0,\n\t\t\t};\n\t\t\treturn;\n\t\t}\n\n\t\tstate.prevActive = state.active;\n\t\tonTabChange?.(key, state.active);\n\t\tstate.active = key;\n\t};\n\n\tconst handleMouseWheel = (e) => {\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\n\t\tif (vertical) return;\n\n\t\tnavsRef.current?.scrollBy({\n\t\t\tleft: e.deltaY + e.deltaX,\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tif (!size || hideMore) return;\n\t\tconst { scrollHeight, scrollWidth } = navsRef.current as HTMLElement;\n\t\tconst { width, height } = size;\n\n\t\tstate.overflow = scrollHeight > height || scrollWidth > width;\n\n\t\tif (!state.overflow) return;\n\n\t\tnavRefs.current.map((nav, i) => {\n\t\t\tif (!nav) return;\n\t\t\tobserve(nav, (tar: HTMLElement, visible: boolean) => {\n\t\t\t\tif (!state.tabs[i]) return;\n\t\t\t\tstate.tabs[i].intersecting = visible;\n\t\t\t\tstate.more = state.tabs.filter((tab) => !tab.intersecting);\n\t\t\t});\n\t\t});\n\t}, [size, hideMore, state.tabs.length]);\n\n\tuseEffect(() => {\n\t\tif (!bar || type === \"pane\" || state.active === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst index = state.tabs.findIndex((tab) => tab.key === state.active);\n\n\t\tsetTimeout(() => {\n\t\t\tconst nav = navRefs.current[index];\n\n\t\t\tif (!nav) return;\n\n\t\t\tif (state.tabs[index].keepDOM && state.active) {\n\t\t\t\tconst i = state.cachedTabs.findIndex((k) => k === state.active);\n\t\t\t\ti < 0 && state.cachedTabs.unshift(state.active);\n\t\t\t}\n\n\t\t\tconst { offsetHeight, offsetLeft, offsetTop, offsetWidth } = nav;\n\t\t\tconst isLine = type === \"line\";\n\n\t\t\tstate.barStyle = {\n\t\t\t\theight: !vertical && isLine ? \".25em\" : offsetHeight,\n\t\t\t\twidth: vertical && isLine ? \".25em\" : offsetWidth,\n\t\t\t\ttransform: `translate(${offsetLeft}px, ${offsetTop}px)`,\n\t\t\t};\n\t\t}, 16);\n\t}, [state.active, bar]);\n\n\tuseEffect(() => {\n\t\tif (active === undefined || state.active === active) return;\n\n\t\topen(active);\n\t}, [active]);\n\n\tuseEffect(() => {\n\t\tif (hideMore) return;\n\t\treturn () => {\n\t\t\tnavRefs.current?.map(unobserve);\n\t\t};\n\t}, [state.tabs.length]);\n\n\tuseEffect(() => {\n\t\tif (!navsRef.current || vertical) return;\n\t\tnavsRef.current.addEventListener(\"wheel\", handleMouseWheel, {\n\t\t\tpassive: false,\n\t\t});\n\n\t\treturn () => {\n\t\t\tif (!navsRef.current) return;\n\t\t\tnavsRef.current.removeEventListener(\"wheel\", handleMouseWheel);\n\t\t};\n\t}, [navsRef.current]);\n\n\tuseImperativeHandle(ref, () => ({\n\t\topen,\n\t\tclose,\n\t\tadd,\n\t\tnavs: navsRef,\n\t}));\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\n\t\t\t\t\"i-tabs\",\n\t\t\t\t{ flex: vertical, [`i-tabs-${type}`]: type !== \"default\" },\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...rest}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={classNames(\"i-tab-navs-container\", {\n\t\t\t\t\t\"i-tab-navs-vertical\": vertical,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t{prepend}\n\n\t\t\t\t<div ref={navsRef} className='i-tab-navs'>\n\t\t\t\t\t{state.tabs.map((tab, i) => {\n\t\t\t\t\t\tconst { title, key = i, closable } = tab;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\tref={(ref) =>\n\t\t\t\t\t\t\t\t\t(navRefs.current[i] =\n\t\t\t\t\t\t\t\t\t\tref as HTMLAnchorElement)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName={classNames(\"i-tab-nav\", {\n\t\t\t\t\t\t\t\t\t\"i-tab-active\": state.active === key,\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tonClick={() => open(key)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{title}\n\n\t\t\t\t\t\t\t\t{closable && (\n\t\t\t\t\t\t\t\t\t<Helpericon\n\t\t\t\t\t\t\t\t\t\tas='i'\n\t\t\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\t\tclassName='i-tab-nav-close'\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\tclose(key);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\n\t\t\t\t\t{bar && (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tref={barRef}\n\t\t\t\t\t\t\tclassName={classNames(\"i-tab-navs-bar\", barClass)}\n\t\t\t\t\t\t\tstyle={state.barStyle}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{!hideMore && state.overflow && state.more.length > 0 && (\n\t\t\t\t\t<Popup\n\t\t\t\t\t\tarrow={false}\n\t\t\t\t\t\tposition={vertical ? \"right\" : \"bottom\"}\n\t\t\t\t\t\talign='end'\n\t\t\t\t\t\ttouchable\n\t\t\t\t\t\thideDelay={500}\n\t\t\t\t\t\tcontent={\n\t\t\t\t\t\t\t<div className='i-tabs-morelist pd-4'>\n\t\t\t\t\t\t\t\t{state.more.map((tab, i) => {\n\t\t\t\t\t\t\t\t\tconst { key = i, title } = tab;\n\t\t\t\t\t\t\t\t\tconst isActive = state.active === key;\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classNames(\"i-tab-nav\", {\n\t\t\t\t\t\t\t\t\t\t\t\t\"i-tab-active\": isActive,\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => open(key)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{renderMore(state.more)}\n\t\t\t\t\t</Popup>\n\t\t\t\t)}\n\n\t\t\t\t{append}\n\t\t\t</div>\n\n\t\t\t<div className='i-tab-contents'>\n\t\t\t\t{state.tabs.map((tab, i) => {\n\t\t\t\t\tconst { key = i, content } = tab;\n\t\t\t\t\tconst isActive = state.active === key;\n\t\t\t\t\tconst show =\n\t\t\t\t\t\tisActive ||\n\t\t\t\t\t\t(key !== undefined && state.cachedTabs.includes(key));\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\tshow && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\tclassName={classNames(\"i-tab-content\", {\n\t\t\t\t\t\t\t\t\t\"i-tab-active\": isActive,\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{content}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t);\n}) as CompositionTabs;\n\nTabs.Item = TabItem;\n\nexport default Tabs;\n","import { KeyboardArrowDownRound } from \"@ricons/material\";\nimport { useMemoizedFn } from \"ahooks\";\nimport classNames from \"classnames\";\nimport { MouseEvent, useState } from \"react\";\nimport Checkbox from \"../checkbox\";\nimport Icon from \"../icon\";\nimport { ITree, ITreeHeader, PropsTreeItem } from \"./type\";\n\ninterface ITreeList extends Omit<ITree, \"nodeProps\"> {\n\tnodeProps: {\n\t\tkey: string;\n\t\ttitle: string;\n\t\tchildren: string;\n\t};\n}\n\nexport function TreeList(props: ITreeList) {\n\tconst {\n\t\tdata = [],\n\t\tdepth = 0,\n\t\tround,\n\t\tstyle,\n\t\tclassName,\n\t\tparent,\n\t\tnodeProps,\n\t\t...restProps\n\t} = props;\n\n\tconst contents = data.map((item, i) => {\n\t\tconst { type } = item;\n\t\tconst title = item[nodeProps.title];\n\t\tconst itemKey =\n\t\t\titem[nodeProps.key] ||\n\t\t\t(parent?.key !== undefined ? `${parent.key}-${i}` : `${i}`);\n\n\t\titem.key = itemKey;\n\t\titem.parent = parent;\n\n\t\tif (type === \"title\") {\n\t\t\treturn (\n\t\t\t\t<div key={i} className='i-tree-group-title'>\n\t\t\t\t\t{title}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (type && type !== \"item\") {\n\t\t\treturn (\n\t\t\t\t<div key={i} className={`i-tree-type-${type}`}>\n\t\t\t\t\t{title}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<TreeItem\n\t\t\t\tkey={itemKey}\n\t\t\t\tindex={i}\n\t\t\t\titem={item}\n\t\t\t\tdepth={depth}\n\t\t\t\tnodeProps={nodeProps}\n\t\t\t\t{...restProps}\n\t\t\t/>\n\t\t);\n\t});\n\n\tif (depth > 0) return <>{contents}</>;\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\"i-tree\", className, {\n\t\t\t\t\"i-tree-round\": round,\n\t\t\t})}\n\t\t\tstyle={style}\n\t\t>\n\t\t\t{contents}\n\t\t</div>\n\t);\n}\n\nconst Header = (props: ITreeHeader) => {\n\tconst { as: Tag = \"a\", href, selected, children, ...restProps } = props;\n\n\tconst className = classNames(\"i-tree-item-header\", {\n\t\t\"i-tree-item-selected\": selected,\n\t});\n\n\tif (typeof Tag === \"string\") {\n\t\treturn (\n\t\t\t<Tag href={href} className={className} {...restProps}>\n\t\t\t\t{children}\n\t\t\t</Tag>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Tag to={href || \"\"} className={className} {...restProps}>\n\t\t\t{children}\n\t\t</Tag>\n\t);\n};\n\nexport const TreeItem = (props: PropsTreeItem) => {\n\tconst {\n\t\titem,\n\t\tdepth = 0,\n\t\tindex,\n\t\tselected,\n\t\tchecked = [],\n\t\tpartofs = {},\n\t\tcheckable,\n\t\tnodeProps,\n\t\trenderExtra,\n\t\tonItemClick,\n\t\tonItemSelect,\n\t\tonItemCheck,\n\t\t...restProps\n\t} = props;\n\n\tconst { as, key = \"\", href, icon, title, expanded, disabled } = item;\n\tconst children = item[nodeProps.children];\n\n\tconst [expand, setExpand] = useState(expanded);\n\n\tconst handleExpand = useMemoizedFn(\n\t\t(e: MouseEvent<HTMLElement>, fromToggle?: boolean) => {\n\t\t\tif (fromToggle) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\n\t\t\tif (disabled || !children?.length) return;\n\n\t\t\tsetExpand((v) => !v);\n\t\t}\n\t);\n\n\tconst handleItemClick = useMemoizedFn((e: MouseEvent<HTMLElement>) => {\n\t\tif (disabled) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\treturn;\n\t\t}\n\n\t\thandleExpand(e);\n\t\tonItemClick?.(item, e);\n\t\tonItemSelect?.(key, item);\n\t});\n\n\tconst handleItemCheck = (checked) => onItemCheck?.(item, checked, []);\n\tconst itemChecked = checked.includes(key);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\"i-tree-item\", {\n\t\t\t\t\"i-tree-expand\": expand,\n\t\t\t})}\n\t\t>\n\t\t\t<Header\n\t\t\t\tas={as}\n\t\t\t\thref={href}\n\t\t\t\tstyle={{ paddingLeft: `${depth * 1.5 + 0.5}em` }}\n\t\t\t\tselected={selected === key}\n\t\t\t\tonClick={handleItemClick}\n\t\t\t>\n\t\t\t\t{checkable && (\n\t\t\t\t\t<Checkbox.Item\n\t\t\t\t\t\tvalue={itemChecked}\n\t\t\t\t\t\tpartof={!itemChecked && partofs[key]}\n\t\t\t\t\t\tclassName='i-tree-checkbox'\n\t\t\t\t\t\tonChange={handleItemCheck}\n\t\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{icon && <span className='i-tree-item-icon'>{icon}</span>}\n\n\t\t\t\t<span className='i-tree-item-title'>{title}</span>\n\n\t\t\t\t{renderExtra?.(item)}\n\n\t\t\t\t{children && (\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticon={<KeyboardArrowDownRound />}\n\t\t\t\t\t\tclassName='i-tree-toggle'\n\t\t\t\t\t\tonClick={(e) => handleExpand(e, true)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</Header>\n\n\t\t\t{children?.length && (\n\t\t\t\t<div className='i-tree-item-content'>\n\t\t\t\t\t<TreeList\n\t\t\t\t\t\tdata={children}\n\t\t\t\t\t\tdepth={depth + 1}\n\t\t\t\t\t\tselected={selected}\n\t\t\t\t\t\tcheckable={checkable}\n\t\t\t\t\t\tparent={item}\n\t\t\t\t\t\tpartofs={partofs}\n\t\t\t\t\t\tchecked={checked}\n\t\t\t\t\t\tnodeProps={nodeProps}\n\t\t\t\t\t\trenderExtra={renderExtra}\n\t\t\t\t\t\tonItemClick={onItemClick}\n\t\t\t\t\t\tonItemSelect={onItemSelect}\n\t\t\t\t\t\tonItemCheck={onItemCheck}\n\t\t\t\t\t\t{...restProps}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import { useMemoizedFn, useReactive } from \"ahooks\";\nimport { forwardRef, useEffect, useImperativeHandle } from \"react\";\nimport \"./index.css\";\nimport { TreeList } from \"./item\";\nimport { ITree, ITreeItem, RefTree } from \"./type\";\n\nconst defaultNodeProps = {\n\tkey: \"key\",\n\ttitle: \"title\",\n\tchildren: \"children\",\n};\n\nconst Tree = forwardRef<RefTree, ITree>((props, ref) => {\n\tconst {\n\t\tdata = [],\n\t\tselected,\n\t\tchecked = [],\n\t\tdisabledRelated,\n\t\tnodeProps,\n\t\tonItemSelect,\n\t\tonItemCheck,\n\t\t...restProps\n\t} = props;\n\tconst state = useReactive({\n\t\tselected,\n\t\tchecked,\n\t\tpartofs: {} as Record<string, boolean>,\n\t\tnodeMaps: new Map(),\n\t});\n\tconst oNodeProps = Object.assign({}, defaultNodeProps, nodeProps);\n\n\tconst isChecked = (key?: string) => state.checked.includes(key || \"\");\n\n\tconst checkItem = useMemoizedFn(\n\t\t(item: ITreeItem, checked: boolean, direction?: \"root\" | \"leaf\") => {\n\t\t\tconst { key = \"\", parent, children } = item;\n\t\t\tconst shouldChanged = { [key]: checked };\n\t\t\tconst partofs = { [key]: false };\n\n\t\t\tif (disabledRelated) return [shouldChanged];\n\n\t\t\tif (checked) {\n\t\t\t\tif (parent && direction !== \"leaf\") {\n\t\t\t\t\tconst hasUnchecked = parent.children?.some(\n\t\t\t\t\t\t(o) => o.key !== key && !isChecked(o.key)\n\t\t\t\t\t);\n\n\t\t\t\t\tconst [changes, parts] = checkItem(parent, true, \"root\");\n\n\t\t\t\t\tif (!hasUnchecked) {\n\t\t\t\t\t\tObject.assign(shouldChanged, changes);\n\t\t\t\t\t}\n\n\t\t\t\t\tObject.assign(partofs, hasUnchecked ? parts : {}, {\n\t\t\t\t\t\t[parent.key as string]: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (children?.length && direction !== \"root\") {\n\t\t\t\t\tchildren.map((o) => {\n\t\t\t\t\t\tif (isChecked(o.key)) return;\n\n\t\t\t\t\t\tconst [changes] = checkItem(o, true, \"leaf\");\n\n\t\t\t\t\t\tObject.assign(shouldChanged, changes);\n\t\t\t\t\t\tpartofs[o.key as string] = false;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn [shouldChanged, partofs];\n\t\t\t}\n\n\t\t\tif (parent && direction !== \"leaf\") {\n\t\t\t\tconst [changes, parts] = checkItem(parent, false, \"root\");\n\n\t\t\t\tObject.assign(shouldChanged, changes);\n\n\t\t\t\tconst hasChecked = parent.children?.some(\n\t\t\t\t\t(o) => isChecked(o.key) && o.key !== key\n\t\t\t\t);\n\n\t\t\t\tObject.assign(partofs, hasChecked ? {} : parts, {\n\t\t\t\t\t[parent.key as string]: hasChecked,\n\t\t\t\t\t[key]: false,\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (children?.length && direction !== \"root\") {\n\t\t\t\tchildren.map((o) => {\n\t\t\t\t\tconst [changes] = checkItem(o, false, \"leaf\");\n\n\t\t\t\t\tif (!isChecked(o.key)) return;\n\n\t\t\t\t\tObject.assign(shouldChanged, changes);\n\t\t\t\t\tpartofs[o.key as string] = false;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn [shouldChanged, partofs];\n\t\t}\n\t);\n\n\tconst handleCheck = (item: ITreeItem, checked: boolean) => {\n\t\tconst [shouldChanged, partofs] = checkItem(item, checked);\n\t\tconst changedKeys = Object.keys(shouldChanged);\n\n\t\tstate.checked = checked\n\t\t\t? Array.from(new Set([...state.checked, ...changedKeys]))\n\t\t\t: state.checked.filter((k) => !changedKeys.includes(k));\n\n\t\tObject.assign(state.partofs, partofs);\n\n\t\tonItemCheck?.(item, checked, state.checked);\n\t};\n\n\tconst handleSelect = (key: string, item: ITreeItem) => {\n\t\tif (!props.selectable) return;\n\n\t\tstate.selected = key;\n\t\tonItemSelect?.(key, item);\n\t};\n\n\tuseEffect(() => {\n\t\tif (selected === undefined) return;\n\n\t\tstate.selected = selected;\n\t}, [selected]);\n\n\tuseEffect(() => {\n\t\tstate.nodeMaps.clear();\n\n\t\tconst { key, children } = oNodeProps;\n\t\tconst recursive = (nodes) => {\n\t\t\tnodes.map((o) => {\n\t\t\t\tstate.nodeMaps.set(o[key], o);\n\n\t\t\t\to[children]?.length > 0 && recursive(o[children]);\n\t\t\t});\n\t\t};\n\n\t\trecursive(data);\n\t}, [data]);\n\n\tuseImperativeHandle(ref, () => {\n\t\treturn {\n\t\t\tgetChecked: () => {\n\t\t\t\tconst items: ITreeItem[] = [];\n\t\t\t\tstate.checked.map((k) => {\n\t\t\t\t\tconst item = state.nodeMaps.get(k);\n\t\t\t\t\titems.push(item);\n\t\t\t\t});\n\t\t\t\treturn [state.checked, items];\n\t\t\t},\n\t\t\tgetSelected: () => {\n\t\t\t\tconst item = state.nodeMaps.get(state.selected);\n\t\t\t\treturn [state.selected, item];\n\t\t\t},\n\t\t\tgetPartofs: () => {\n\t\t\t\tconst items: ITreeItem[] = [];\n\t\t\t\tconst keys = Object.keys(state.partofs).filter((k) => {\n\t\t\t\t\tconst indeterminate = state.partofs[k];\n\n\t\t\t\t\tif (indeterminate) {\n\t\t\t\t\t\tconst item = state.nodeMaps.get(k);\n\t\t\t\t\t\titems.push(item);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn indeterminate;\n\t\t\t\t});\n\n\t\t\t\treturn [keys, items];\n\t\t\t},\n\t\t};\n\t});\n\n\treturn (\n\t\t<TreeList\n\t\t\tdata={data}\n\t\t\tselected={state.selected}\n\t\t\tchecked={state.checked}\n\t\t\tpartofs={state.partofs}\n\t\t\tnodeProps={oNodeProps}\n\t\t\tonItemCheck={handleCheck}\n\t\t\tonItemSelect={handleSelect}\n\t\t\t{...restProps}\n\t\t/>\n\t);\n});\n\nexport default Tree;\n","import { TFileType } from \"@p/js/usePreview/type\";\nimport { formatBytes, getFileType } from \"@p/js/utils\";\nimport { ListAltRound } from \"@ricons/material\";\nimport { title } from \"radash\";\nimport Icon from \"../icon\";\nimport Image from \"../image\";\nimport Helpericon from \"../utils/helpericon\";\nimport { IUploadItem } from \"./type\";\n\nexport default function RenderFile(props: IUploadItem) {\n\tconst { mode, index, file, onRemove, onPreview } = props;\n\n\tif (!file) return \"\";\n\tconst { name, size, url, src } = file;\n\tconst type = getFileType(name, file.type);\n\n\tconst CloseBtn = (\n\t\t<Helpericon\n\t\t\tactive\n\t\t\tclassName='i-upload-delete'\n\t\t\tonClick={(e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tonRemove(index);\n\t\t\t}}\n\t\t/>\n\t);\n\n\tswitch (mode) {\n\t\tcase \"card\":\n\t\t\tlet node = <></>;\n\n\t\t\tswitch (type) {\n\t\t\t\tcase TFileType.IMAGE:\n\t\t\t\t\tnode = (\n\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\tlazyload\n\t\t\t\t\t\t\tsrc={url || src}\n\t\t\t\t\t\t\tfit='cover'\n\t\t\t\t\t\t\tusePreview={false}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase TFileType.VIDEO:\n\t\t\t\t\tnode = <video src={url || src} preload='none' />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tnode = (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Icon icon={<ListAltRound />} />\n\t\t\t\t\t\t\t<span className='i-upload-file-name'>\n\t\t\t\t\t\t\t\t{title(name)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\ttitle={name}\n\t\t\t\t\tclassName='i-upload-item-card'\n\t\t\t\t\tonClick={() => onPreview?.(index)}\n\t\t\t\t>\n\t\t\t\t\t{node}\n\n\t\t\t\t\t{CloseBtn}\n\t\t\t\t</div>\n\t\t\t);\n\t\tdefault:\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tclassName='i-upload-item'\n\t\t\t\t\tonClick={() => onPreview?.(index)}\n\t\t\t\t>\n\t\t\t\t\t<span>{name}</span>\n\n\t\t\t\t\t<i className='i-upload-size'>{formatBytes(size ?? 0)}</i>\n\n\t\t\t\t\t{CloseBtn}\n\t\t\t\t</div>\n\t\t\t);\n\t}\n}\n","import usePreview from \"@p/js/usePreview\";\nimport { TPreviewItem } from \"@p/js/usePreview/type\";\nimport { CloudUploadTwotone, PlusSharp } from \"@ricons/material\";\nimport { useReactive } from \"ahooks\";\nimport classNames from \"classnames\";\nimport { uid } from \"radash\";\nimport {\n\tCSSProperties,\n\tChangeEvent,\n\tFragment,\n\tforwardRef,\n\tuseEffect,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseRef,\n} from \"react\";\nimport Button from \"../button\";\nimport Icon from \"../icon\";\nimport InputContainer from \"../input/container\";\nimport \"./index.css\";\nimport renderFile from \"./renderFile\";\nimport { IFile, IUpload, RefUpload } from \"./type\";\n\nconst Upload = forwardRef<RefUpload, IUpload>((props, ref): JSX.Element => {\n\tconst {\n\t\tlabel,\n\t\tlabelInline,\n\t\tvalue,\n\t\tfiles = [],\n\t\tplaceholder,\n\t\tstatus = \"normal\",\n\t\tmessage,\n\t\tclassName,\n\t\tstyle,\n\t\tchildren,\n\t\tmode = \"default\",\n\t\tcardSize = \"4em\",\n\t\tdisabled,\n\t\tlimit = props.multiple ? Infinity : 1,\n\t\tmultiple,\n\t\trenderItem = renderFile,\n\t\tshouldUpload = () => true,\n\t\tuploader,\n\t\tonChange,\n\t\tonFilesChange,\n\t\tonUpload,\n\t\t...restProps\n\t} = props;\n\n\tconst state = useReactive({\n\t\tfiles,\n\t\tvalue,\n\t\tstatus,\n\t\tmessage,\n\t\tupdate: 0,\n\t});\n\tconst inputRef = useRef<HTMLInputElement>(null);\n\tconst preview = usePreview();\n\n\tconst trigger = useMemo(() => {\n\t\tif (children) return children;\n\n\t\tswitch (mode) {\n\t\t\tcase \"card\":\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName='i-upload-card-btn color-5'\n\t\t\t\t\t\tsquare\n\t\t\t\t\t\tflat\n\t\t\t\t\t\toutline\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon icon={<PlusSharp />} />\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<Button className='i-upload-btn' disabled={disabled}>\n\t\t\t\t\t\t<Icon icon={<CloudUploadTwotone />} /> Upload\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t}\n\t}, [mode, children]);\n\n\tconst handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n\t\tconst files = Array.from(e.target.files || []) as IFile[];\n\t\tconst { files: before } = state;\n\t\tconst changed: IFile[] = [];\n\n\t\tfiles.map((f) => {\n\t\t\tconst { name, size, type } = f;\n\t\t\tconst same = before.find((pf) => {\n\t\t\t\tconst { name: n, size: s, type: t } = pf;\n\t\t\t\treturn n === name && s === size && t === type;\n\t\t\t});\n\n\t\t\tconst src = URL.createObjectURL(f);\n\t\t\tf.src = src;\n\t\t\tstate.update += 1;\n\n\t\t\tObject.assign(f, {\n\t\t\t\tuid: uid(7),\n\t\t\t\tsrc: f.src || f.name,\n\t\t\t});\n\t\t\t!same && changed.push(f);\n\t\t});\n\n\t\tconst after = [...before, ...changed];\n\n\t\tObject.assign(state, {\n\t\t\tfiles: multiple ? after.slice(0, limit) : [after.at(-1)],\n\t\t\tstatus,\n\t\t\tmessage,\n\t\t});\n\n\t\tonFilesChange?.(state.files, changed, e);\n\t\tonChange?.(state.files, e);\n\n\t\thandleUpload(changed);\n\t\tinputRef.current && (inputRef.current.value = \"\");\n\t};\n\n\tconst handleRemove = (i: number) => {\n\t\tconst [...files] = state.files;\n\n\t\tconst changed = files.splice(i, 1);\n\t\tURL.revokeObjectURL(changed[0]?.src || \"\");\n\n\t\tstate.files = files;\n\t\tonFilesChange?.(files, changed);\n\t\tonChange?.(files);\n\n\t\tinputRef.current && (inputRef.current.value = \"\");\n\t};\n\n\tconst handleUpload = async (files: IFile[]) => {\n\t\tif (!uploader) return;\n\n\t\tfiles.forEach(async (file) => {\n\t\t\tif (!shouldUpload(file)) return;\n\n\t\t\tconst result = await uploader(file);\n\t\t\tconst i = state.files.findIndex((f) => f.uid === result.uid);\n\t\t\ti > -1 && (state.files[i] = result);\n\n\t\t\tresult?.status === \"completed\" && onUpload?.(result);\n\t\t});\n\t};\n\n\tconst handlePreview = (i: number) => {\n\t\tpreview({ items: state.files as TPreviewItem[], initial: i });\n\t};\n\n\tuseEffect(() => {\n\t\tObject.assign(state, {\n\t\t\tstatus,\n\t\t\tmessage,\n\t\t});\n\t}, [status, message]);\n\n\tuseEffect(() => {\n\t\tstate.value = value;\n\t}, [value]);\n\n\tuseImperativeHandle(\n\t\tref,\n\t\t() => ({\n\t\t\tgetFileList: () => state.files,\n\t\t}),\n\t\t[]\n\t);\n\n\tconst { message: msg, files: currentFiles } = state;\n\n\treturn (\n\t\t<InputContainer\n\t\t\tlabel={label}\n\t\t\tlabelInline={labelInline}\n\t\t\tclassName={classNames(\"i-input-label-file\", className)}\n\t\t\tstyle={style}\n\t\t>\n\t\t\t<input\n\t\t\t\t{...restProps}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tref={inputRef}\n\t\t\t\ttype='file'\n\t\t\t\tclassName='i-input-file-hidden'\n\t\t\t\tmultiple={multiple}\n\t\t\t\tonChange={handleChange}\n\t\t\t/>\n\n\t\t\t<div\n\t\t\t\tclassName={classNames(\"i-upload-inner\", {\n\t\t\t\t\t[`i-upload-${mode}`]: mode !== \"default\",\n\t\t\t\t})}\n\t\t\t\tstyle={{ [\"--upload-card-size\"]: cardSize } as CSSProperties}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName='i-upload-list'\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{currentFiles?.map((file: File, i: number) => (\n\t\t\t\t\t\t<Fragment key={i}>\n\t\t\t\t\t\t\t{renderFile({\n\t\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\t\tfile,\n\t\t\t\t\t\t\t\tmode,\n\t\t\t\t\t\t\t\tonRemove: handleRemove,\n\t\t\t\t\t\t\t\tonPreview: handlePreview,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\n\t\t\t\t{msg && <span className='i-upload-message'>{msg}</span>}\n\n\t\t\t\t{currentFiles.length < limit && trigger}\n\t\t\t</div>\n\t\t</InputContainer>\n\t);\n});\n\nexport default Upload;\n"],"names":["TIMEOUT","listener","e","target","parent","closest","$box","$ripple","document","createElement","className","append","createRipple","rect","getBoundingClientRect","size","Math","max","width","height","style","cssText","pageX","left","pageY","top","insertAdjacentElement","offsetHeight","classList","add","setTimeout","remove","triggerRipple","Loading","props","icon","text","restProps","_jsxs","classNames","fontSize","children","_jsx","stroke","viewBox","xmlns","cx","cy","r","fill","strokeWidth","strokeLinecap","strokeDasharray","strokeDashoffset","formatClass","outline","flat","loading","disabled","block","round","square","secondary","classnames","Button","forwardRef","ref","as","As","href","ripple","onClick","childNodes","key","attrs","stopPropagation","useEffect","documentElement","dataset","addEventListener","to","Toggle","active","activeClass","after","onToggle","state","useReactive","done","toggle","useCallback","hasAfter","undefined","nextActive","Object","assign","Group","vertical","Icon","rotate","isValidElement","elProps","transform","cloneElement","ToTop","SkipPreviousRound","Affix","position","right","bottom","offset","getContainer","body","hidden","setHidden","useState","hijackChildren","useMemo","Children","map","node","type","container","scrollTo","behavior","debounce","delay","scrollTop","removeEventListener","Badge","content","contentClass","dot","dotSize","rounded","Area","name","Header","Footer","Banner","Tailer","Card","shadow","border","slots","nodes","child","header","banner","footer","tailer","TFileType","getPosition","$source","$popup","options","refWindow","gap","align","arrowX","arrowY","arrowPos","rectT","rectC","w","window","innerWidth","h","innerHeight","tl","tt","tr","tb","tw","th","ch","cw","rectPa","offsetParent","offsetLeft","offsetTop","y","x","computePosition","containerSize","targetSize","targetOffset","contentSize","xl","xr","yt","yb","getPointPosition","wh","ww","centerPoint","result","formatOption","option","includes","label","value","formatNumber","precision","thousand","toFixed","points","split","integer","replace","length","renderNode","div","root","createRoot","sto","render","unmount","clearTimeout","getSuffixByUrl","url","match","getFileType","suffix","startsWith","formatBytes","bytes","decimals","dm","i","floor","log","parseFloat","pow","clamp","min","CheckboxItem","status","message","partof","onChange","handleChange","useMemoizedFn","checked","Checkbox","optionInline","labelInline","required","formattedOptions","opt","group","findIndex","item","push","splice","Item","Helpericon","CloseRound","uid","Collapse","items","multiple","headerClickable","renderToggle","MinusRound","PlusRound","onCollapse","collapses","nodeProps","title","handleToggle","Array","isArray","k","isActive","handleHeaderClick","Empty","InboxTwotone","getCellStyle","justify","col","row","colSpan","rowSpan","gridArea","insetInline","Cell","column","data","onCellClick","onCellDoubleClick","id","fixed","onDoubleClick","MouseMoveEvents","Set","MouseUpEvents","useMouseMove","delete","useMouseUp","useIntersectionObserver","configs","WM","WeakMap","IO","IntersectionObserver","entries","entry","callback","get","isIntersecting","observe","set","unobserve","disconnect","Resize","index","onWidthChange","resizing","handleMouseDown","offsetWidth","preventDefault","onMouseDown","values","Arrow","d","Sorter","Row","columns","onRowClick","resizable","sortBy","sortType","onHeaderClick","sorter","renderHeader","order","insetBlockStart","Datagrid","striped","cellPadding","empty","renderLoading","onSort","onScroll","onResize","useRef","scrollbar","rows","widths","styles","o","join","fws","isLeft","sum","slice","reduce","pre","cur","handleWidthChange","ws","prevSortBy","prevSortType","types","t","getNextSorter","find","sortFn","a","b","sorted","sort","reverse","current","tds","querySelector","from","scrollBarStyle","ScrollContainer","autoHide","autoHeight","autoHeightMax","renderView","InputContainer","tip","Input","initValue","prepend","clear","hideVisible","onEnter","visible","v","handleKeydown","code","HelperIcon","VisibilityRound","VisibilityOffRound","inputProps","onKeyDown","clearable","showHelper","Number","step","Infinity","hideControl","onInput","onBlur","rest","getRangeNumber","getFormatNumber","formatInputValue","replaceAll","handleOperate","param","Textarea","autoSize","refTextarea","ta","firstChild","scrollHeight","Range","placeholder","range","handleSwitch","SyncAltRound","margin","Content","trigger","arrow","arrowProps","arrowCSS","pos","createPortal","Popup","showDelay","hideDelay","touchable","fitSize","watchResize","clickOutside","referToWindow","onVisibleChange","triggerRef","contentRef","show","toggling","useClickAway","tar","isContain","contains","handleShow","opacity","handleHide","action","eventMaps","useCreation","click","hover","onMouseEnter","onMouseLeave","focus","onFocus","contextmenu","onContextMenu","none","contentTouch","events","ResizeObserver","useResizeObserver","useLayoutEffect","_Fragment","Dates","month","weeks","renderDate","date","disabledDate","onDateClick","today","dayjs","dates","lastDateOfLastMonth","endOf","$W","$D","lastMonthDates","whatever","lastDate","handleDateClick","week","isSame","isSameMonth","isToday","MONTHS","YearMonth","unitMonth","unitYear","renderYear","renderMonth","year","Panel","m","selectedYear","years","selectable","$years","handleOperateMonth","next","getMoreYears","throttle","interval","isUp","deltaY","_","KeyboardArrowLeftRound","KeyboardArrowRightRound","onWheel","handleChangeMonth","extend","customParseFormat","FORMATTYPES","Datepicker","format","popupProps","setActive","dayJsValue","isValid","handleSetDate","CalendarMonthTwotone","Description","colon","labelWidth","labelAlign","equally","gridTemplateColumns","textAlign","Fragment","gridColumn","gridRow","Drawer","backdropClosable","hideCloseButton","onClose","setShow","toggable","handleBackdropClick","alignItems","List","renderLabel","Virtual","itemKey","renderItem","VList","ListItem","Dropdown","minWidth","more","moreProps","Li","Flex","Component","direction","wrap","gridColumns","justifyContent","flexDirection","flexWrap","Context","createContext","IFormInstance","rules","constructor","this","field","PubSub","publish","keys","validate","rule","validator","isAllValid","Form","form","initialValues","Provider","DefaultContent","footerLeft","okButtonProps","onOk","cancelButtonProps","showHeader","renderFooter","propsOk","propsCancel","Modal","closable","hideBackdrop","customized","bounced","setBounced","useForm","formRef","Field","update","useContext","args","subscribe","evt","unsubscribe","HookModal","useImperativeHandle","config","Text","Tag","weight","decoration","gradient","gradients","background","backgroundClip","fontWeight","textDecoration","Circle","pathLength","count","decimal","duration","easing","n","setN","number","z","start","performance","now","diff","raf","requestAnimationFrame","loop","percent","cancelAnimationFrame","pass","animate","Time","seconds","zero","units","time","l","unshift","formatTime","Line","barClass","dragging","renderCursor","Progress","draggable","toFixedValue","handleMouseMove","handleMouseUp","Video","hideControls","autoplay","muted","volume","useOriginControls","timeProgressProps","volumeProgressProps","onFullScreenChange","playing","volumeCache","isFullscreen","$v","timeUpdateListener","paused","currentTime","playChangeListener","fsChangeListener","parentElement","fullscreenElement","volumeChangeListener","handlePlay","play","pause","handleStop","handleFullscreen","el","exitFullscreen","requestFullscreen","stop","fullscreen","getVideo","onCanPlay","controls","PauseRound","PlayArrowRound","StopRound","FullscreenExitRound","FullscreenRound","VolumeOffRound","VolumeDownRound","renderFile","IMAGE","src","VIDEO","FeedOutlined","initial","DefaultRenderFile","onRotate","onZoom","scale","translate","box","files","file","isImage","before","handleRotate","deg","handleMouseWheel","AspectRatioRound","OpenInNewRound","download","FileDownloadOutlined","RotateRightRound","RotateLeftRound","usePreview","modalProps","unMount","Image","initSize","lazyload","fallback","HideImageTwotone","fit","previewable","onLoad","onError","preview","setAttribute","iSize","objectFit","err","img","handleClick","AlignMap","center","GlobalConfig","ItemDefaultConfig","createContainer","handler","callout","close","queue","heights","tops","onShow","bind","onHide","timer","renderItems","MessageItem","alignSelf","useModal","open","Page","page","setLoading","async","Pagination","defaultPage","total","sibling","prev","simple","jumper","renderEllipsis","MoreHorizRound","renderPage","setPage","totalPage","ceil","end","handlePageChange","p","Promise","resolve","defaultOk","defaultCancel","Popconfirm","InfoOutlined","extra","ok","cancel","popconfirmContent","RadioItem","Radio","dotClass","Options","val","filter","filterPlaceholder","onSelect","onFilter","SearchRound","CheckRound","displayValue","maxDisplay","flatMap","activeOptions","Select","hideClear","inputValue","filterValue","filterOptions","fv","filterFn","changeValue","handleSelect","handleFilterChange","hasValue","readOnly","UnfoldMoreRound","Divider","STATUS","defaultRenderIcon","renderIcon","line","Step","steps","transition","itemHeight","selfStyle","Swiper","display","scroll","pauseOnHover","dragOffset","indicator","renderIndicator","onBeforeSwipe","onAfterSwipe","listRef","timerRef","swipable","dragStart","initialized","displayItems","listSize","list","head","offsetPercent","trackStyle","indicatorsLoop","clearTimer","swipeTo","reset","lastDisplay","swipeNext","swipePrev","clientY","clientX","dragEnd","part","absOffset","abs","onMouseOver","itemProps","Tabs","tabs","bar","hideMore","renderMore","onTabChange","navRefs","barRef","navsRef","prevActive","barStyle","cachedTabs","overflow","useSize","keepDOM","cloned","pick","String","tab","tkey","scrollBy","deltaX","scrollWidth","nav","intersecting","isLine","passive","navs","flex","TreeList","depth","contents","TreeItem","selected","partofs","checkable","renderExtra","onItemClick","onItemSelect","onItemCheck","expanded","expand","setExpand","handleExpand","fromToggle","handleItemClick","itemChecked","paddingLeft","KeyboardArrowDownRound","defaultNodeProps","Tree","disabledRelated","nodeMaps","Map","oNodeProps","isChecked","checkItem","shouldChanged","hasUnchecked","some","changes","parts","hasChecked","recursive","getChecked","getSelected","getPartofs","indeterminate","changedKeys","RenderFile","mode","onRemove","onPreview","CloseBtn","preload","ListAltRound","Upload","cardSize","limit","shouldUpload","uploader","onFilesChange","onUpload","inputRef","PlusSharp","CloudUploadTwotone","handleRemove","changed","URL","revokeObjectURL","handleUpload","forEach","f","handlePreview","getFileList","msg","currentFiles","same","pf","s","createObjectURL","at"],"mappings":"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"}